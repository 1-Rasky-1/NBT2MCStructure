(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function a(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerpolicy&&(i.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?i.credentials="include":r.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(r){if(r.ep)return;r.ep=!0;const i=a(r);fetch(r.href,i)}})();var go=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof{}<"u"?{}:typeof self<"u"?self:{};function wo(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var a=function n(){if(this instanceof n){var r=[null];r.push.apply(r,arguments);var i=Function.bind.apply(e,r);return new i}return e.apply(this,arguments)};a.prototype=e.prototype}else a={};return Object.defineProperty(a,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var r=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(a,n,r.get?r:{enumerable:!0,get:function(){return t[n]}})}),a}const Eo={},bo=Object.freeze(Object.defineProperty({__proto__:null,default:Eo},Symbol.toStringTag,{value:"Module"})),Cr=wo(bo);var ja={},_o={get exports(){return ja},set exports(t){ja=t}};function _i(t,e){const a=t.split("/");let n=0;if(a[n]===""){for(;e[".."]!==void 0;)e=e[".."];n++}for(;n<a.length;n++)e=e[a[n]];return e}function Ht(t){if(typeof t=="string")return{type:t};if(Array.isArray(t))return{type:t[0],typeArgs:t[1]};if(typeof t.type=="string")return t;throw new Error("Not a fieldinfo")}function Po(t,e,{count:a,countType:n},r){let i=0,l=0;return typeof a=="number"?i=a:typeof a<"u"?i=_i(a,r):typeof n<"u"?{size:l,value:i}=en(()=>this.read(t,e,Ht(n),r),"$count"):i=0,{count:i,size:l}}function So(t,e,a,{count:n,countType:r},i){return typeof n<"u"&&t!==n||typeof r<"u"&&(a=this.write(t,e,a,Ht(r),i)),a}function $o(t,{count:e,countType:a},n){return typeof e>"u"&&typeof a<"u"?en(()=>this.sizeOf(t,Ht(a),n),"$count"):0}function Pi(t,e){throw t.field=t.field?e+"."+t.field:e,t}function Si(t,e){try{return t()}catch(a){e(a)}}function en(t,e){return Si(t,a=>Pi(a,e))}class Io extends Error{constructor(e){super(e),this.name=this.constructor.name,this.message=e,Error.captureStackTrace!=null&&Error.captureStackTrace(this,this.constructor.name)}}let Ro=class extends Io{constructor(e){super(e),this.partialReadError=!0}};var Ir={getField:_i,getFieldInfo:Ht,addErrorField:Pi,getCount:Po,sendCount:So,calcCount:$o,tryCatch:Si,tryDoc:en,PartialReadError:Ro},Nt={},To={get exports(){return Nt},set exports(t){Nt=t}};(function(t,e){var a=200,n="Expected a function",r="__lodash_hash_undefined__",i=1,l=2,o=1/0,h=9007199254740991,y="[object Arguments]",v="[object Array]",w="[object Boolean]",_="[object Date]",f="[object Error]",p="[object Function]",P="[object GeneratorFunction]",I="[object Map]",m="[object Number]",R="[object Object]",A="[object Promise]",C="[object RegExp]",L="[object Set]",V="[object String]",Y="[object Symbol]",W="[object WeakMap]",H="[object ArrayBuffer]",X="[object DataView]",te="[object Float32Array]",Z="[object Float64Array]",K="[object Int8Array]",Q="[object Int16Array]",ae="[object Int32Array]",me="[object Uint8Array]",fe="[object Uint8ClampedArray]",ve="[object Uint16Array]",ce="[object Uint32Array]",ie=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,de=/^\w*$/,ge=/^\./,Fe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ee=/[\\^$.*+?()[\]{}|]/g,He=/\\(\\)?/g,B=/^\[object .+?Constructor\]$/,D=/^(?:0|[1-9]\d*)$/,M={};M[te]=M[Z]=M[K]=M[Q]=M[ae]=M[me]=M[fe]=M[ve]=M[ce]=!0,M[y]=M[v]=M[H]=M[w]=M[X]=M[_]=M[f]=M[p]=M[I]=M[m]=M[R]=M[C]=M[L]=M[V]=M[W]=!1;var ee=typeof{}=="object"&&{}&&{}.Object===Object&&{},ne=typeof self=="object"&&self&&self.Object===Object&&self,g=ee||ne||Function("return this")(),S=e&&!e.nodeType&&e,k=S&&!0&&t&&!t.nodeType&&t,G=k&&k.exports===S,be=G&&ee.process,se=function(){try{return be&&be.binding("util")}catch{}}(),ye=se&&se.isTypedArray;function We(c,T,U,J){var ue=-1,re=c?c.length:0;for(J&&re&&(U=c[++ue]);++ue<re;)U=T(U,c[ue],ue,c);return U}function Le(c,T){for(var U=-1,J=c?c.length:0;++U<J;)if(T(c[U],U,c))return!0;return!1}function Je(c){return function(T){return T==null?void 0:T[c]}}function Ze(c,T,U,J,ue){return ue(c,function(re,$e,Be){U=J?(J=!1,re):T(U,re,$e,Be)}),U}function Pe(c,T){for(var U=-1,J=Array(c);++U<c;)J[U]=T(U);return J}function Ce(c){return function(T){return c(T)}}function qe(c,T){return c==null?void 0:c[T]}function Ve(c){var T=!1;if(c!=null&&typeof c.toString!="function")try{T=!!(c+"")}catch{}return T}function rr(c){var T=-1,U=Array(c.size);return c.forEach(function(J,ue){U[++T]=[ue,J]}),U}function d(c,T){return function(U){return c(T(U))}}function s(c){var T=-1,U=Array(c.size);return c.forEach(function(J){U[++T]=J}),U}var u=Array.prototype,E=Function.prototype,F=Object.prototype,N=g["__core-js_shared__"],q=function(){var c=/[^.]+$/.exec(N&&N.keys&&N.keys.IE_PROTO||"");return c?"Symbol(src)_1."+c:""}(),pe=E.toString,Ie=F.hasOwnProperty,Re=F.toString,Se=RegExp("^"+pe.call(Ie).replace(Ee,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Te=g.Symbol,dt=g.Uint8Array,aa=F.propertyIsEnumerable,na=u.splice,ia=d(Object.keys,Object),et=qr(g,"DataView"),tr=qr(g,"Map"),rt=qr(g,"Promise"),jr=qr(g,"Set"),tt=qr(g,"WeakMap"),pr=qr(Object,"create"),pt=Or(et),sa=Or(tr),vt=Or(rt),oa=Or(jr),mt=Or(tt),O=Te?Te.prototype:void 0,b=O?O.valueOf:void 0,x=O?O.toString:void 0;function z(c){var T=-1,U=c?c.length:0;for(this.clear();++T<U;){var J=c[T];this.set(J[0],J[1])}}function j(){this.__data__=pr?pr(null):{}}function oe(c){return this.has(c)&&delete this.__data__[c]}function le(c){var T=this.__data__;if(pr){var U=T[c];return U===r?void 0:U}return Ie.call(T,c)?T[c]:void 0}function _e(c){var T=this.__data__;return pr?T[c]!==void 0:Ie.call(T,c)}function Ne(c,T){var U=this.__data__;return U[c]=pr&&T===void 0?r:T,this}z.prototype.clear=j,z.prototype.delete=oe,z.prototype.get=le,z.prototype.has=_e,z.prototype.set=Ne;function Ae(c){var T=-1,U=c?c.length:0;for(this.clear();++T<U;){var J=c[T];this.set(J[0],J[1])}}function we(){this.__data__=[]}function De(c){var T=this.__data__,U=vr(T,c);if(U<0)return!1;var J=T.length-1;return U==J?T.pop():na.call(T,U,1),!0}function Ue(c){var T=this.__data__,U=vr(T,c);return U<0?void 0:T[U][1]}function he(c){return vr(this.__data__,c)>-1}function ze(c,T){var U=this.__data__,J=vr(U,c);return J<0?U.push([c,T]):U[J][1]=T,this}Ae.prototype.clear=we,Ae.prototype.delete=De,Ae.prototype.get=Ue,Ae.prototype.has=he,Ae.prototype.set=ze;function xe(c){var T=-1,U=c?c.length:0;for(this.clear();++T<U;){var J=c[T];this.set(J[0],J[1])}}function je(){this.__data__={hash:new z,map:new(tr||Ae),string:new z}}function hr(c){return bt(this,c).delete(c)}function ar(c){return bt(this,c).get(c)}function nr(c){return bt(this,c).has(c)}function wr(c,T){return bt(this,c).set(c,T),this}xe.prototype.clear=je,xe.prototype.delete=hr,xe.prototype.get=ar,xe.prototype.has=nr,xe.prototype.set=wr;function ir(c){var T=-1,U=c?c.length:0;for(this.__data__=new xe;++T<U;)this.add(c[T])}function Xe(c){return this.__data__.set(c,r),this}function sr(c){return this.__data__.has(c)}ir.prototype.add=ir.prototype.push=Xe,ir.prototype.has=sr;function Ge(c){this.__data__=new Ae(c)}function cr(){this.__data__=new Ae}function Tr(c){return this.__data__.delete(c)}function yt(c){return this.__data__.get(c)}function gt(c){return this.__data__.has(c)}function Ur(c,T){var U=this.__data__;if(U instanceof Ae){var J=U.__data__;if(!tr||J.length<a-1)return J.push([c,T]),this;U=this.__data__=new xe(J)}return U.set(c,T),this}Ge.prototype.clear=cr,Ge.prototype.delete=Tr,Ge.prototype.get=yt,Ge.prototype.has=gt,Ge.prototype.set=Ur;function Mr(c,T){var U=br(c)||xn(c)?Pe(c.length,String):[],J=U.length,ue=!!J;for(var re in c)(T||Ie.call(c,re))&&!(ue&&(re=="length"||Rn(re,J)))&&U.push(re);return U}function vr(c,T){for(var U=c.length;U--;)if(On(c[U][0],T))return U;return-1}var wt=Xs(Ar),Et=eo();function Ar(c,T){return c&&Et(c,T,It)}function Sn(c,T){T=_t(T,c)?[T]:$n(T);for(var U=0,J=T.length;c!=null&&U<J;)c=c[Pt(T[U++])];return U&&U==J?c:void 0}function Ms(c){return Re.call(c)}function qs(c,T){return c!=null&&T in Object(c)}function la(c,T,U,J,ue){return c===T?!0:c==null||T==null||!St(c)&&!$t(T)?c!==c&&T!==T:ks(c,T,la,U,J,ue)}function ks(c,T,U,J,ue,re){var $e=br(c),Be=br(T),Me=v,Qe=v;$e||(Me=Er(c),Me=Me==y?R:Me),Be||(Qe=Er(T),Qe=Qe==y?R:Qe);var Ye=Me==R&&!Ve(c),er=Qe==R&&!Ve(T),Ke=Me==Qe;if(Ke&&!Ye)return re||(re=new Ge),$e||co(c)?In(c,T,U,J,ue,re):ro(c,T,Me,U,J,ue,re);if(!(ue&l)){var or=Ye&&Ie.call(c,"__wrapped__"),lr=er&&Ie.call(T,"__wrapped__");if(or||lr){var _r=or?c.value():c,mr=lr?T.value():T;return re||(re=new Ge),U(_r,mr,J,ue,re)}}return Ke?(re||(re=new Ge),to(c,T,U,J,ue,re)):!1}function Vs(c,T,U,J){var ue=U.length,re=ue,$e=!J;if(c==null)return!re;for(c=Object(c);ue--;){var Be=U[ue];if($e&&Be[2]?Be[1]!==c[Be[0]]:!(Be[0]in c))return!1}for(;++ue<re;){Be=U[ue];var Me=Be[0],Qe=c[Me],Ye=Be[1];if($e&&Be[2]){if(Qe===void 0&&!(Me in c))return!1}else{var er=new Ge;if(J)var Ke=J(Qe,Ye,Me,c,T,er);if(!(Ke===void 0?la(Ye,Qe,J,i|l,er):Ke))return!1}}return!0}function Hs(c){if(!St(c)||so(c))return!1;var T=Fn(c)||Ve(c)?Se:B;return T.test(Or(c))}function Ws(c){return $t(c)&&ca(c.length)&&!!M[Re.call(c)]}function Qs(c){return typeof c=="function"?c:c==null?mo:typeof c=="object"?br(c)?Js(c[0],c[1]):Gs(c):yo(c)}function Ks(c){if(!oo(c))return ia(c);var T=[];for(var U in Object(c))Ie.call(c,U)&&U!="constructor"&&T.push(U);return T}function Gs(c){var T=ao(c);return T.length==1&&T[0][2]?An(T[0][0],T[0][1]):function(U){return U===c||Vs(U,c,T)}}function Js(c,T){return _t(c)&&Tn(T)?An(Pt(c),T):function(U){var J=po(U,c);return J===void 0&&J===T?vo(U,c):la(T,J,void 0,i|l)}}function Ys(c){return function(T){return Sn(T,c)}}function Zs(c){if(typeof c=="string")return c;if(ha(c))return x?x.call(c):"";var T=c+"";return T=="0"&&1/c==-o?"-0":T}function $n(c){return br(c)?c:lo(c)}function Xs(c,T){return function(U,J){if(U==null)return U;if(!fa(U))return c(U,J);for(var ue=U.length,re=T?ue:-1,$e=Object(U);(T?re--:++re<ue)&&J($e[re],re,$e)!==!1;);return U}}function eo(c){return function(T,U,J){for(var ue=-1,re=Object(T),$e=J(T),Be=$e.length;Be--;){var Me=$e[c?Be:++ue];if(U(re[Me],Me,re)===!1)break}return T}}function In(c,T,U,J,ue,re){var $e=ue&l,Be=c.length,Me=T.length;if(Be!=Me&&!($e&&Me>Be))return!1;var Qe=re.get(c);if(Qe&&re.get(T))return Qe==T;var Ye=-1,er=!0,Ke=ue&i?new ir:void 0;for(re.set(c,T),re.set(T,c);++Ye<Be;){var or=c[Ye],lr=T[Ye];if(J)var _r=$e?J(lr,or,Ye,T,c,re):J(or,lr,Ye,c,T,re);if(_r!==void 0){if(_r)continue;er=!1;break}if(Ke){if(!Le(T,function(mr,xr){if(!Ke.has(xr)&&(or===mr||U(or,mr,J,ue,re)))return Ke.add(xr)})){er=!1;break}}else if(!(or===lr||U(or,lr,J,ue,re))){er=!1;break}}return re.delete(c),re.delete(T),er}function ro(c,T,U,J,ue,re,$e){switch(U){case X:if(c.byteLength!=T.byteLength||c.byteOffset!=T.byteOffset)return!1;c=c.buffer,T=T.buffer;case H:return!(c.byteLength!=T.byteLength||!J(new dt(c),new dt(T)));case w:case _:case m:return On(+c,+T);case f:return c.name==T.name&&c.message==T.message;case C:case V:return c==T+"";case I:var Be=rr;case L:var Me=re&l;if(Be||(Be=s),c.size!=T.size&&!Me)return!1;var Qe=$e.get(c);if(Qe)return Qe==T;re|=i,$e.set(c,T);var Ye=In(Be(c),Be(T),J,ue,re,$e);return $e.delete(c),Ye;case Y:if(b)return b.call(c)==b.call(T)}return!1}function to(c,T,U,J,ue,re){var $e=ue&l,Be=It(c),Me=Be.length,Qe=It(T),Ye=Qe.length;if(Me!=Ye&&!$e)return!1;for(var er=Me;er--;){var Ke=Be[er];if(!($e?Ke in T:Ie.call(T,Ke)))return!1}var or=re.get(c);if(or&&re.get(T))return or==T;var lr=!0;re.set(c,T),re.set(T,c);for(var _r=$e;++er<Me;){Ke=Be[er];var mr=c[Ke],xr=T[Ke];if(J)var Cn=$e?J(xr,mr,Ke,T,c,re):J(mr,xr,Ke,c,T,re);if(!(Cn===void 0?mr===xr||U(mr,xr,J,ue,re):Cn)){lr=!1;break}_r||(_r=Ke=="constructor")}if(lr&&!_r){var Rt=c.constructor,Tt=T.constructor;Rt!=Tt&&"constructor"in c&&"constructor"in T&&!(typeof Rt=="function"&&Rt instanceof Rt&&typeof Tt=="function"&&Tt instanceof Tt)&&(lr=!1)}return re.delete(c),re.delete(T),lr}function bt(c,T){var U=c.__data__;return io(T)?U[typeof T=="string"?"string":"hash"]:U.map}function ao(c){for(var T=It(c),U=T.length;U--;){var J=T[U],ue=c[J];T[U]=[J,ue,Tn(ue)]}return T}function qr(c,T){var U=qe(c,T);return Hs(U)?U:void 0}var Er=Ms;(et&&Er(new et(new ArrayBuffer(1)))!=X||tr&&Er(new tr)!=I||rt&&Er(rt.resolve())!=A||jr&&Er(new jr)!=L||tt&&Er(new tt)!=W)&&(Er=function(c){var T=Re.call(c),U=T==R?c.constructor:void 0,J=U?Or(U):void 0;if(J)switch(J){case pt:return X;case sa:return I;case vt:return A;case oa:return L;case mt:return W}return T});function no(c,T,U){T=_t(T,c)?[T]:$n(T);for(var J,ue=-1,$e=T.length;++ue<$e;){var re=Pt(T[ue]);if(!(J=c!=null&&U(c,re)))break;c=c[re]}if(J)return J;var $e=c?c.length:0;return!!$e&&ca($e)&&Rn(re,$e)&&(br(c)||xn(c))}function Rn(c,T){return T=T??h,!!T&&(typeof c=="number"||D.test(c))&&c>-1&&c%1==0&&c<T}function _t(c,T){if(br(c))return!1;var U=typeof c;return U=="number"||U=="symbol"||U=="boolean"||c==null||ha(c)?!0:de.test(c)||!ie.test(c)||T!=null&&c in Object(T)}function io(c){var T=typeof c;return T=="string"||T=="number"||T=="symbol"||T=="boolean"?c!=="__proto__":c===null}function so(c){return!!q&&q in c}function oo(c){var T=c&&c.constructor,U=typeof T=="function"&&T.prototype||F;return c===U}function Tn(c){return c===c&&!St(c)}function An(c,T){return function(U){return U==null?!1:U[c]===T&&(T!==void 0||c in Object(U))}}var lo=ua(function(c){c=ho(c);var T=[];return ge.test(c)&&T.push(""),c.replace(Fe,function(U,J,ue,re){T.push(ue?re.replace(He,"$1"):J||U)}),T});function Pt(c){if(typeof c=="string"||ha(c))return c;var T=c+"";return T=="0"&&1/c==-o?"-0":T}function Or(c){if(c!=null){try{return pe.call(c)}catch{}try{return c+""}catch{}}return""}function uo(c,T,U){var J=br(c)?We:Ze,ue=arguments.length<3;return J(c,Qs(T),U,ue,wt)}function ua(c,T){if(typeof c!="function"||T&&typeof T!="function")throw new TypeError(n);var U=function(){var J=arguments,ue=T?T.apply(this,J):J[0],re=U.cache;if(re.has(ue))return re.get(ue);var $e=c.apply(this,J);return U.cache=re.set(ue,$e),$e};return U.cache=new(ua.Cache||xe),U}ua.Cache=xe;function On(c,T){return c===T||c!==c&&T!==T}function xn(c){return fo(c)&&Ie.call(c,"callee")&&(!aa.call(c,"callee")||Re.call(c)==y)}var br=Array.isArray;function fa(c){return c!=null&&ca(c.length)&&!Fn(c)}function fo(c){return $t(c)&&fa(c)}function Fn(c){var T=St(c)?Re.call(c):"";return T==p||T==P}function ca(c){return typeof c=="number"&&c>-1&&c%1==0&&c<=h}function St(c){var T=typeof c;return!!c&&(T=="object"||T=="function")}function $t(c){return!!c&&typeof c=="object"}function ha(c){return typeof c=="symbol"||$t(c)&&Re.call(c)==Y}var co=ye?Ce(ye):Ws;function ho(c){return c==null?"":Zs(c)}function po(c,T,U){var J=c==null?void 0:Sn(c,T);return J===void 0?U:J}function vo(c,T){return c!=null&&no(c,T,qs)}function It(c){return fa(c)?Mr(c):Ks(c)}function mo(c){return c}function yo(c){return _t(c)?Je(Pt(c)):Ys(c)}t.exports=uo})(To,Nt);var Ao="Expected a function",$i="__lodash_hash_undefined__",Ii=1/0,Oo="[object Function]",xo="[object GeneratorFunction]",Fo="[object Symbol]",Co=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Do=/^\w*$/,Bo=/^\./,Lo=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,No=/[\\^$.*+?()[\]{}|]/g,zo=/\\(\\)?/g,jo=/^\[object .+?Constructor\]$/,Uo=typeof{}=="object"&&{}&&{}.Object===Object&&{},Mo=typeof self=="object"&&self&&self.Object===Object&&self,rn=Uo||Mo||Function("return this")();function qo(t,e){return t==null?void 0:t[e]}function ko(t){var e=!1;if(t!=null&&typeof t.toString!="function")try{e=!!(t+"")}catch{}return e}var Vo=Array.prototype,Ho=Function.prototype,Ri=Object.prototype,da=rn["__core-js_shared__"],Dn=function(){var t=/[^.]+$/.exec(da&&da.keys&&da.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),Ti=Ho.toString,tn=Ri.hasOwnProperty,Ai=Ri.toString,Wo=RegExp("^"+Ti.call(tn).replace(No,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Bn=rn.Symbol,Qo=Vo.splice,Ko=Oi(rn,"Map"),st=Oi(Object,"create"),Ln=Bn?Bn.prototype:void 0,Nn=Ln?Ln.toString:void 0;function Dr(t){var e=-1,a=t?t.length:0;for(this.clear();++e<a;){var n=t[e];this.set(n[0],n[1])}}function Go(){this.__data__=st?st(null):{}}function Jo(t){return this.has(t)&&delete this.__data__[t]}function Yo(t){var e=this.__data__;if(st){var a=e[t];return a===$i?void 0:a}return tn.call(e,t)?e[t]:void 0}function Zo(t){var e=this.__data__;return st?e[t]!==void 0:tn.call(e,t)}function Xo(t,e){var a=this.__data__;return a[t]=st&&e===void 0?$i:e,this}Dr.prototype.clear=Go;Dr.prototype.delete=Jo;Dr.prototype.get=Yo;Dr.prototype.has=Zo;Dr.prototype.set=Xo;function Kr(t){var e=-1,a=t?t.length:0;for(this.clear();++e<a;){var n=t[e];this.set(n[0],n[1])}}function el(){this.__data__=[]}function rl(t){var e=this.__data__,a=Wt(e,t);if(a<0)return!1;var n=e.length-1;return a==n?e.pop():Qo.call(e,a,1),!0}function tl(t){var e=this.__data__,a=Wt(e,t);return a<0?void 0:e[a][1]}function al(t){return Wt(this.__data__,t)>-1}function nl(t,e){var a=this.__data__,n=Wt(a,t);return n<0?a.push([t,e]):a[n][1]=e,this}Kr.prototype.clear=el;Kr.prototype.delete=rl;Kr.prototype.get=tl;Kr.prototype.has=al;Kr.prototype.set=nl;function Nr(t){var e=-1,a=t?t.length:0;for(this.clear();++e<a;){var n=t[e];this.set(n[0],n[1])}}function il(){this.__data__={hash:new Dr,map:new(Ko||Kr),string:new Dr}}function sl(t){return Qt(this,t).delete(t)}function ol(t){return Qt(this,t).get(t)}function ll(t){return Qt(this,t).has(t)}function ul(t,e){return Qt(this,t).set(t,e),this}Nr.prototype.clear=il;Nr.prototype.delete=sl;Nr.prototype.get=ol;Nr.prototype.has=ll;Nr.prototype.set=ul;function Wt(t,e){for(var a=t.length;a--;)if(El(t[a][0],e))return a;return-1}function fl(t,e){e=pl(e,t)?[e]:dl(e);for(var a=0,n=e.length;t!=null&&a<n;)t=t[gl(e[a++])];return a&&a==n?t:void 0}function cl(t){if(!Fi(t)||ml(t))return!1;var e=bl(t)||ko(t)?Wo:jo;return e.test(wl(t))}function hl(t){if(typeof t=="string")return t;if(nn(t))return Nn?Nn.call(t):"";var e=t+"";return e=="0"&&1/t==-Ii?"-0":e}function dl(t){return xi(t)?t:yl(t)}function Qt(t,e){var a=t.__data__;return vl(e)?a[typeof e=="string"?"string":"hash"]:a.map}function Oi(t,e){var a=qo(t,e);return cl(a)?a:void 0}function pl(t,e){if(xi(t))return!1;var a=typeof t;return a=="number"||a=="symbol"||a=="boolean"||t==null||nn(t)?!0:Do.test(t)||!Co.test(t)||e!=null&&t in Object(e)}function vl(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function ml(t){return!!Dn&&Dn in t}var yl=an(function(t){t=Pl(t);var e=[];return Bo.test(t)&&e.push(""),t.replace(Lo,function(a,n,r,i){e.push(r?i.replace(zo,"$1"):n||a)}),e});function gl(t){if(typeof t=="string"||nn(t))return t;var e=t+"";return e=="0"&&1/t==-Ii?"-0":e}function wl(t){if(t!=null){try{return Ti.call(t)}catch{}try{return t+""}catch{}}return""}function an(t,e){if(typeof t!="function"||e&&typeof e!="function")throw new TypeError(Ao);var a=function(){var n=arguments,r=e?e.apply(this,n):n[0],i=a.cache;if(i.has(r))return i.get(r);var l=t.apply(this,n);return a.cache=i.set(r,l),l};return a.cache=new(an.Cache||Nr),a}an.Cache=Nr;function El(t,e){return t===e||t!==t&&e!==e}var xi=Array.isArray;function bl(t){var e=Fi(t)?Ai.call(t):"";return e==Oo||e==xo}function Fi(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function _l(t){return!!t&&typeof t=="object"}function nn(t){return typeof t=="symbol"||_l(t)&&Ai.call(t)==Fo}function Pl(t){return t==null?"":hl(t)}function Sl(t,e,a){var n=t==null?void 0:fl(t,e);return n===void 0?a:n}var $l=Sl,zt={},Il={get exports(){return zt},set exports(t){zt=t}};/** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */(function(t,e){(function({},a){a(e)})(go,function(a){function n(){for(var O=arguments.length,b=Array(O),x=0;x<O;x++)b[x]=arguments[x];if(b.length>1){b[0]=b[0].slice(0,-1);for(var z=b.length-1,j=1;j<z;++j)b[j]=b[j].slice(1,-1);return b[z]=b[z].slice(1),b.join("")}else return b[0]}function r(O){return"(?:"+O+")"}function i(O){return O===void 0?"undefined":O===null?"null":Object.prototype.toString.call(O).split(" ").pop().split("]").shift().toLowerCase()}function l(O){return O.toUpperCase()}function o(O){return O!=null?O instanceof Array?O:typeof O.length!="number"||O.split||O.setInterval||O.call?[O]:Array.prototype.slice.call(O):[]}function h(O,b){var x=O;if(b)for(var z in b)x[z]=b[z];return x}function y(O){var b="[A-Za-z]",x="[0-9]",z=n(x,"[A-Fa-f]"),j=r(r("%[EFef]"+z+"%"+z+z+"%"+z+z)+"|"+r("%[89A-Fa-f]"+z+"%"+z+z)+"|"+r("%"+z+z)),oe="[\\:\\/\\?\\#\\[\\]\\@]",le="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",_e=n(oe,le),Ne=O?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",Ae=O?"[\\uE000-\\uF8FF]":"[]",we=n(b,x,"[\\-\\.\\_\\~]",Ne);r(b+n(b,x,"[\\+\\-\\.]")+"*"),r(r(j+"|"+n(we,le,"[\\:]"))+"*");var De=r(r("25[0-5]")+"|"+r("2[0-4]"+x)+"|"+r("1"+x+x)+"|"+r("0?[1-9]"+x)+"|0?0?"+x),Ue=r(De+"\\."+De+"\\."+De+"\\."+De),he=r(z+"{1,4}"),ze=r(r(he+"\\:"+he)+"|"+Ue),xe=r(r(he+"\\:")+"{6}"+ze),je=r("\\:\\:"+r(he+"\\:")+"{5}"+ze),hr=r(r(he)+"?\\:\\:"+r(he+"\\:")+"{4}"+ze),ar=r(r(r(he+"\\:")+"{0,1}"+he)+"?\\:\\:"+r(he+"\\:")+"{3}"+ze),nr=r(r(r(he+"\\:")+"{0,2}"+he)+"?\\:\\:"+r(he+"\\:")+"{2}"+ze),wr=r(r(r(he+"\\:")+"{0,3}"+he)+"?\\:\\:"+he+"\\:"+ze),ir=r(r(r(he+"\\:")+"{0,4}"+he)+"?\\:\\:"+ze),Xe=r(r(r(he+"\\:")+"{0,5}"+he)+"?\\:\\:"+he),sr=r(r(r(he+"\\:")+"{0,6}"+he)+"?\\:\\:"),Ge=r([xe,je,hr,ar,nr,wr,ir,Xe,sr].join("|")),cr=r(r(we+"|"+j)+"+");r("[vV]"+z+"+\\."+n(we,le,"[\\:]")+"+"),r(r(j+"|"+n(we,le))+"*");var Tr=r(j+"|"+n(we,le,"[\\:\\@]"));return r(r(j+"|"+n(we,le,"[\\@]"))+"+"),r(r(Tr+"|"+n("[\\/\\?]",Ae))+"*"),{NOT_SCHEME:new RegExp(n("[^]",b,x,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(n("[^\\%\\:]",we,le),"g"),NOT_HOST:new RegExp(n("[^\\%\\[\\]\\:]",we,le),"g"),NOT_PATH:new RegExp(n("[^\\%\\/\\:\\@]",we,le),"g"),NOT_PATH_NOSCHEME:new RegExp(n("[^\\%\\/\\@]",we,le),"g"),NOT_QUERY:new RegExp(n("[^\\%]",we,le,"[\\:\\@\\/\\?]",Ae),"g"),NOT_FRAGMENT:new RegExp(n("[^\\%]",we,le,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(n("[^]",we,le),"g"),UNRESERVED:new RegExp(we,"g"),OTHER_CHARS:new RegExp(n("[^\\%]",we,_e),"g"),PCT_ENCODED:new RegExp(j,"g"),IPV4ADDRESS:new RegExp("^("+Ue+")$"),IPV6ADDRESS:new RegExp("^\\[?("+Ge+")"+r(r("\\%25|\\%(?!"+z+"{2})")+"("+cr+")")+"?\\]?$")}}var v=y(!1),w=y(!0),_=function(){function O(b,x){var z=[],j=!0,oe=!1,le=void 0;try{for(var _e=b[Symbol.iterator](),Ne;!(j=(Ne=_e.next()).done)&&(z.push(Ne.value),!(x&&z.length===x));j=!0);}catch(Ae){oe=!0,le=Ae}finally{try{!j&&_e.return&&_e.return()}finally{if(oe)throw le}}return z}return function(b,x){if(Array.isArray(b))return b;if(Symbol.iterator in Object(b))return O(b,x);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),f=function(O){if(Array.isArray(O)){for(var b=0,x=Array(O.length);b<O.length;b++)x[b]=O[b];return x}else return Array.from(O)},p=2147483647,P=36,I=1,m=26,R=38,A=700,C=72,L=128,V="-",Y=/^xn--/,W=/[^\0-\x7E]/,H=/[\x2E\u3002\uFF0E\uFF61]/g,X={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},te=P-I,Z=Math.floor,K=String.fromCharCode;function Q(O){throw new RangeError(X[O])}function ae(O,b){for(var x=[],z=O.length;z--;)x[z]=b(O[z]);return x}function me(O,b){var x=O.split("@"),z="";x.length>1&&(z=x[0]+"@",O=x[1]),O=O.replace(H,".");var j=O.split("."),oe=ae(j,b).join(".");return z+oe}function fe(O){for(var b=[],x=0,z=O.length;x<z;){var j=O.charCodeAt(x++);if(j>=55296&&j<=56319&&x<z){var oe=O.charCodeAt(x++);(oe&64512)==56320?b.push(((j&1023)<<10)+(oe&1023)+65536):(b.push(j),x--)}else b.push(j)}return b}var ve=function(b){return String.fromCodePoint.apply(String,f(b))},ce=function(b){return b-48<10?b-22:b-65<26?b-65:b-97<26?b-97:P},ie=function(b,x){return b+22+75*(b<26)-((x!=0)<<5)},de=function(b,x,z){var j=0;for(b=z?Z(b/A):b>>1,b+=Z(b/x);b>te*m>>1;j+=P)b=Z(b/te);return Z(j+(te+1)*b/(b+R))},ge=function(b){var x=[],z=b.length,j=0,oe=L,le=C,_e=b.lastIndexOf(V);_e<0&&(_e=0);for(var Ne=0;Ne<_e;++Ne)b.charCodeAt(Ne)>=128&&Q("not-basic"),x.push(b.charCodeAt(Ne));for(var Ae=_e>0?_e+1:0;Ae<z;){for(var we=j,De=1,Ue=P;;Ue+=P){Ae>=z&&Q("invalid-input");var he=ce(b.charCodeAt(Ae++));(he>=P||he>Z((p-j)/De))&&Q("overflow"),j+=he*De;var ze=Ue<=le?I:Ue>=le+m?m:Ue-le;if(he<ze)break;var xe=P-ze;De>Z(p/xe)&&Q("overflow"),De*=xe}var je=x.length+1;le=de(j-we,je,we==0),Z(j/je)>p-oe&&Q("overflow"),oe+=Z(j/je),j%=je,x.splice(j++,0,oe)}return String.fromCodePoint.apply(String,x)},Fe=function(b){var x=[];b=fe(b);var z=b.length,j=L,oe=0,le=C,_e=!0,Ne=!1,Ae=void 0;try{for(var we=b[Symbol.iterator](),De;!(_e=(De=we.next()).done);_e=!0){var Ue=De.value;Ue<128&&x.push(K(Ue))}}catch(Ar){Ne=!0,Ae=Ar}finally{try{!_e&&we.return&&we.return()}finally{if(Ne)throw Ae}}var he=x.length,ze=he;for(he&&x.push(V);ze<z;){var xe=p,je=!0,hr=!1,ar=void 0;try{for(var nr=b[Symbol.iterator](),wr;!(je=(wr=nr.next()).done);je=!0){var ir=wr.value;ir>=j&&ir<xe&&(xe=ir)}}catch(Ar){hr=!0,ar=Ar}finally{try{!je&&nr.return&&nr.return()}finally{if(hr)throw ar}}var Xe=ze+1;xe-j>Z((p-oe)/Xe)&&Q("overflow"),oe+=(xe-j)*Xe,j=xe;var sr=!0,Ge=!1,cr=void 0;try{for(var Tr=b[Symbol.iterator](),yt;!(sr=(yt=Tr.next()).done);sr=!0){var gt=yt.value;if(gt<j&&++oe>p&&Q("overflow"),gt==j){for(var Ur=oe,Mr=P;;Mr+=P){var vr=Mr<=le?I:Mr>=le+m?m:Mr-le;if(Ur<vr)break;var wt=Ur-vr,Et=P-vr;x.push(K(ie(vr+wt%Et,0))),Ur=Z(wt/Et)}x.push(K(ie(Ur,0))),le=de(oe,Xe,ze==he),oe=0,++ze}}}catch(Ar){Ge=!0,cr=Ar}finally{try{!sr&&Tr.return&&Tr.return()}finally{if(Ge)throw cr}}++oe,++j}return x.join("")},Ee=function(b){return me(b,function(x){return Y.test(x)?ge(x.slice(4).toLowerCase()):x})},He=function(b){return me(b,function(x){return W.test(x)?"xn--"+Fe(x):x})},B={version:"2.1.0",ucs2:{decode:fe,encode:ve},decode:ge,encode:Fe,toASCII:He,toUnicode:Ee},D={};function M(O){var b=O.charCodeAt(0),x=void 0;return b<16?x="%0"+b.toString(16).toUpperCase():b<128?x="%"+b.toString(16).toUpperCase():b<2048?x="%"+(b>>6|192).toString(16).toUpperCase()+"%"+(b&63|128).toString(16).toUpperCase():x="%"+(b>>12|224).toString(16).toUpperCase()+"%"+(b>>6&63|128).toString(16).toUpperCase()+"%"+(b&63|128).toString(16).toUpperCase(),x}function ee(O){for(var b="",x=0,z=O.length;x<z;){var j=parseInt(O.substr(x+1,2),16);if(j<128)b+=String.fromCharCode(j),x+=3;else if(j>=194&&j<224){if(z-x>=6){var oe=parseInt(O.substr(x+4,2),16);b+=String.fromCharCode((j&31)<<6|oe&63)}else b+=O.substr(x,6);x+=6}else if(j>=224){if(z-x>=9){var le=parseInt(O.substr(x+4,2),16),_e=parseInt(O.substr(x+7,2),16);b+=String.fromCharCode((j&15)<<12|(le&63)<<6|_e&63)}else b+=O.substr(x,9);x+=9}else b+=O.substr(x,3),x+=3}return b}function ne(O,b){function x(z){var j=ee(z);return j.match(b.UNRESERVED)?j:z}return O.scheme&&(O.scheme=String(O.scheme).replace(b.PCT_ENCODED,x).toLowerCase().replace(b.NOT_SCHEME,"")),O.userinfo!==void 0&&(O.userinfo=String(O.userinfo).replace(b.PCT_ENCODED,x).replace(b.NOT_USERINFO,M).replace(b.PCT_ENCODED,l)),O.host!==void 0&&(O.host=String(O.host).replace(b.PCT_ENCODED,x).toLowerCase().replace(b.NOT_HOST,M).replace(b.PCT_ENCODED,l)),O.path!==void 0&&(O.path=String(O.path).replace(b.PCT_ENCODED,x).replace(O.scheme?b.NOT_PATH:b.NOT_PATH_NOSCHEME,M).replace(b.PCT_ENCODED,l)),O.query!==void 0&&(O.query=String(O.query).replace(b.PCT_ENCODED,x).replace(b.NOT_QUERY,M).replace(b.PCT_ENCODED,l)),O.fragment!==void 0&&(O.fragment=String(O.fragment).replace(b.PCT_ENCODED,x).replace(b.NOT_FRAGMENT,M).replace(b.PCT_ENCODED,l)),O}function g(O){return O.replace(/^0*(.*)/,"$1")||"0"}function S(O,b){var x=O.match(b.IPV4ADDRESS)||[],z=_(x,2),j=z[1];return j?j.split(".").map(g).join("."):O}function k(O,b){var x=O.match(b.IPV6ADDRESS)||[],z=_(x,3),j=z[1],oe=z[2];if(j){for(var le=j.toLowerCase().split("::").reverse(),_e=_(le,2),Ne=_e[0],Ae=_e[1],we=Ae?Ae.split(":").map(g):[],De=Ne.split(":").map(g),Ue=b.IPV4ADDRESS.test(De[De.length-1]),he=Ue?7:8,ze=De.length-he,xe=Array(he),je=0;je<he;++je)xe[je]=we[je]||De[ze+je]||"";Ue&&(xe[he-1]=S(xe[he-1],b));var hr=xe.reduce(function(Xe,sr,Ge){if(!sr||sr==="0"){var cr=Xe[Xe.length-1];cr&&cr.index+cr.length===Ge?cr.length++:Xe.push({index:Ge,length:1})}return Xe},[]),ar=hr.sort(function(Xe,sr){return sr.length-Xe.length})[0],nr=void 0;if(ar&&ar.length>1){var wr=xe.slice(0,ar.index),ir=xe.slice(ar.index+ar.length);nr=wr.join(":")+"::"+ir.join(":")}else nr=xe.join(":");return oe&&(nr+="%"+oe),nr}else return O}var G=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,be="".match(/(){0}/)[1]===void 0;function se(O){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},x={},z=b.iri!==!1?w:v;b.reference==="suffix"&&(O=(b.scheme?b.scheme+":":"")+"//"+O);var j=O.match(G);if(j){be?(x.scheme=j[1],x.userinfo=j[3],x.host=j[4],x.port=parseInt(j[5],10),x.path=j[6]||"",x.query=j[7],x.fragment=j[8],isNaN(x.port)&&(x.port=j[5])):(x.scheme=j[1]||void 0,x.userinfo=O.indexOf("@")!==-1?j[3]:void 0,x.host=O.indexOf("//")!==-1?j[4]:void 0,x.port=parseInt(j[5],10),x.path=j[6]||"",x.query=O.indexOf("?")!==-1?j[7]:void 0,x.fragment=O.indexOf("#")!==-1?j[8]:void 0,isNaN(x.port)&&(x.port=O.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?j[4]:void 0)),x.host&&(x.host=k(S(x.host,z),z)),x.scheme===void 0&&x.userinfo===void 0&&x.host===void 0&&x.port===void 0&&!x.path&&x.query===void 0?x.reference="same-document":x.scheme===void 0?x.reference="relative":x.fragment===void 0?x.reference="absolute":x.reference="uri",b.reference&&b.reference!=="suffix"&&b.reference!==x.reference&&(x.error=x.error||"URI is not a "+b.reference+" reference.");var oe=D[(b.scheme||x.scheme||"").toLowerCase()];if(!b.unicodeSupport&&(!oe||!oe.unicodeSupport)){if(x.host&&(b.domainHost||oe&&oe.domainHost))try{x.host=B.toASCII(x.host.replace(z.PCT_ENCODED,ee).toLowerCase())}catch(le){x.error=x.error||"Host's domain name can not be converted to ASCII via punycode: "+le}ne(x,v)}else ne(x,z);oe&&oe.parse&&oe.parse(x,b)}else x.error=x.error||"URI can not be parsed.";return x}function ye(O,b){var x=b.iri!==!1?w:v,z=[];return O.userinfo!==void 0&&(z.push(O.userinfo),z.push("@")),O.host!==void 0&&z.push(k(S(String(O.host),x),x).replace(x.IPV6ADDRESS,function(j,oe,le){return"["+oe+(le?"%25"+le:"")+"]"})),(typeof O.port=="number"||typeof O.port=="string")&&(z.push(":"),z.push(String(O.port))),z.length?z.join(""):void 0}var We=/^\.\.?\//,Le=/^\/\.(\/|$)/,Je=/^\/\.\.(\/|$)/,Ze=/^\/?(?:.|\n)*?(?=\/|$)/;function Pe(O){for(var b=[];O.length;)if(O.match(We))O=O.replace(We,"");else if(O.match(Le))O=O.replace(Le,"/");else if(O.match(Je))O=O.replace(Je,"/"),b.pop();else if(O==="."||O==="..")O="";else{var x=O.match(Ze);if(x){var z=x[0];O=O.slice(z.length),b.push(z)}else throw new Error("Unexpected dot segment condition")}return b.join("")}function Ce(O){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},x=b.iri?w:v,z=[],j=D[(b.scheme||O.scheme||"").toLowerCase()];if(j&&j.serialize&&j.serialize(O,b),O.host&&!x.IPV6ADDRESS.test(O.host)){if(b.domainHost||j&&j.domainHost)try{O.host=b.iri?B.toUnicode(O.host):B.toASCII(O.host.replace(x.PCT_ENCODED,ee).toLowerCase())}catch(_e){O.error=O.error||"Host's domain name can not be converted to "+(b.iri?"Unicode":"ASCII")+" via punycode: "+_e}}ne(O,x),b.reference!=="suffix"&&O.scheme&&(z.push(O.scheme),z.push(":"));var oe=ye(O,b);if(oe!==void 0&&(b.reference!=="suffix"&&z.push("//"),z.push(oe),O.path&&O.path.charAt(0)!=="/"&&z.push("/")),O.path!==void 0){var le=O.path;!b.absolutePath&&(!j||!j.absolutePath)&&(le=Pe(le)),oe===void 0&&(le=le.replace(/^\/\//,"/%2F")),z.push(le)}return O.query!==void 0&&(z.push("?"),z.push(O.query)),O.fragment!==void 0&&(z.push("#"),z.push(O.fragment)),z.join("")}function qe(O,b){var x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},z=arguments[3],j={};return z||(O=se(Ce(O,x),x),b=se(Ce(b,x),x)),x=x||{},!x.tolerant&&b.scheme?(j.scheme=b.scheme,j.userinfo=b.userinfo,j.host=b.host,j.port=b.port,j.path=Pe(b.path||""),j.query=b.query):(b.userinfo!==void 0||b.host!==void 0||b.port!==void 0?(j.userinfo=b.userinfo,j.host=b.host,j.port=b.port,j.path=Pe(b.path||""),j.query=b.query):(b.path?(b.path.charAt(0)==="/"?j.path=Pe(b.path):((O.userinfo!==void 0||O.host!==void 0||O.port!==void 0)&&!O.path?j.path="/"+b.path:O.path?j.path=O.path.slice(0,O.path.lastIndexOf("/")+1)+b.path:j.path=b.path,j.path=Pe(j.path)),j.query=b.query):(j.path=O.path,b.query!==void 0?j.query=b.query:j.query=O.query),j.userinfo=O.userinfo,j.host=O.host,j.port=O.port),j.scheme=O.scheme),j.fragment=b.fragment,j}function Ve(O,b,x){var z=h({scheme:"null"},x);return Ce(qe(se(O,z),se(b,z),z,!0),z)}function rr(O,b){return typeof O=="string"?O=Ce(se(O,b),b):i(O)==="object"&&(O=se(Ce(O,b),b)),O}function d(O,b,x){return typeof O=="string"?O=Ce(se(O,x),x):i(O)==="object"&&(O=Ce(O,x)),typeof b=="string"?b=Ce(se(b,x),x):i(b)==="object"&&(b=Ce(b,x)),O===b}function s(O,b){return O&&O.toString().replace(!b||!b.iri?v.ESCAPE:w.ESCAPE,M)}function u(O,b){return O&&O.toString().replace(!b||!b.iri?v.PCT_ENCODED:w.PCT_ENCODED,ee)}var E={scheme:"http",domainHost:!0,parse:function(b,x){return b.host||(b.error=b.error||"HTTP URIs must have a host."),b},serialize:function(b,x){var z=String(b.scheme).toLowerCase()==="https";return(b.port===(z?443:80)||b.port==="")&&(b.port=void 0),b.path||(b.path="/"),b}},F={scheme:"https",domainHost:E.domainHost,parse:E.parse,serialize:E.serialize};function N(O){return typeof O.secure=="boolean"?O.secure:String(O.scheme).toLowerCase()==="wss"}var q={scheme:"ws",domainHost:!0,parse:function(b,x){var z=b;return z.secure=N(z),z.resourceName=(z.path||"/")+(z.query?"?"+z.query:""),z.path=void 0,z.query=void 0,z},serialize:function(b,x){if((b.port===(N(b)?443:80)||b.port==="")&&(b.port=void 0),typeof b.secure=="boolean"&&(b.scheme=b.secure?"wss":"ws",b.secure=void 0),b.resourceName){var z=b.resourceName.split("?"),j=_(z,2),oe=j[0],le=j[1];b.path=oe&&oe!=="/"?oe:void 0,b.query=le,b.resourceName=void 0}return b.fragment=void 0,b}},pe={scheme:"wss",domainHost:q.domainHost,parse:q.parse,serialize:q.serialize},Ie={},Re="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",Se="[0-9A-Fa-f]",Te=r(r("%[EFef]"+Se+"%"+Se+Se+"%"+Se+Se)+"|"+r("%[89A-Fa-f]"+Se+"%"+Se+Se)+"|"+r("%"+Se+Se)),dt="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",aa="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",na=n(aa,'[\\"\\\\]'),ia="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",et=new RegExp(Re,"g"),tr=new RegExp(Te,"g"),rt=new RegExp(n("[^]",dt,"[\\.]",'[\\"]',na),"g"),jr=new RegExp(n("[^]",Re,ia),"g"),tt=jr;function pr(O){var b=ee(O);return b.match(et)?b:O}var pt={scheme:"mailto",parse:function(b,x){var z=b,j=z.to=z.path?z.path.split(","):[];if(z.path=void 0,z.query){for(var oe=!1,le={},_e=z.query.split("&"),Ne=0,Ae=_e.length;Ne<Ae;++Ne){var we=_e[Ne].split("=");switch(we[0]){case"to":for(var De=we[1].split(","),Ue=0,he=De.length;Ue<he;++Ue)j.push(De[Ue]);break;case"subject":z.subject=u(we[1],x);break;case"body":z.body=u(we[1],x);break;default:oe=!0,le[u(we[0],x)]=u(we[1],x);break}}oe&&(z.headers=le)}z.query=void 0;for(var ze=0,xe=j.length;ze<xe;++ze){var je=j[ze].split("@");if(je[0]=u(je[0]),x.unicodeSupport)je[1]=u(je[1],x).toLowerCase();else try{je[1]=B.toASCII(u(je[1],x).toLowerCase())}catch(hr){z.error=z.error||"Email address's domain name can not be converted to ASCII via punycode: "+hr}j[ze]=je.join("@")}return z},serialize:function(b,x){var z=b,j=o(b.to);if(j){for(var oe=0,le=j.length;oe<le;++oe){var _e=String(j[oe]),Ne=_e.lastIndexOf("@"),Ae=_e.slice(0,Ne).replace(tr,pr).replace(tr,l).replace(rt,M),we=_e.slice(Ne+1);try{we=x.iri?B.toUnicode(we):B.toASCII(u(we,x).toLowerCase())}catch(ze){z.error=z.error||"Email address's domain name can not be converted to "+(x.iri?"Unicode":"ASCII")+" via punycode: "+ze}j[oe]=Ae+"@"+we}z.path=j.join(",")}var De=b.headers=b.headers||{};b.subject&&(De.subject=b.subject),b.body&&(De.body=b.body);var Ue=[];for(var he in De)De[he]!==Ie[he]&&Ue.push(he.replace(tr,pr).replace(tr,l).replace(jr,M)+"="+De[he].replace(tr,pr).replace(tr,l).replace(tt,M));return Ue.length&&(z.query=Ue.join("&")),z}},sa=/^([^\:]+)\:(.*)/,vt={scheme:"urn",parse:function(b,x){var z=b.path&&b.path.match(sa),j=b;if(z){var oe=x.scheme||j.scheme||"urn",le=z[1].toLowerCase(),_e=z[2],Ne=oe+":"+(x.nid||le),Ae=D[Ne];j.nid=le,j.nss=_e,j.path=void 0,Ae&&(j=Ae.parse(j,x))}else j.error=j.error||"URN can not be parsed.";return j},serialize:function(b,x){var z=x.scheme||b.scheme||"urn",j=b.nid,oe=z+":"+(x.nid||j),le=D[oe];le&&(b=le.serialize(b,x));var _e=b,Ne=b.nss;return _e.path=(j||x.nid)+":"+Ne,_e}},oa=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,mt={scheme:"urn:uuid",parse:function(b,x){var z=b;return z.uuid=z.nss,z.nss=void 0,!x.tolerant&&(!z.uuid||!z.uuid.match(oa))&&(z.error=z.error||"UUID is not valid."),z},serialize:function(b,x){var z=b;return z.nss=(b.uuid||"").toLowerCase(),z}};D[E.scheme]=E,D[F.scheme]=F,D[q.scheme]=q,D[pe.scheme]=pe,D[pt.scheme]=pt,D[vt.scheme]=vt,D[mt.scheme]=mt,a.SCHEMES=D,a.pctEncChar=M,a.pctDecChars=ee,a.parse=se,a.removeDotSegments=Pe,a.serialize=Ce,a.resolveComponents=qe,a.resolve=Ve,a.normalize=rr,a.equal=d,a.escapeComponent=s,a.unescapeComponent=u,Object.defineProperty(a,"__esModule",{value:!0})})})(Il,zt);var sn=function t(e,a){if(e===a)return!0;if(e&&a&&typeof e=="object"&&typeof a=="object"){if(e.constructor!==a.constructor)return!1;var n,r,i;if(Array.isArray(e)){if(n=e.length,n!=a.length)return!1;for(r=n;r--!==0;)if(!t(e[r],a[r]))return!1;return!0}if(e.constructor===RegExp)return e.source===a.source&&e.flags===a.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===a.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===a.toString();if(i=Object.keys(e),n=i.length,n!==Object.keys(a).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(a,i[r]))return!1;for(r=n;r--!==0;){var l=i[r];if(!t(e[l],a[l]))return!1}return!0}return e!==e&&a!==a},Rl=function(e){for(var a=0,n=e.length,r=0,i;r<n;)a++,i=e.charCodeAt(r++),i>=55296&&i<=56319&&r<n&&(i=e.charCodeAt(r),(i&64512)==56320&&r++);return a},Gr={copy:Tl,checkDataType:Ua,checkDataTypes:Al,coerceToTypes:Ol,toHash:on,getProperty:ln,escapeQuotes:un,equal:sn,ucs2length:Rl,varOccurences:Cl,varReplace:Dl,schemaHasRules:Bl,schemaHasRulesExcept:Ll,schemaUnknownRules:Nl,toQuotedString:Ma,getPathExpr:zl,getPath:jl,getData:ql,unescapeFragment:kl,unescapeJsonPointer:cn,escapeFragment:Vl,escapeJsonPointer:fn};function Tl(t,e){e=e||{};for(var a in t)e[a]=t[a];return e}function Ua(t,e,a,n){var r=n?" !== ":" === ",i=n?" || ":" && ",l=n?"!":"",o=n?"":"!";switch(t){case"null":return e+r+"null";case"array":return l+"Array.isArray("+e+")";case"object":return"("+l+e+i+"typeof "+e+r+'"object"'+i+o+"Array.isArray("+e+"))";case"integer":return"(typeof "+e+r+'"number"'+i+o+"("+e+" % 1)"+i+e+r+e+(a?i+l+"isFinite("+e+")":"")+")";case"number":return"(typeof "+e+r+'"'+t+'"'+(a?i+l+"isFinite("+e+")":"")+")";default:return"typeof "+e+r+'"'+t+'"'}}function Al(t,e,a){switch(t.length){case 1:return Ua(t[0],e,a,!0);default:var n="",r=on(t);r.array&&r.object&&(n=r.null?"(":"(!"+e+" || ",n+="typeof "+e+' !== "object")',delete r.null,delete r.array,delete r.object),r.number&&delete r.integer;for(var i in r)n+=(n?" && ":"")+Ua(i,e,a,!0);return n}}var zn=on(["string","number","integer","boolean","null"]);function Ol(t,e){if(Array.isArray(e)){for(var a=[],n=0;n<e.length;n++){var r=e[n];(zn[r]||t==="array"&&r==="array")&&(a[a.length]=r)}if(a.length)return a}else{if(zn[e])return[e];if(t==="array"&&e==="array")return["array"]}}function on(t){for(var e={},a=0;a<t.length;a++)e[t[a]]=!0;return e}var xl=/^[a-z$_][a-z$_0-9]*$/i,Fl=/'|\\/g;function ln(t){return typeof t=="number"?"["+t+"]":xl.test(t)?"."+t:"['"+un(t)+"']"}function un(t){return t.replace(Fl,"\\$&").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\f/g,"\\f").replace(/\t/g,"\\t")}function Cl(t,e){e+="[^0-9]";var a=t.match(new RegExp(e,"g"));return a?a.length:0}function Dl(t,e,a){return e+="([^0-9])",a=a.replace(/\$/g,"$$$$"),t.replace(new RegExp(e,"g"),a+"$1")}function Bl(t,e){if(typeof t=="boolean")return!t;for(var a in t)if(e[a])return!0}function Ll(t,e,a){if(typeof t=="boolean")return!t&&a!="not";for(var n in t)if(n!=a&&e[n])return!0}function Nl(t,e){if(typeof t!="boolean"){for(var a in t)if(!e[a])return a}}function Ma(t){return"'"+un(t)+"'"}function zl(t,e,a,n){var r=a?"'/' + "+e+(n?"":".replace(/~/g, '~0').replace(/\\//g, '~1')"):n?"'[' + "+e+" + ']'":"'[\\'' + "+e+" + '\\']'";return Ci(t,r)}function jl(t,e,a){var n=Ma(a?"/"+fn(e):ln(e));return Ci(t,n)}var Ul=/^\/(?:[^~]|~0|~1)*$/,Ml=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function ql(t,e,a){var n,r,i,l;if(t==="")return"rootData";if(t[0]=="/"){if(!Ul.test(t))throw new Error("Invalid JSON-pointer: "+t);r=t,i="rootData"}else{if(l=t.match(Ml),!l)throw new Error("Invalid JSON-pointer: "+t);if(n=+l[1],r=l[2],r=="#"){if(n>=e)throw new Error("Cannot access property/index "+n+" levels up, current level is "+e);return a[e-n]}if(n>e)throw new Error("Cannot access data "+n+" levels up, current level is "+e);if(i="data"+(e-n||""),!r)return i}for(var o=i,h=r.split("/"),y=0;y<h.length;y++){var v=h[y];v&&(i+=ln(cn(v)),o+=" && "+i)}return o}function Ci(t,e){return t=='""'?e:(t+" + "+e).replace(/([^\\])' \+ '/g,"$1")}function kl(t){return cn(decodeURIComponent(t))}function Vl(t){return encodeURIComponent(fn(t))}function fn(t){return t.replace(/~/g,"~0").replace(/\//g,"~1")}function cn(t){return t.replace(/~1/g,"/").replace(/~0/g,"~")}var Hl=Gr,Di=Wl;function Wl(t){Hl.copy(t,this)}var qa={},Ql={get exports(){return qa},set exports(t){qa=t}},Sr=Ql.exports=function(t,e,a){typeof e=="function"&&(a=e,e={}),a=e.cb||a;var n=typeof a=="function"?a:a.pre||function(){},r=a.post||function(){};Dt(e,n,r,t,"",t)};Sr.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0};Sr.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};Sr.propsKeywords={definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};Sr.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function Dt(t,e,a,n,r,i,l,o,h,y){if(n&&typeof n=="object"&&!Array.isArray(n)){e(n,r,i,l,o,h,y);for(var v in n){var w=n[v];if(Array.isArray(w)){if(v in Sr.arrayKeywords)for(var _=0;_<w.length;_++)Dt(t,e,a,w[_],r+"/"+v+"/"+_,i,r,v,n,_)}else if(v in Sr.propsKeywords){if(w&&typeof w=="object")for(var f in w)Dt(t,e,a,w[f],r+"/"+v+"/"+Kl(f),i,r,v,n,f)}else(v in Sr.keywords||t.allKeys&&!(v in Sr.skipKeywords))&&Dt(t,e,a,w,r+"/"+v,i,r,v,n)}a(n,r,i,l,o,h,y)}}function Kl(t){return t.replace(/~/g,"~0").replace(/\//g,"~1")}var lt=zt,jn=sn,Kt=Gr,jt=Di,Gl=qa,hn=Rr;Rr.normalizeId=$r;Rr.fullPath=Ut;Rr.url=Mt;Rr.ids=eu;Rr.inlineRef=ka;Rr.schema=Gt;function Rr(t,e,a){var n=this._refs[a];if(typeof n=="string")if(this._refs[n])n=this._refs[n];else return Rr.call(this,t,e,n);if(n=n||this._schemas[a],n instanceof jt)return ka(n.schema,this._opts.inlineRefs)?n.schema:n.validate||this._compile(n);var r=Gt.call(this,e,a),i,l,o;return r&&(i=r.schema,e=r.root,o=r.baseId),i instanceof jt?l=i.validate||t.call(this,i.schema,e,void 0,o):i!==void 0&&(l=ka(i,this._opts.inlineRefs)?i:t.call(this,i,e,void 0,o)),l}function Gt(t,e){var a=lt.parse(e),n=Li(a),r=Ut(this._getId(t.schema));if(Object.keys(t.schema).length===0||n!==r){var i=$r(n),l=this._refs[i];if(typeof l=="string")return Jl.call(this,t,l,a);if(l instanceof jt)l.validate||this._compile(l),t=l;else if(l=this._schemas[i],l instanceof jt){if(l.validate||this._compile(l),i==$r(e))return{schema:l,root:t,baseId:r};t=l}else return;if(!t.schema)return;r=Ut(this._getId(t.schema))}return Bi.call(this,a,r,t.schema,t)}function Jl(t,e,a){var n=Gt.call(this,t,e);if(n){var r=n.schema,i=n.baseId;t=n.root;var l=this._getId(r);return l&&(i=Mt(i,l)),Bi.call(this,a,i,r,t)}}var Yl=Kt.toHash(["properties","patternProperties","enum","dependencies","definitions"]);function Bi(t,e,a,n){if(t.fragment=t.fragment||"",t.fragment.slice(0,1)=="/"){for(var r=t.fragment.split("/"),i=1;i<r.length;i++){var l=r[i];if(l){if(l=Kt.unescapeFragment(l),a=a[l],a===void 0)break;var o;if(!Yl[l]&&(o=this._getId(a),o&&(e=Mt(e,o)),a.$ref)){var h=Mt(e,a.$ref),y=Gt.call(this,n,h);y&&(a=y.schema,n=y.root,e=y.baseId)}}}if(a!==void 0&&a!==n.schema)return{schema:a,root:n,baseId:e}}}var Zl=Kt.toHash(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum"]);function ka(t,e){if(e===!1)return!1;if(e===void 0||e===!0)return Va(t);if(e)return Ha(t)<=e}function Va(t){var e;if(Array.isArray(t)){for(var a=0;a<t.length;a++)if(e=t[a],typeof e=="object"&&!Va(e))return!1}else for(var n in t)if(n=="$ref"||(e=t[n],typeof e=="object"&&!Va(e)))return!1;return!0}function Ha(t){var e=0,a;if(Array.isArray(t)){for(var n=0;n<t.length;n++)if(a=t[n],typeof a=="object"&&(e+=Ha(a)),e==1/0)return 1/0}else for(var r in t){if(r=="$ref")return 1/0;if(Zl[r])e++;else if(a=t[r],typeof a=="object"&&(e+=Ha(a)+1),e==1/0)return 1/0}return e}function Ut(t,e){e!==!1&&(t=$r(t));var a=lt.parse(t);return Li(a)}function Li(t){return lt.serialize(t).split("#")[0]+"#"}var Xl=/#\/?$/;function $r(t){return t?t.replace(Xl,""):""}function Mt(t,e){return e=$r(e),lt.resolve(t,e)}function eu(t){var e=$r(this._getId(t)),a={"":e},n={"":Ut(e,!1)},r={},i=this;return Gl(t,{allKeys:!0},function(l,o,h,y,v,w,_){if(o!==""){var f=i._getId(l),p=a[y],P=n[y]+"/"+v;if(_!==void 0&&(P+="/"+(typeof _=="number"?_:Kt.escapeFragment(_))),typeof f=="string"){f=p=$r(p?lt.resolve(p,f):f);var I=i._refs[f];if(typeof I=="string"&&(I=i._refs[I]),I&&I.schema){if(!jn(l,I.schema))throw new Error('id "'+f+'" resolves to more than one schema')}else if(f!=$r(P))if(f[0]=="#"){if(r[f]&&!jn(l,r[f]))throw new Error('id "'+f+'" resolves to more than one schema');r[f]=l}else i._refs[f]=P}a[o]=p,n[o]=P}}),r}var pa=hn,dn={Validation:Un(ru),MissingRef:Un(pn)};function ru(t){this.message="validation failed",this.errors=t,this.ajv=this.validation=!0}pn.message=function(t,e){return"can't resolve reference "+e+" from id "+t};function pn(t,e,a){this.message=a||pn.message(t,e),this.missingRef=pa.url(t,e),this.missingSchema=pa.normalizeId(pa.fullPath(this.missingRef))}function Un(t){return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Ni=function(t,e){e||(e={}),typeof e=="function"&&(e={cmp:e});var a=typeof e.cycles=="boolean"?e.cycles:!1,n=e.cmp&&function(i){return function(l){return function(o,h){var y={key:o,value:l[o]},v={key:h,value:l[h]};return i(y,v)}}}(e.cmp),r=[];return function i(l){if(l&&l.toJSON&&typeof l.toJSON=="function"&&(l=l.toJSON()),l!==void 0){if(typeof l=="number")return isFinite(l)?""+l:"null";if(typeof l!="object")return JSON.stringify(l);var o,h;if(Array.isArray(l)){for(h="[",o=0;o<l.length;o++)o&&(h+=","),h+=i(l[o])||"null";return h+"]"}if(l===null)return"null";if(r.indexOf(l)!==-1){if(a)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var y=r.push(l)-1,v=Object.keys(l).sort(n&&n(l));for(h="",o=0;o<v.length;o++){var w=v[o],_=i(l[w]);_&&(h&&(h+=","),h+=JSON.stringify(w)+":"+_)}return r.splice(y,1),"{"+h+"}"}}(t)},zi=function(e,a,n){var r="",i=e.schema.$async===!0,l=e.util.schemaHasRulesExcept(e.schema,e.RULES.all,"$ref"),o=e.self._getId(e.schema);if(e.opts.strictKeywords){var h=e.util.schemaUnknownRules(e.schema,e.RULES.keywords);if(h){var y="unknown keyword: "+h;if(e.opts.strictKeywords==="log")e.logger.warn(y);else throw new Error(y)}}if(e.isTop&&(r+=" var validate = ",i&&(e.async=!0,r+="async "),r+="function(data, dataPath, parentData, parentDataProperty, rootData) { 'use strict'; ",o&&(e.opts.sourceCode||e.opts.processCode)&&(r+=" "+("/*# sourceURL="+o+" */")+" ")),typeof e.schema=="boolean"||!(l||e.schema.$ref)){var a="false schema",v=e.level,w=e.dataLevel,_=e.schema[a],f=e.schemaPath+e.util.getProperty(a),p=e.errSchemaPath+"/"+a,L=!e.opts.allErrors,W,P="data"+(w||""),C="valid"+v;if(e.schema===!1){e.isTop?L=!0:r+=" var "+C+" = false; ";var I=I||[];I.push(r),r="",e.createErrors!==!1?(r+=" { keyword: '"+(W||"false schema")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(p)+" , params: {} ",e.opts.messages!==!1&&(r+=" , message: 'boolean schema is false' "),e.opts.verbose&&(r+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+P+" "),r+=" } "):r+=" {} ";var m=r;r=I.pop(),!e.compositeRule&&L?e.async?r+=" throw new ValidationError(["+m+"]); ":r+=" validate.errors = ["+m+"]; return false; ":r+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else e.isTop?i?r+=" return data; ":r+=" validate.errors = null; return true; ":r+=" var "+C+" = true; ";return e.isTop&&(r+=" }; return validate; "),r}if(e.isTop){var R=e.isTop,v=e.level=0,w=e.dataLevel=0,P="data";if(e.rootId=e.resolve.fullPath(e.self._getId(e.root.schema)),e.baseId=e.baseId||e.rootId,delete e.isTop,e.dataPathArr=[""],e.schema.default!==void 0&&e.opts.useDefaults&&e.opts.strictDefaults){var A="default is ignored in the schema root";if(e.opts.strictDefaults==="log")e.logger.warn(A);else throw new Error(A)}r+=" var vErrors = null; ",r+=" var errors = 0;     ",r+=" if (rootData === undefined) rootData = data; "}else{var v=e.level,w=e.dataLevel,P="data"+(w||"");if(o&&(e.baseId=e.resolve.url(e.baseId,o)),i&&!e.async)throw new Error("async schema in sync schema");r+=" var errs_"+v+" = errors;"}var C="valid"+v,L=!e.opts.allErrors,V="",Y="",W,H=e.schema.type,X=Array.isArray(H);if(H&&e.opts.nullable&&e.schema.nullable===!0&&(X?H.indexOf("null")==-1&&(H=H.concat("null")):H!="null"&&(H=[H,"null"],X=!0)),X&&H.length==1&&(H=H[0],X=!1),e.schema.$ref&&l){if(e.opts.extendRefs=="fail")throw new Error('$ref: validation keywords used in schema at path "'+e.errSchemaPath+'" (see option extendRefs)');e.opts.extendRefs!==!0&&(l=!1,e.logger.warn('$ref: keywords ignored in schema at path "'+e.errSchemaPath+'"'))}if(e.schema.$comment&&e.opts.$comment&&(r+=" "+e.RULES.all.$comment.code(e,"$comment")),H){if(e.opts.coerceTypes)var te=e.util.coerceToTypes(e.opts.coerceTypes,H);var Z=e.RULES.types[H];if(te||X||Z===!0||Z&&!Le(Z)){var f=e.schemaPath+".type",p=e.errSchemaPath+"/type",f=e.schemaPath+".type",p=e.errSchemaPath+"/type",K=X?"checkDataTypes":"checkDataType";if(r+=" if ("+e.util[K](H,P,e.opts.strictNumbers,!0)+") { ",te){var Q="dataType"+v,ae="coerced"+v;r+=" var "+Q+" = typeof "+P+"; var "+ae+" = undefined; ",e.opts.coerceTypes=="array"&&(r+=" if ("+Q+" == 'object' && Array.isArray("+P+") && "+P+".length == 1) { "+P+" = "+P+"[0]; "+Q+" = typeof "+P+"; if ("+e.util.checkDataType(e.schema.type,P,e.opts.strictNumbers)+") "+ae+" = "+P+"; } "),r+=" if ("+ae+" !== undefined) ; ";var me=te;if(me)for(var fe,ve=-1,ce=me.length-1;ve<ce;)fe=me[ve+=1],fe=="string"?r+=" else if ("+Q+" == 'number' || "+Q+" == 'boolean') "+ae+" = '' + "+P+"; else if ("+P+" === null) "+ae+" = ''; ":fe=="number"||fe=="integer"?(r+=" else if ("+Q+" == 'boolean' || "+P+" === null || ("+Q+" == 'string' && "+P+" && "+P+" == +"+P+" ",fe=="integer"&&(r+=" && !("+P+" % 1)"),r+=")) "+ae+" = +"+P+"; "):fe=="boolean"?r+=" else if ("+P+" === 'false' || "+P+" === 0 || "+P+" === null) "+ae+" = false; else if ("+P+" === 'true' || "+P+" === 1) "+ae+" = true; ":fe=="null"?r+=" else if ("+P+" === '' || "+P+" === 0 || "+P+" === false) "+ae+" = null; ":e.opts.coerceTypes=="array"&&fe=="array"&&(r+=" else if ("+Q+" == 'string' || "+Q+" == 'number' || "+Q+" == 'boolean' || "+P+" == null) "+ae+" = ["+P+"]; ");r+=" else {   ";var I=I||[];I.push(r),r="",e.createErrors!==!1?(r+=" { keyword: '"+(W||"type")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(p)+" , params: { type: '",X?r+=""+H.join(","):r+=""+H,r+="' } ",e.opts.messages!==!1&&(r+=" , message: 'should be ",X?r+=""+H.join(","):r+=""+H,r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+f+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+P+" "),r+=" } "):r+=" {} ";var m=r;r=I.pop(),!e.compositeRule&&L?e.async?r+=" throw new ValidationError(["+m+"]); ":r+=" validate.errors = ["+m+"]; return false; ":r+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } if ("+ae+" !== undefined) {  ";var ie=w?"data"+(w-1||""):"parentData",de=w?e.dataPathArr[w]:"parentDataProperty";r+=" "+P+" = "+ae+"; ",w||(r+="if ("+ie+" !== undefined)"),r+=" "+ie+"["+de+"] = "+ae+"; } "}else{var I=I||[];I.push(r),r="",e.createErrors!==!1?(r+=" { keyword: '"+(W||"type")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(p)+" , params: { type: '",X?r+=""+H.join(","):r+=""+H,r+="' } ",e.opts.messages!==!1&&(r+=" , message: 'should be ",X?r+=""+H.join(","):r+=""+H,r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+f+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+P+" "),r+=" } "):r+=" {} ";var m=r;r=I.pop(),!e.compositeRule&&L?e.async?r+=" throw new ValidationError(["+m+"]); ":r+=" validate.errors = ["+m+"]; return false; ":r+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}r+=" } "}}if(e.schema.$ref&&!l)r+=" "+e.RULES.all.$ref.code(e,"$ref")+" ",L&&(r+=" } if (errors === ",R?r+="0":r+="errs_"+v,r+=") { ",Y+="}");else{var ge=e.RULES;if(ge){for(var Z,Fe=-1,Ee=ge.length-1;Fe<Ee;)if(Z=ge[Fe+=1],Le(Z)){if(Z.type&&(r+=" if ("+e.util.checkDataType(Z.type,P,e.opts.strictNumbers)+") { "),e.opts.useDefaults){if(Z.type=="object"&&e.schema.properties){var _=e.schema.properties,He=Object.keys(_),B=He;if(B)for(var D,M=-1,ee=B.length-1;M<ee;){D=B[M+=1];var ne=_[D];if(ne.default!==void 0){var g=P+e.util.getProperty(D);if(e.compositeRule){if(e.opts.strictDefaults){var A="default is ignored for: "+g;if(e.opts.strictDefaults==="log")e.logger.warn(A);else throw new Error(A)}}else r+=" if ("+g+" === undefined ",e.opts.useDefaults=="empty"&&(r+=" || "+g+" === null || "+g+" === '' "),r+=" ) "+g+" = ",e.opts.useDefaults=="shared"?r+=" "+e.useDefault(ne.default)+" ":r+=" "+JSON.stringify(ne.default)+" ",r+="; "}}}else if(Z.type=="array"&&Array.isArray(e.schema.items)){var S=e.schema.items;if(S){for(var ne,ve=-1,k=S.length-1;ve<k;)if(ne=S[ve+=1],ne.default!==void 0){var g=P+"["+ve+"]";if(e.compositeRule){if(e.opts.strictDefaults){var A="default is ignored for: "+g;if(e.opts.strictDefaults==="log")e.logger.warn(A);else throw new Error(A)}}else r+=" if ("+g+" === undefined ",e.opts.useDefaults=="empty"&&(r+=" || "+g+" === null || "+g+" === '' "),r+=" ) "+g+" = ",e.opts.useDefaults=="shared"?r+=" "+e.useDefault(ne.default)+" ":r+=" "+JSON.stringify(ne.default)+" ",r+="; "}}}}var G=Z.rules;if(G){for(var be,se=-1,ye=G.length-1;se<ye;)if(be=G[se+=1],Je(be)){var We=be.code(e,be.keyword,Z.type);We&&(r+=" "+We+" ",L&&(V+="}"))}}if(L&&(r+=" "+V+" ",V=""),Z.type&&(r+=" } ",H&&H===Z.type&&!te)){r+=" else { ";var f=e.schemaPath+".type",p=e.errSchemaPath+"/type",I=I||[];I.push(r),r="",e.createErrors!==!1?(r+=" { keyword: '"+(W||"type")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(p)+" , params: { type: '",X?r+=""+H.join(","):r+=""+H,r+="' } ",e.opts.messages!==!1&&(r+=" , message: 'should be ",X?r+=""+H.join(","):r+=""+H,r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+f+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+P+" "),r+=" } "):r+=" {} ";var m=r;r=I.pop(),!e.compositeRule&&L?e.async?r+=" throw new ValidationError(["+m+"]); ":r+=" validate.errors = ["+m+"]; return false; ":r+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } "}L&&(r+=" if (errors === ",R?r+="0":r+="errs_"+v,r+=") { ",Y+="}")}}}L&&(r+=" "+Y+" "),R?(i?(r+=" if (errors === 0) return data;           ",r+=" else throw new ValidationError(vErrors); "):(r+=" validate.errors = vErrors; ",r+=" return errors === 0;       "),r+=" }; return validate;"):r+=" var "+C+" = errors === errs_"+v+";";function Le(Pe){for(var Ce=Pe.rules,qe=0;qe<Ce.length;qe++)if(Je(Ce[qe]))return!0}function Je(Pe){return e.schema[Pe.keyword]!==void 0||Pe.implements&&Ze(Pe)}function Ze(Pe){for(var Ce=Pe.implements,qe=0;qe<Ce.length;qe++)if(e.schema[Ce[qe]]!==void 0)return!0}return r},At=hn,qt=Gr,ji=dn,tu=Ni,Mn=zi,au=qt.ucs2length,nu=sn,iu=ji.Validation,su=Wa;function Wa(t,e,a,n){var r=this,i=this._opts,l=[void 0],o={},h=[],y={},v=[],w={},_=[];e=e||{schema:t,refVal:l,refs:o};var f=ou.call(this,t,e,n),p=this._compilations[f.index];if(f.compiling)return p.callValidate=A;var P=this._formats,I=this.RULES;try{var m=C(t,e,a,n);p.validate=m;var R=p.callValidate;return R&&(R.schema=m.schema,R.errors=null,R.refs=m.refs,R.refVal=m.refVal,R.root=m.root,R.$async=m.$async,i.sourceCode&&(R.source=m.source)),m}finally{lu.call(this,t,e,n)}function A(){var K=p.validate,Q=K.apply(this,arguments);return A.errors=K.errors,Q}function C(K,Q,ae,me){var fe=!Q||Q&&Q.schema==K;if(Q.schema!=e.schema)return Wa.call(r,K,Q,ae,me);var ve=K.$async===!0,ce=Mn({isTop:!0,schema:K,isRoot:fe,baseId:me,root:Q,schemaPath:"",errSchemaPath:"#",errorPath:'""',MissingRefError:ji.MissingRef,RULES:I,validate:Mn,util:qt,resolve:At,resolveRef:L,usePattern:X,useDefault:te,useCustomRule:Z,opts:i,formats:P,logger:r.logger,self:r});ce=Ot(l,cu)+Ot(h,uu)+Ot(v,fu)+Ot(_,hu)+ce,i.processCode&&(ce=i.processCode(ce,K));var ie;try{var de=new Function("self","RULES","formats","root","refVal","defaults","customRules","equal","ucs2length","ValidationError",ce);ie=de(r,I,P,e,l,v,_,nu,au,iu),l[0]=ie}catch(ge){throw r.logger.error("Error compiling schema, function code:",ce),ge}return ie.schema=K,ie.errors=null,ie.refs=o,ie.refVal=l,ie.root=fe?ie:Q,ve&&(ie.$async=!0),i.sourceCode===!0&&(ie.source={code:ce,patterns:h,defaults:v}),ie}function L(K,Q,ae){Q=At.url(K,Q);var me=o[Q],fe,ve;if(me!==void 0)return fe=l[me],ve="refVal["+me+"]",H(fe,ve);if(!ae&&e.refs){var ce=e.refs[Q];if(ce!==void 0)return fe=e.refVal[ce],ve=V(Q,fe),H(fe,ve)}ve=V(Q);var ie=At.call(r,C,e,Q);if(ie===void 0){var de=a&&a[Q];de&&(ie=At.inlineRef(de,i.inlineRefs)?de:Wa.call(r,de,e,a,K))}if(ie===void 0)Y(Q);else return W(Q,ie),H(ie,ve)}function V(K,Q){var ae=l.length;return l[ae]=Q,o[K]=ae,"refVal"+ae}function Y(K){delete o[K]}function W(K,Q){var ae=o[K];l[ae]=Q}function H(K,Q){return typeof K=="object"||typeof K=="boolean"?{code:Q,schema:K,inline:!0}:{code:Q,$async:K&&!!K.$async}}function X(K){var Q=y[K];return Q===void 0&&(Q=y[K]=h.length,h[Q]=K),"pattern"+Q}function te(K){switch(typeof K){case"boolean":case"number":return""+K;case"string":return qt.toQuotedString(K);case"object":if(K===null)return"null";var Q=tu(K),ae=w[Q];return ae===void 0&&(ae=w[Q]=v.length,v[ae]=K),"default"+ae}}function Z(K,Q,ae,me){if(r._opts.validateSchema!==!1){var fe=K.definition.dependencies;if(fe&&!fe.every(function(B){return Object.prototype.hasOwnProperty.call(ae,B)}))throw new Error("parent schema must have all required keywords: "+fe.join(","));var ve=K.definition.validateSchema;if(ve){var ce=ve(Q);if(!ce){var ie="keyword schema is invalid: "+r.errorsText(ve.errors);if(r._opts.validateSchema=="log")r.logger.error(ie);else throw new Error(ie)}}}var de=K.definition.compile,ge=K.definition.inline,Fe=K.definition.macro,Ee;if(de)Ee=de.call(r,Q,ae,me);else if(Fe)Ee=Fe.call(r,Q,ae,me),i.validateSchema!==!1&&r.validateSchema(Ee,!0);else if(ge)Ee=ge.call(r,me,K.keyword,Q,ae);else if(Ee=K.definition.validate,!Ee)return;if(Ee===void 0)throw new Error('custom keyword "'+K.keyword+'"failed to compile');var He=_.length;return _[He]=Ee,{code:"customRule"+He,validate:Ee}}}function ou(t,e,a){var n=Ui.call(this,t,e,a);return n>=0?{index:n,compiling:!0}:(n=this._compilations.length,this._compilations[n]={schema:t,root:e,baseId:a},{index:n,compiling:!1})}function lu(t,e,a){var n=Ui.call(this,t,e,a);n>=0&&this._compilations.splice(n,1)}function Ui(t,e,a){for(var n=0;n<this._compilations.length;n++){var r=this._compilations[n];if(r.schema==t&&r.root==e&&r.baseId==a)return n}return-1}function uu(t,e){return"var pattern"+t+" = new RegExp("+qt.toQuotedString(e[t])+");"}function fu(t){return"var default"+t+" = defaults["+t+"];"}function cu(t,e){return e[t]===void 0?"":"var refVal"+t+" = refVal["+t+"];"}function hu(t){return"var customRule"+t+" = customRules["+t+"];"}function Ot(t,e){if(!t.length)return"";for(var a="",n=0;n<t.length;n++)a+=e(n,t);return a}var Qa={},du={get exports(){return Qa},set exports(t){Qa=t}},Jt=du.exports=function(){this._cache={}};Jt.prototype.put=function(e,a){this._cache[e]=a};Jt.prototype.get=function(e){return this._cache[e]};Jt.prototype.del=function(e){delete this._cache[e]};Jt.prototype.clear=function(){this._cache={}};var pu=Gr,vu=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,mu=[0,31,28,31,30,31,30,31,31,30,31,30,31],yu=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i,Mi=/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,gu=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,wu=/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,qi=/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,ki=/^(?:(?:http[s\u017F]?|ftp):\/\/)(?:(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+(?::(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?@)?(?:(?!10(?:\.[0-9]{1,3}){3})(?!127(?:\.[0-9]{1,3}){3})(?!169\.254(?:\.[0-9]{1,3}){2})(?!192\.168(?:\.[0-9]{1,3}){2})(?!172\.(?:1[6-9]|2[0-9]|3[01])(?:\.[0-9]{1,3}){2})(?:[1-9][0-9]?|1[0-9][0-9]|2[01][0-9]|22[0-3])(?:\.(?:1?[0-9]{1,2}|2[0-4][0-9]|25[0-5])){2}(?:\.(?:[1-9][0-9]?|1[0-9][0-9]|2[0-4][0-9]|25[0-4]))|(?:(?:(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-)*(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)(?:\.(?:(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-)*(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)*(?:\.(?:(?:[a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]){2,})))(?::[0-9]{2,5})?(?:\/(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?$/i,Vi=/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,Hi=/^(?:\/(?:[^~/]|~0|~1)*)*$/,Wi=/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,Qi=/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,Eu=Yt;function Yt(t){return t=t=="full"?"full":"fast",pu.copy(Yt[t])}Yt.fast={date:/^\d\d\d\d-[0-1]\d-[0-3]\d$/,time:/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,"date-time":/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,"uri-template":qi,url:ki,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,hostname:Mi,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:Ji,uuid:Vi,"json-pointer":Hi,"json-pointer-uri-fragment":Wi,"relative-json-pointer":Qi};Yt.full={date:Ki,time:Gi,"date-time":Pu,uri:$u,"uri-reference":wu,"uri-template":qi,url:ki,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:Mi,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:Ji,uuid:Vi,"json-pointer":Hi,"json-pointer-uri-fragment":Wi,"relative-json-pointer":Qi};function bu(t){return t%4===0&&(t%100!==0||t%400===0)}function Ki(t){var e=t.match(vu);if(!e)return!1;var a=+e[1],n=+e[2],r=+e[3];return n>=1&&n<=12&&r>=1&&r<=(n==2&&bu(a)?29:mu[n])}function Gi(t,e){var a=t.match(yu);if(!a)return!1;var n=a[1],r=a[2],i=a[3],l=a[5];return(n<=23&&r<=59&&i<=59||n==23&&r==59&&i==60)&&(!e||l)}var _u=/t|\s/i;function Pu(t){var e=t.split(_u);return e.length==2&&Ki(e[0])&&Gi(e[1],!0)}var Su=/\/|:/;function $u(t){return Su.test(t)&&gu.test(t)}var Iu=/[^\\]\\Z/;function Ji(t){if(Iu.test(t))return!1;try{return new RegExp(t),!0}catch{return!1}}var Ru=function(e,a,n){var r=" ",i=e.level,l=e.dataLevel,o=e.schema[a],h=e.errSchemaPath+"/"+a,y=!e.opts.allErrors,v="data"+(l||""),w="valid"+i,_,f;if(o=="#"||o=="#/")e.isRoot?(_=e.async,f="validate"):(_=e.root.schema.$async===!0,f="root.refVal[0]");else{var p=e.resolveRef(e.baseId,o,e.isRoot);if(p===void 0){var P=e.MissingRefError.message(e.baseId,o);if(e.opts.missingRefs=="fail"){e.logger.error(P);var I=I||[];I.push(r),r="",e.createErrors!==!1?(r+=" { keyword: '$ref' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(h)+" , params: { ref: '"+e.util.escapeQuotes(o)+"' } ",e.opts.messages!==!1&&(r+=" , message: 'can\\'t resolve reference "+e.util.escapeQuotes(o)+"' "),e.opts.verbose&&(r+=" , schema: "+e.util.toQuotedString(o)+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+v+" "),r+=" } "):r+=" {} ";var m=r;r=I.pop(),!e.compositeRule&&y?e.async?r+=" throw new ValidationError(["+m+"]); ":r+=" validate.errors = ["+m+"]; return false; ":r+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",y&&(r+=" if (false) { ")}else if(e.opts.missingRefs=="ignore")e.logger.warn(P),y&&(r+=" if (true) { ");else throw new e.MissingRefError(e.baseId,o,P)}else if(p.inline){var R=e.util.copy(e);R.level++;var A="valid"+R.level;R.schema=p.schema,R.schemaPath="",R.errSchemaPath=o;var C=e.validate(R).replace(/validate\.schema/g,p.code);r+=" "+C+" ",y&&(r+=" if ("+A+") { ")}else _=p.$async===!0||e.async&&p.$async!==!1,f=p.code}if(f){var I=I||[];I.push(r),r="",e.opts.passContext?r+=" "+f+".call(this, ":r+=" "+f+"( ",r+=" "+v+", (dataPath || '')",e.errorPath!='""'&&(r+=" + "+e.errorPath);var L=l?"data"+(l-1||""):"parentData",V=l?e.dataPathArr[l]:"parentDataProperty";r+=" , "+L+" , "+V+", rootData)  ";var Y=r;if(r=I.pop(),_){if(!e.async)throw new Error("async schema referenced by sync schema");y&&(r+=" var "+w+"; "),r+=" try { await "+Y+"; ",y&&(r+=" "+w+" = true; "),r+=" } catch (e) { if (!(e instanceof ValidationError)) throw e; if (vErrors === null) vErrors = e.errors; else vErrors = vErrors.concat(e.errors); errors = vErrors.length; ",y&&(r+=" "+w+" = false; "),r+=" } ",y&&(r+=" if ("+w+") { ")}else r+=" if (!"+Y+") { if (vErrors === null) vErrors = "+f+".errors; else vErrors = vErrors.concat("+f+".errors); errors = vErrors.length; } ",y&&(r+=" else { ")}return r},Tu=function(e,a,n){var r=" ",i=e.schema[a],l=e.schemaPath+e.util.getProperty(a),o=e.errSchemaPath+"/"+a,h=!e.opts.allErrors,y=e.util.copy(e),v="";y.level++;var w="valid"+y.level,_=y.baseId,f=!0,p=i;if(p)for(var P,I=-1,m=p.length-1;I<m;)P=p[I+=1],(e.opts.strictKeywords?typeof P=="object"&&Object.keys(P).length>0||P===!1:e.util.schemaHasRules(P,e.RULES.all))&&(f=!1,y.schema=P,y.schemaPath=l+"["+I+"]",y.errSchemaPath=o+"/"+I,r+="  "+e.validate(y)+" ",y.baseId=_,h&&(r+=" if ("+w+") { ",v+="}"));return h&&(f?r+=" if (true) { ":r+=" "+v.slice(0,-1)+" "),r},Au=function(e,a,n){var r=" ",i=e.level,l=e.dataLevel,o=e.schema[a],h=e.schemaPath+e.util.getProperty(a),y=e.errSchemaPath+"/"+a,v=!e.opts.allErrors,w="data"+(l||""),_="valid"+i,f="errs__"+i,p=e.util.copy(e),P="";p.level++;var I="valid"+p.level,m=o.every(function(W){return e.opts.strictKeywords?typeof W=="object"&&Object.keys(W).length>0||W===!1:e.util.schemaHasRules(W,e.RULES.all)});if(m){var R=p.baseId;r+=" var "+f+" = errors; var "+_+" = false;  ";var A=e.compositeRule;e.compositeRule=p.compositeRule=!0;var C=o;if(C)for(var L,V=-1,Y=C.length-1;V<Y;)L=C[V+=1],p.schema=L,p.schemaPath=h+"["+V+"]",p.errSchemaPath=y+"/"+V,r+="  "+e.validate(p)+" ",p.baseId=R,r+=" "+_+" = "+_+" || "+I+"; if (!"+_+") { ",P+="}";e.compositeRule=p.compositeRule=A,r+=" "+P+" if (!"+_+") {   var err =   ",e.createErrors!==!1?(r+=" { keyword: 'anyOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(y)+" , params: {} ",e.opts.messages!==!1&&(r+=" , message: 'should match some schema in anyOf' "),e.opts.verbose&&(r+=" , schema: validate.schema"+h+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+w+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&v&&(e.async?r+=" throw new ValidationError(vErrors); ":r+=" validate.errors = vErrors; return false; "),r+=" } else {  errors = "+f+"; if (vErrors !== null) { if ("+f+") vErrors.length = "+f+"; else vErrors = null; } ",e.opts.allErrors&&(r+=" } ")}else v&&(r+=" if (true) { ");return r},Ou=function(e,a,n){var r=" ",i=e.schema[a],l=e.errSchemaPath+"/"+a;e.opts.allErrors;var o=e.util.toQuotedString(i);return e.opts.$comment===!0?r+=" console.log("+o+");":typeof e.opts.$comment=="function"&&(r+=" self._opts.$comment("+o+", "+e.util.toQuotedString(l)+", validate.root.schema);"),r},xu=function(e,a,n){var r=" ",i=e.level,l=e.dataLevel,o=e.schema[a],h=e.schemaPath+e.util.getProperty(a),y=e.errSchemaPath+"/"+a,v=!e.opts.allErrors,w="data"+(l||""),_="valid"+i,f=e.opts.$data&&o&&o.$data;f&&(r+=" var schema"+i+" = "+e.util.getData(o.$data,l,e.dataPathArr)+"; "),f||(r+=" var schema"+i+" = validate.schema"+h+";"),r+="var "+_+" = equal("+w+", schema"+i+"); if (!"+_+") {   ";var p=p||[];p.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'const' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(y)+" , params: { allowedValue: schema"+i+" } ",e.opts.messages!==!1&&(r+=" , message: 'should be equal to constant' "),e.opts.verbose&&(r+=" , schema: validate.schema"+h+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+w+" "),r+=" } "):r+=" {} ";var P=r;return r=p.pop(),!e.compositeRule&&v?e.async?r+=" throw new ValidationError(["+P+"]); ":r+=" validate.errors = ["+P+"]; return false; ":r+=" var err = "+P+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" }",v&&(r+=" else { "),r},Fu=function(e,a,n){var r=" ",i=e.level,l=e.dataLevel,o=e.schema[a],h=e.schemaPath+e.util.getProperty(a),y=e.errSchemaPath+"/"+a,v=!e.opts.allErrors,w="data"+(l||""),_="valid"+i,f="errs__"+i,p=e.util.copy(e),P="";p.level++;var I="valid"+p.level,m="i"+i,R=p.dataLevel=e.dataLevel+1,A="data"+R,C=e.baseId,L=e.opts.strictKeywords?typeof o=="object"&&Object.keys(o).length>0||o===!1:e.util.schemaHasRules(o,e.RULES.all);if(r+="var "+f+" = errors;var "+_+";",L){var V=e.compositeRule;e.compositeRule=p.compositeRule=!0,p.schema=o,p.schemaPath=h,p.errSchemaPath=y,r+=" var "+I+" = false; for (var "+m+" = 0; "+m+" < "+w+".length; "+m+"++) { ",p.errorPath=e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers,!0);var Y=w+"["+m+"]";p.dataPathArr[R]=m;var W=e.validate(p);p.baseId=C,e.util.varOccurences(W,A)<2?r+=" "+e.util.varReplace(W,A,Y)+" ":r+=" var "+A+" = "+Y+"; "+W+" ",r+=" if ("+I+") break; }  ",e.compositeRule=p.compositeRule=V,r+=" "+P+" if (!"+I+") {"}else r+=" if ("+w+".length == 0) {";var H=H||[];H.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'contains' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(y)+" , params: {} ",e.opts.messages!==!1&&(r+=" , message: 'should contain a valid item' "),e.opts.verbose&&(r+=" , schema: validate.schema"+h+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+w+" "),r+=" } "):r+=" {} ";var X=r;return r=H.pop(),!e.compositeRule&&v?e.async?r+=" throw new ValidationError(["+X+"]); ":r+=" validate.errors = ["+X+"]; return false; ":r+=" var err = "+X+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else { ",L&&(r+="  errors = "+f+"; if (vErrors !== null) { if ("+f+") vErrors.length = "+f+"; else vErrors = null; } "),e.opts.allErrors&&(r+=" } "),r},Cu=function(e,a,n){var r=" ",i=e.level,l=e.dataLevel,o=e.schema[a],h=e.schemaPath+e.util.getProperty(a),y=e.errSchemaPath+"/"+a,v=!e.opts.allErrors,w="data"+(l||""),_="errs__"+i,f=e.util.copy(e),p="";f.level++;var P="valid"+f.level,I={},m={},R=e.opts.ownProperties;for(V in o)if(V!="__proto__"){var A=o[V],C=Array.isArray(A)?m:I;C[V]=A}r+="var "+_+" = errors;";var L=e.errorPath;r+="var missing"+i+";";for(var V in m)if(C=m[V],C.length){if(r+=" if ( "+w+e.util.getProperty(V)+" !== undefined ",R&&(r+=" && Object.prototype.hasOwnProperty.call("+w+", '"+e.util.escapeQuotes(V)+"') "),v){r+=" && ( ";var Y=C;if(Y)for(var W,H=-1,X=Y.length-1;H<X;){W=Y[H+=1],H&&(r+=" || ");var te=e.util.getProperty(W),Z=w+te;r+=" ( ( "+Z+" === undefined ",R&&(r+=" || ! Object.prototype.hasOwnProperty.call("+w+", '"+e.util.escapeQuotes(W)+"') "),r+=") && (missing"+i+" = "+e.util.toQuotedString(e.opts.jsonPointers?W:te)+") ) "}r+=")) {  ";var K="missing"+i,Q="' + "+K+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(L,K,!0):L+" + "+K);var ae=ae||[];ae.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(y)+" , params: { property: '"+e.util.escapeQuotes(V)+"', missingProperty: '"+Q+"', depsCount: "+C.length+", deps: '"+e.util.escapeQuotes(C.length==1?C[0]:C.join(", "))+"' } ",e.opts.messages!==!1&&(r+=" , message: 'should have ",C.length==1?r+="property "+e.util.escapeQuotes(C[0]):r+="properties "+e.util.escapeQuotes(C.join(", ")),r+=" when property "+e.util.escapeQuotes(V)+" is present' "),e.opts.verbose&&(r+=" , schema: validate.schema"+h+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+w+" "),r+=" } "):r+=" {} ";var me=r;r=ae.pop(),!e.compositeRule&&v?e.async?r+=" throw new ValidationError(["+me+"]); ":r+=" validate.errors = ["+me+"]; return false; ":r+=" var err = "+me+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else{r+=" ) { ";var fe=C;if(fe)for(var W,ve=-1,ce=fe.length-1;ve<ce;){W=fe[ve+=1];var te=e.util.getProperty(W),Q=e.util.escapeQuotes(W),Z=w+te;e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(L,W,e.opts.jsonPointers)),r+=" if ( "+Z+" === undefined ",R&&(r+=" || ! Object.prototype.hasOwnProperty.call("+w+", '"+e.util.escapeQuotes(W)+"') "),r+=") {  var err =   ",e.createErrors!==!1?(r+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(y)+" , params: { property: '"+e.util.escapeQuotes(V)+"', missingProperty: '"+Q+"', depsCount: "+C.length+", deps: '"+e.util.escapeQuotes(C.length==1?C[0]:C.join(", "))+"' } ",e.opts.messages!==!1&&(r+=" , message: 'should have ",C.length==1?r+="property "+e.util.escapeQuotes(C[0]):r+="properties "+e.util.escapeQuotes(C.join(", ")),r+=" when property "+e.util.escapeQuotes(V)+" is present' "),e.opts.verbose&&(r+=" , schema: validate.schema"+h+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+w+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}r+=" }   ",v&&(p+="}",r+=" else { ")}e.errorPath=L;var ie=f.baseId;for(var V in I){var A=I[V];(e.opts.strictKeywords?typeof A=="object"&&Object.keys(A).length>0||A===!1:e.util.schemaHasRules(A,e.RULES.all))&&(r+=" "+P+" = true; if ( "+w+e.util.getProperty(V)+" !== undefined ",R&&(r+=" && Object.prototype.hasOwnProperty.call("+w+", '"+e.util.escapeQuotes(V)+"') "),r+=") { ",f.schema=A,f.schemaPath=h+e.util.getProperty(V),f.errSchemaPath=y+"/"+e.util.escapeFragment(V),r+="  "+e.validate(f)+" ",f.baseId=ie,r+=" }  ",v&&(r+=" if ("+P+") { ",p+="}"))}return v&&(r+="   "+p+" if ("+_+" == errors) {"),r},Du=function(e,a,n){var r=" ",i=e.level,l=e.dataLevel,o=e.schema[a],h=e.schemaPath+e.util.getProperty(a),y=e.errSchemaPath+"/"+a,v=!e.opts.allErrors,w="data"+(l||""),_="valid"+i,f=e.opts.$data&&o&&o.$data;f&&(r+=" var schema"+i+" = "+e.util.getData(o.$data,l,e.dataPathArr)+"; ");var p="i"+i,P="schema"+i;f||(r+=" var "+P+" = validate.schema"+h+";"),r+="var "+_+";",f&&(r+=" if (schema"+i+" === undefined) "+_+" = true; else if (!Array.isArray(schema"+i+")) "+_+" = false; else {"),r+=""+_+" = false;for (var "+p+"=0; "+p+"<"+P+".length; "+p+"++) if (equal("+w+", "+P+"["+p+"])) { "+_+" = true; break; }",f&&(r+="  }  "),r+=" if (!"+_+") {   ";var I=I||[];I.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'enum' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(y)+" , params: { allowedValues: schema"+i+" } ",e.opts.messages!==!1&&(r+=" , message: 'should be equal to one of the allowed values' "),e.opts.verbose&&(r+=" , schema: validate.schema"+h+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+w+" "),r+=" } "):r+=" {} ";var m=r;return r=I.pop(),!e.compositeRule&&v?e.async?r+=" throw new ValidationError(["+m+"]); ":r+=" validate.errors = ["+m+"]; return false; ":r+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" }",v&&(r+=" else { "),r},Bu=function(e,a,n){var r=" ",i=e.level,l=e.dataLevel,o=e.schema[a],h=e.schemaPath+e.util.getProperty(a),y=e.errSchemaPath+"/"+a,v=!e.opts.allErrors,w="data"+(l||"");if(e.opts.format===!1)return v&&(r+=" if (true) { "),r;var _=e.opts.$data&&o&&o.$data,f;_?(r+=" var schema"+i+" = "+e.util.getData(o.$data,l,e.dataPathArr)+"; ",f="schema"+i):f=o;var p=e.opts.unknownFormats,P=Array.isArray(p);if(_){var I="format"+i,m="isObject"+i,R="formatType"+i;r+=" var "+I+" = formats["+f+"]; var "+m+" = typeof "+I+" == 'object' && !("+I+" instanceof RegExp) && "+I+".validate; var "+R+" = "+m+" && "+I+".type || 'string'; if ("+m+") { ",e.async&&(r+=" var async"+i+" = "+I+".async; "),r+=" "+I+" = "+I+".validate; } if (  ",_&&(r+=" ("+f+" !== undefined && typeof "+f+" != 'string') || "),r+=" (",p!="ignore"&&(r+=" ("+f+" && !"+I+" ",P&&(r+=" && self._opts.unknownFormats.indexOf("+f+") == -1 "),r+=") || "),r+=" ("+I+" && "+R+" == '"+n+"' && !(typeof "+I+" == 'function' ? ",e.async?r+=" (async"+i+" ? await "+I+"("+w+") : "+I+"("+w+")) ":r+=" "+I+"("+w+") ",r+=" : "+I+".test("+w+"))))) {"}else{var I=e.formats[o];if(!I){if(p=="ignore")return e.logger.warn('unknown format "'+o+'" ignored in schema at path "'+e.errSchemaPath+'"'),v&&(r+=" if (true) { "),r;if(P&&p.indexOf(o)>=0)return v&&(r+=" if (true) { "),r;throw new Error('unknown format "'+o+'" is used in schema at path "'+e.errSchemaPath+'"')}var m=typeof I=="object"&&!(I instanceof RegExp)&&I.validate,R=m&&I.type||"string";if(m){var A=I.async===!0;I=I.validate}if(R!=n)return v&&(r+=" if (true) { "),r;if(A){if(!e.async)throw new Error("async format in sync schema");var C="formats"+e.util.getProperty(o)+".validate";r+=" if (!(await "+C+"("+w+"))) { "}else{r+=" if (! ";var C="formats"+e.util.getProperty(o);m&&(C+=".validate"),typeof I=="function"?r+=" "+C+"("+w+") ":r+=" "+C+".test("+w+") ",r+=") { "}}var L=L||[];L.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'format' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(y)+" , params: { format:  ",_?r+=""+f:r+=""+e.util.toQuotedString(o),r+="  } ",e.opts.messages!==!1&&(r+=` , message: 'should match format "`,_?r+="' + "+f+" + '":r+=""+e.util.escapeQuotes(o),r+=`"' `),e.opts.verbose&&(r+=" , schema:  ",_?r+="validate.schema"+h:r+=""+e.util.toQuotedString(o),r+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+w+" "),r+=" } "):r+=" {} ";var V=r;return r=L.pop(),!e.compositeRule&&v?e.async?r+=" throw new ValidationError(["+V+"]); ":r+=" validate.errors = ["+V+"]; return false; ":r+=" var err = "+V+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } ",v&&(r+=" else { "),r},Lu=function(e,a,n){var r=" ",i=e.level,l=e.dataLevel,o=e.schema[a],h=e.schemaPath+e.util.getProperty(a),y=e.errSchemaPath+"/"+a,v=!e.opts.allErrors,w="data"+(l||""),_="valid"+i,f="errs__"+i,p=e.util.copy(e);p.level++;var P="valid"+p.level,I=e.schema.then,m=e.schema.else,R=I!==void 0&&(e.opts.strictKeywords?typeof I=="object"&&Object.keys(I).length>0||I===!1:e.util.schemaHasRules(I,e.RULES.all)),A=m!==void 0&&(e.opts.strictKeywords?typeof m=="object"&&Object.keys(m).length>0||m===!1:e.util.schemaHasRules(m,e.RULES.all)),C=p.baseId;if(R||A){var L;p.createErrors=!1,p.schema=o,p.schemaPath=h,p.errSchemaPath=y,r+=" var "+f+" = errors; var "+_+" = true;  ";var V=e.compositeRule;e.compositeRule=p.compositeRule=!0,r+="  "+e.validate(p)+" ",p.baseId=C,p.createErrors=!0,r+="  errors = "+f+"; if (vErrors !== null) { if ("+f+") vErrors.length = "+f+"; else vErrors = null; }  ",e.compositeRule=p.compositeRule=V,R?(r+=" if ("+P+") {  ",p.schema=e.schema.then,p.schemaPath=e.schemaPath+".then",p.errSchemaPath=e.errSchemaPath+"/then",r+="  "+e.validate(p)+" ",p.baseId=C,r+=" "+_+" = "+P+"; ",R&&A?(L="ifClause"+i,r+=" var "+L+" = 'then'; "):L="'then'",r+=" } ",A&&(r+=" else { ")):r+=" if (!"+P+") { ",A&&(p.schema=e.schema.else,p.schemaPath=e.schemaPath+".else",p.errSchemaPath=e.errSchemaPath+"/else",r+="  "+e.validate(p)+" ",p.baseId=C,r+=" "+_+" = "+P+"; ",R&&A?(L="ifClause"+i,r+=" var "+L+" = 'else'; "):L="'else'",r+=" } "),r+=" if (!"+_+") {   var err =   ",e.createErrors!==!1?(r+=" { keyword: 'if' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(y)+" , params: { failingKeyword: "+L+" } ",e.opts.messages!==!1&&(r+=` , message: 'should match "' + `+L+` + '" schema' `),e.opts.verbose&&(r+=" , schema: validate.schema"+h+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+w+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&v&&(e.async?r+=" throw new ValidationError(vErrors); ":r+=" validate.errors = vErrors; return false; "),r+=" }   ",v&&(r+=" else { ")}else v&&(r+=" if (true) { ");return r},Nu=function(e,a,n){var r=" ",i=e.level,l=e.dataLevel,o=e.schema[a],h=e.schemaPath+e.util.getProperty(a),y=e.errSchemaPath+"/"+a,v=!e.opts.allErrors,w="data"+(l||""),_="valid"+i,f="errs__"+i,p=e.util.copy(e),P="";p.level++;var I="valid"+p.level,m="i"+i,R=p.dataLevel=e.dataLevel+1,A="data"+R,C=e.baseId;if(r+="var "+f+" = errors;var "+_+";",Array.isArray(o)){var L=e.schema.additionalItems;if(L===!1){r+=" "+_+" = "+w+".length <= "+o.length+"; ";var V=y;y=e.errSchemaPath+"/additionalItems",r+="  if (!"+_+") {   ";var Y=Y||[];Y.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'additionalItems' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(y)+" , params: { limit: "+o.length+" } ",e.opts.messages!==!1&&(r+=" , message: 'should NOT have more than "+o.length+" items' "),e.opts.verbose&&(r+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+w+" "),r+=" } "):r+=" {} ";var W=r;r=Y.pop(),!e.compositeRule&&v?e.async?r+=" throw new ValidationError(["+W+"]); ":r+=" validate.errors = ["+W+"]; return false; ":r+=" var err = "+W+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } ",y=V,v&&(P+="}",r+=" else { ")}var H=o;if(H){for(var X,te=-1,Z=H.length-1;te<Z;)if(X=H[te+=1],e.opts.strictKeywords?typeof X=="object"&&Object.keys(X).length>0||X===!1:e.util.schemaHasRules(X,e.RULES.all)){r+=" "+I+" = true; if ("+w+".length > "+te+") { ";var K=w+"["+te+"]";p.schema=X,p.schemaPath=h+"["+te+"]",p.errSchemaPath=y+"/"+te,p.errorPath=e.util.getPathExpr(e.errorPath,te,e.opts.jsonPointers,!0),p.dataPathArr[R]=te;var Q=e.validate(p);p.baseId=C,e.util.varOccurences(Q,A)<2?r+=" "+e.util.varReplace(Q,A,K)+" ":r+=" var "+A+" = "+K+"; "+Q+" ",r+=" }  ",v&&(r+=" if ("+I+") { ",P+="}")}}if(typeof L=="object"&&(e.opts.strictKeywords?typeof L=="object"&&Object.keys(L).length>0||L===!1:e.util.schemaHasRules(L,e.RULES.all))){p.schema=L,p.schemaPath=e.schemaPath+".additionalItems",p.errSchemaPath=e.errSchemaPath+"/additionalItems",r+=" "+I+" = true; if ("+w+".length > "+o.length+") {  for (var "+m+" = "+o.length+"; "+m+" < "+w+".length; "+m+"++) { ",p.errorPath=e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers,!0);var K=w+"["+m+"]";p.dataPathArr[R]=m;var Q=e.validate(p);p.baseId=C,e.util.varOccurences(Q,A)<2?r+=" "+e.util.varReplace(Q,A,K)+" ":r+=" var "+A+" = "+K+"; "+Q+" ",v&&(r+=" if (!"+I+") break; "),r+=" } }  ",v&&(r+=" if ("+I+") { ",P+="}")}}else if(e.opts.strictKeywords?typeof o=="object"&&Object.keys(o).length>0||o===!1:e.util.schemaHasRules(o,e.RULES.all)){p.schema=o,p.schemaPath=h,p.errSchemaPath=y,r+="  for (var "+m+" = "+0+"; "+m+" < "+w+".length; "+m+"++) { ",p.errorPath=e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers,!0);var K=w+"["+m+"]";p.dataPathArr[R]=m;var Q=e.validate(p);p.baseId=C,e.util.varOccurences(Q,A)<2?r+=" "+e.util.varReplace(Q,A,K)+" ":r+=" var "+A+" = "+K+"; "+Q+" ",v&&(r+=" if (!"+I+") break; "),r+=" }"}return v&&(r+=" "+P+" if ("+f+" == errors) {"),r},qn=function(e,a,n){var r=" ",i=e.level,l=e.dataLevel,o=e.schema[a],h=e.schemaPath+e.util.getProperty(a),y=e.errSchemaPath+"/"+a,v=!e.opts.allErrors,C,w="data"+(l||""),_=e.opts.$data&&o&&o.$data,f;_?(r+=" var schema"+i+" = "+e.util.getData(o.$data,l,e.dataPathArr)+"; ",f="schema"+i):f=o;var p=a=="maximum",P=p?"exclusiveMaximum":"exclusiveMinimum",I=e.schema[P],m=e.opts.$data&&I&&I.$data,R=p?"<":">",A=p?">":"<",C=void 0;if(!(_||typeof o=="number"||o===void 0))throw new Error(a+" must be number");if(!(m||I===void 0||typeof I=="number"||typeof I=="boolean"))throw new Error(P+" must be number or boolean");if(m){var L=e.util.getData(I.$data,l,e.dataPathArr),V="exclusive"+i,Y="exclType"+i,W="exclIsNumber"+i,H="op"+i,X="' + "+H+" + '";r+=" var schemaExcl"+i+" = "+L+"; ",L="schemaExcl"+i,r+=" var "+V+"; var "+Y+" = typeof "+L+"; if ("+Y+" != 'boolean' && "+Y+" != 'undefined' && "+Y+" != 'number') { ";var C=P,te=te||[];te.push(r),r="",e.createErrors!==!1?(r+=" { keyword: '"+(C||"_exclusiveLimit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(y)+" , params: {} ",e.opts.messages!==!1&&(r+=" , message: '"+P+" should be boolean' "),e.opts.verbose&&(r+=" , schema: validate.schema"+h+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+w+" "),r+=" } "):r+=" {} ";var Z=r;r=te.pop(),!e.compositeRule&&v?e.async?r+=" throw new ValidationError(["+Z+"]); ":r+=" validate.errors = ["+Z+"]; return false; ":r+=" var err = "+Z+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else if ( ",_&&(r+=" ("+f+" !== undefined && typeof "+f+" != 'number') || "),r+=" "+Y+" == 'number' ? ( ("+V+" = "+f+" === undefined || "+L+" "+R+"= "+f+") ? "+w+" "+A+"= "+L+" : "+w+" "+A+" "+f+" ) : ( ("+V+" = "+L+" === true) ? "+w+" "+A+"= "+f+" : "+w+" "+A+" "+f+" ) || "+w+" !== "+w+") { var op"+i+" = "+V+" ? '"+R+"' : '"+R+"='; ",o===void 0&&(C=P,y=e.errSchemaPath+"/"+P,f=L,_=m)}else{var W=typeof I=="number",X=R;if(W&&_){var H="'"+X+"'";r+=" if ( ",_&&(r+=" ("+f+" !== undefined && typeof "+f+" != 'number') || "),r+=" ( "+f+" === undefined || "+I+" "+R+"= "+f+" ? "+w+" "+A+"= "+I+" : "+w+" "+A+" "+f+" ) || "+w+" !== "+w+") { "}else{W&&o===void 0?(V=!0,C=P,y=e.errSchemaPath+"/"+P,f=I,A+="="):(W&&(f=Math[p?"min":"max"](I,o)),I===(W?f:!0)?(V=!0,C=P,y=e.errSchemaPath+"/"+P,A+="="):(V=!1,X+="="));var H="'"+X+"'";r+=" if ( ",_&&(r+=" ("+f+" !== undefined && typeof "+f+" != 'number') || "),r+=" "+w+" "+A+" "+f+" || "+w+" !== "+w+") { "}}C=C||a;var te=te||[];te.push(r),r="",e.createErrors!==!1?(r+=" { keyword: '"+(C||"_limit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(y)+" , params: { comparison: "+H+", limit: "+f+", exclusive: "+V+" } ",e.opts.messages!==!1&&(r+=" , message: 'should be "+X+" ",_?r+="' + "+f:r+=""+f+"'"),e.opts.verbose&&(r+=" , schema:  ",_?r+="validate.schema"+h:r+=""+o,r+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+w+" "),r+=" } "):r+=" {} ";var Z=r;return r=te.pop(),!e.compositeRule&&v?e.async?r+=" throw new ValidationError(["+Z+"]); ":r+=" validate.errors = ["+Z+"]; return false; ":r+=" var err = "+Z+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } ",v&&(r+=" else { "),r},kn=function(e,a,n){var r=" ",i=e.level,l=e.dataLevel,o=e.schema[a],h=e.schemaPath+e.util.getProperty(a),y=e.errSchemaPath+"/"+a,v=!e.opts.allErrors,P,w="data"+(l||""),_=e.opts.$data&&o&&o.$data,f;if(_?(r+=" var schema"+i+" = "+e.util.getData(o.$data,l,e.dataPathArr)+"; ",f="schema"+i):f=o,!(_||typeof o=="number"))throw new Error(a+" must be number");var p=a=="maxItems"?">":"<";r+="if ( ",_&&(r+=" ("+f+" !== undefined && typeof "+f+" != 'number') || "),r+=" "+w+".length "+p+" "+f+") { ";var P=a,I=I||[];I.push(r),r="",e.createErrors!==!1?(r+=" { keyword: '"+(P||"_limitItems")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(y)+" , params: { limit: "+f+" } ",e.opts.messages!==!1&&(r+=" , message: 'should NOT have ",a=="maxItems"?r+="more":r+="fewer",r+=" than ",_?r+="' + "+f+" + '":r+=""+o,r+=" items' "),e.opts.verbose&&(r+=" , schema:  ",_?r+="validate.schema"+h:r+=""+o,r+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+w+" "),r+=" } "):r+=" {} ";var m=r;return r=I.pop(),!e.compositeRule&&v?e.async?r+=" throw new ValidationError(["+m+"]); ":r+=" validate.errors = ["+m+"]; return false; ":r+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+="} ",v&&(r+=" else { "),r},Vn=function(e,a,n){var r=" ",i=e.level,l=e.dataLevel,o=e.schema[a],h=e.schemaPath+e.util.getProperty(a),y=e.errSchemaPath+"/"+a,v=!e.opts.allErrors,P,w="data"+(l||""),_=e.opts.$data&&o&&o.$data,f;if(_?(r+=" var schema"+i+" = "+e.util.getData(o.$data,l,e.dataPathArr)+"; ",f="schema"+i):f=o,!(_||typeof o=="number"))throw new Error(a+" must be number");var p=a=="maxLength"?">":"<";r+="if ( ",_&&(r+=" ("+f+" !== undefined && typeof "+f+" != 'number') || "),e.opts.unicode===!1?r+=" "+w+".length ":r+=" ucs2length("+w+") ",r+=" "+p+" "+f+") { ";var P=a,I=I||[];I.push(r),r="",e.createErrors!==!1?(r+=" { keyword: '"+(P||"_limitLength")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(y)+" , params: { limit: "+f+" } ",e.opts.messages!==!1&&(r+=" , message: 'should NOT be ",a=="maxLength"?r+="longer":r+="shorter",r+=" than ",_?r+="' + "+f+" + '":r+=""+o,r+=" characters' "),e.opts.verbose&&(r+=" , schema:  ",_?r+="validate.schema"+h:r+=""+o,r+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+w+" "),r+=" } "):r+=" {} ";var m=r;return r=I.pop(),!e.compositeRule&&v?e.async?r+=" throw new ValidationError(["+m+"]); ":r+=" validate.errors = ["+m+"]; return false; ":r+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+="} ",v&&(r+=" else { "),r},Hn=function(e,a,n){var r=" ",i=e.level,l=e.dataLevel,o=e.schema[a],h=e.schemaPath+e.util.getProperty(a),y=e.errSchemaPath+"/"+a,v=!e.opts.allErrors,P,w="data"+(l||""),_=e.opts.$data&&o&&o.$data,f;if(_?(r+=" var schema"+i+" = "+e.util.getData(o.$data,l,e.dataPathArr)+"; ",f="schema"+i):f=o,!(_||typeof o=="number"))throw new Error(a+" must be number");var p=a=="maxProperties"?">":"<";r+="if ( ",_&&(r+=" ("+f+" !== undefined && typeof "+f+" != 'number') || "),r+=" Object.keys("+w+").length "+p+" "+f+") { ";var P=a,I=I||[];I.push(r),r="",e.createErrors!==!1?(r+=" { keyword: '"+(P||"_limitProperties")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(y)+" , params: { limit: "+f+" } ",e.opts.messages!==!1&&(r+=" , message: 'should NOT have ",a=="maxProperties"?r+="more":r+="fewer",r+=" than ",_?r+="' + "+f+" + '":r+=""+o,r+=" properties' "),e.opts.verbose&&(r+=" , schema:  ",_?r+="validate.schema"+h:r+=""+o,r+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+w+" "),r+=" } "):r+=" {} ";var m=r;return r=I.pop(),!e.compositeRule&&v?e.async?r+=" throw new ValidationError(["+m+"]); ":r+=" validate.errors = ["+m+"]; return false; ":r+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+="} ",v&&(r+=" else { "),r},zu=function(e,a,n){var r=" ",i=e.level,l=e.dataLevel,o=e.schema[a],h=e.schemaPath+e.util.getProperty(a),y=e.errSchemaPath+"/"+a,v=!e.opts.allErrors,w="data"+(l||""),_=e.opts.$data&&o&&o.$data,f;if(_?(r+=" var schema"+i+" = "+e.util.getData(o.$data,l,e.dataPathArr)+"; ",f="schema"+i):f=o,!(_||typeof o=="number"))throw new Error(a+" must be number");r+="var division"+i+";if (",_&&(r+=" "+f+" !== undefined && ( typeof "+f+" != 'number' || "),r+=" (division"+i+" = "+w+" / "+f+", ",e.opts.multipleOfPrecision?r+=" Math.abs(Math.round(division"+i+") - division"+i+") > 1e-"+e.opts.multipleOfPrecision+" ":r+=" division"+i+" !== parseInt(division"+i+") ",r+=" ) ",_&&(r+="  )  "),r+=" ) {   ";var p=p||[];p.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'multipleOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(y)+" , params: { multipleOf: "+f+" } ",e.opts.messages!==!1&&(r+=" , message: 'should be multiple of ",_?r+="' + "+f:r+=""+f+"'"),e.opts.verbose&&(r+=" , schema:  ",_?r+="validate.schema"+h:r+=""+o,r+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+w+" "),r+=" } "):r+=" {} ";var P=r;return r=p.pop(),!e.compositeRule&&v?e.async?r+=" throw new ValidationError(["+P+"]); ":r+=" validate.errors = ["+P+"]; return false; ":r+=" var err = "+P+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+="} ",v&&(r+=" else { "),r},ju=function(e,a,n){var r=" ",i=e.level,l=e.dataLevel,o=e.schema[a],h=e.schemaPath+e.util.getProperty(a),y=e.errSchemaPath+"/"+a,v=!e.opts.allErrors,w="data"+(l||""),_="errs__"+i,f=e.util.copy(e);f.level++;var p="valid"+f.level;if(e.opts.strictKeywords?typeof o=="object"&&Object.keys(o).length>0||o===!1:e.util.schemaHasRules(o,e.RULES.all)){f.schema=o,f.schemaPath=h,f.errSchemaPath=y,r+=" var "+_+" = errors;  ";var P=e.compositeRule;e.compositeRule=f.compositeRule=!0,f.createErrors=!1;var I;f.opts.allErrors&&(I=f.opts.allErrors,f.opts.allErrors=!1),r+=" "+e.validate(f)+" ",f.createErrors=!0,I&&(f.opts.allErrors=I),e.compositeRule=f.compositeRule=P,r+=" if ("+p+") {   ";var m=m||[];m.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'not' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(y)+" , params: {} ",e.opts.messages!==!1&&(r+=" , message: 'should NOT be valid' "),e.opts.verbose&&(r+=" , schema: validate.schema"+h+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+w+" "),r+=" } "):r+=" {} ";var R=r;r=m.pop(),!e.compositeRule&&v?e.async?r+=" throw new ValidationError(["+R+"]); ":r+=" validate.errors = ["+R+"]; return false; ":r+=" var err = "+R+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else {  errors = "+_+"; if (vErrors !== null) { if ("+_+") vErrors.length = "+_+"; else vErrors = null; } ",e.opts.allErrors&&(r+=" } ")}else r+="  var err =   ",e.createErrors!==!1?(r+=" { keyword: 'not' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(y)+" , params: {} ",e.opts.messages!==!1&&(r+=" , message: 'should NOT be valid' "),e.opts.verbose&&(r+=" , schema: validate.schema"+h+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+w+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",v&&(r+=" if (false) { ");return r},Uu=function(e,a,n){var r=" ",i=e.level,l=e.dataLevel,o=e.schema[a],h=e.schemaPath+e.util.getProperty(a),y=e.errSchemaPath+"/"+a,v=!e.opts.allErrors,w="data"+(l||""),_="valid"+i,f="errs__"+i,p=e.util.copy(e),P="";p.level++;var I="valid"+p.level,m=p.baseId,R="prevValid"+i,A="passingSchemas"+i;r+="var "+f+" = errors , "+R+" = false , "+_+" = false , "+A+" = null; ";var C=e.compositeRule;e.compositeRule=p.compositeRule=!0;var L=o;if(L)for(var V,Y=-1,W=L.length-1;Y<W;)V=L[Y+=1],(e.opts.strictKeywords?typeof V=="object"&&Object.keys(V).length>0||V===!1:e.util.schemaHasRules(V,e.RULES.all))?(p.schema=V,p.schemaPath=h+"["+Y+"]",p.errSchemaPath=y+"/"+Y,r+="  "+e.validate(p)+" ",p.baseId=m):r+=" var "+I+" = true; ",Y&&(r+=" if ("+I+" && "+R+") { "+_+" = false; "+A+" = ["+A+", "+Y+"]; } else { ",P+="}"),r+=" if ("+I+") { "+_+" = "+R+" = true; "+A+" = "+Y+"; }";return e.compositeRule=p.compositeRule=C,r+=""+P+"if (!"+_+") {   var err =   ",e.createErrors!==!1?(r+=" { keyword: 'oneOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(y)+" , params: { passingSchemas: "+A+" } ",e.opts.messages!==!1&&(r+=" , message: 'should match exactly one schema in oneOf' "),e.opts.verbose&&(r+=" , schema: validate.schema"+h+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+w+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&v&&(e.async?r+=" throw new ValidationError(vErrors); ":r+=" validate.errors = vErrors; return false; "),r+="} else {  errors = "+f+"; if (vErrors !== null) { if ("+f+") vErrors.length = "+f+"; else vErrors = null; }",e.opts.allErrors&&(r+=" } "),r},Mu=function(e,a,n){var r=" ",i=e.level,l=e.dataLevel,o=e.schema[a],h=e.schemaPath+e.util.getProperty(a),y=e.errSchemaPath+"/"+a,v=!e.opts.allErrors,w="data"+(l||""),_=e.opts.$data&&o&&o.$data,f;_?(r+=" var schema"+i+" = "+e.util.getData(o.$data,l,e.dataPathArr)+"; ",f="schema"+i):f=o;var p=_?"(new RegExp("+f+"))":e.usePattern(o);r+="if ( ",_&&(r+=" ("+f+" !== undefined && typeof "+f+" != 'string') || "),r+=" !"+p+".test("+w+") ) {   ";var P=P||[];P.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'pattern' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(y)+" , params: { pattern:  ",_?r+=""+f:r+=""+e.util.toQuotedString(o),r+="  } ",e.opts.messages!==!1&&(r+=` , message: 'should match pattern "`,_?r+="' + "+f+" + '":r+=""+e.util.escapeQuotes(o),r+=`"' `),e.opts.verbose&&(r+=" , schema:  ",_?r+="validate.schema"+h:r+=""+e.util.toQuotedString(o),r+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+w+" "),r+=" } "):r+=" {} ";var I=r;return r=P.pop(),!e.compositeRule&&v?e.async?r+=" throw new ValidationError(["+I+"]); ":r+=" validate.errors = ["+I+"]; return false; ":r+=" var err = "+I+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+="} ",v&&(r+=" else { "),r},qu=function(e,a,n){var r=" ",i=e.level,l=e.dataLevel,o=e.schema[a],h=e.schemaPath+e.util.getProperty(a),y=e.errSchemaPath+"/"+a,v=!e.opts.allErrors,w="data"+(l||""),_="errs__"+i,f=e.util.copy(e),p="";f.level++;var P="valid"+f.level,I="key"+i,m="idx"+i,R=f.dataLevel=e.dataLevel+1,A="data"+R,C="dataProperties"+i,L=Object.keys(o||{}).filter(ve),V=e.schema.patternProperties||{},Y=Object.keys(V).filter(ve),W=e.schema.additionalProperties,H=L.length||Y.length,X=W===!1,te=typeof W=="object"&&Object.keys(W).length,Z=e.opts.removeAdditional,K=X||te||Z,Q=e.opts.ownProperties,ae=e.baseId,me=e.schema.required;if(me&&!(e.opts.$data&&me.$data)&&me.length<e.opts.loopRequired)var fe=e.util.toHash(me);function ve(d){return d!=="__proto__"}if(r+="var "+_+" = errors;var "+P+" = true;",Q&&(r+=" var "+C+" = undefined;"),K){if(Q?r+=" "+C+" = "+C+" || Object.keys("+w+"); for (var "+m+"=0; "+m+"<"+C+".length; "+m+"++) { var "+I+" = "+C+"["+m+"]; ":r+=" for (var "+I+" in "+w+") { ",H){if(r+=" var isAdditional"+i+" = !(false ",L.length)if(L.length>8)r+=" || validate.schema"+h+".hasOwnProperty("+I+") ";else{var ce=L;if(ce)for(var ie,de=-1,ge=ce.length-1;de<ge;)ie=ce[de+=1],r+=" || "+I+" == "+e.util.toQuotedString(ie)+" "}if(Y.length){var Fe=Y;if(Fe)for(var Ee,He=-1,B=Fe.length-1;He<B;)Ee=Fe[He+=1],r+=" || "+e.usePattern(Ee)+".test("+I+") "}r+=" ); if (isAdditional"+i+") { "}if(Z=="all")r+=" delete "+w+"["+I+"]; ";else{var D=e.errorPath,M="' + "+I+" + '";if(e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(e.errorPath,I,e.opts.jsonPointers)),X)if(Z)r+=" delete "+w+"["+I+"]; ";else{r+=" "+P+" = false; ";var ee=y;y=e.errSchemaPath+"/additionalProperties";var ne=ne||[];ne.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'additionalProperties' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(y)+" , params: { additionalProperty: '"+M+"' } ",e.opts.messages!==!1&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is an invalid additional property":r+="should NOT have additional properties",r+="' "),e.opts.verbose&&(r+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+w+" "),r+=" } "):r+=" {} ";var g=r;r=ne.pop(),!e.compositeRule&&v?e.async?r+=" throw new ValidationError(["+g+"]); ":r+=" validate.errors = ["+g+"]; return false; ":r+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",y=ee,v&&(r+=" break; ")}else if(te)if(Z=="failing"){r+=" var "+_+" = errors;  ";var S=e.compositeRule;e.compositeRule=f.compositeRule=!0,f.schema=W,f.schemaPath=e.schemaPath+".additionalProperties",f.errSchemaPath=e.errSchemaPath+"/additionalProperties",f.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,I,e.opts.jsonPointers);var k=w+"["+I+"]";f.dataPathArr[R]=I;var G=e.validate(f);f.baseId=ae,e.util.varOccurences(G,A)<2?r+=" "+e.util.varReplace(G,A,k)+" ":r+=" var "+A+" = "+k+"; "+G+" ",r+=" if (!"+P+") { errors = "+_+"; if (validate.errors !== null) { if (errors) validate.errors.length = errors; else validate.errors = null; } delete "+w+"["+I+"]; }  ",e.compositeRule=f.compositeRule=S}else{f.schema=W,f.schemaPath=e.schemaPath+".additionalProperties",f.errSchemaPath=e.errSchemaPath+"/additionalProperties",f.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,I,e.opts.jsonPointers);var k=w+"["+I+"]";f.dataPathArr[R]=I;var G=e.validate(f);f.baseId=ae,e.util.varOccurences(G,A)<2?r+=" "+e.util.varReplace(G,A,k)+" ":r+=" var "+A+" = "+k+"; "+G+" ",v&&(r+=" if (!"+P+") break; ")}e.errorPath=D}H&&(r+=" } "),r+=" }  ",v&&(r+=" if ("+P+") { ",p+="}")}var be=e.opts.useDefaults&&!e.compositeRule;if(L.length){var se=L;if(se)for(var ie,ye=-1,We=se.length-1;ye<We;){ie=se[ye+=1];var Le=o[ie];if(e.opts.strictKeywords?typeof Le=="object"&&Object.keys(Le).length>0||Le===!1:e.util.schemaHasRules(Le,e.RULES.all)){var Je=e.util.getProperty(ie),k=w+Je,Ze=be&&Le.default!==void 0;f.schema=Le,f.schemaPath=h+Je,f.errSchemaPath=y+"/"+e.util.escapeFragment(ie),f.errorPath=e.util.getPath(e.errorPath,ie,e.opts.jsonPointers),f.dataPathArr[R]=e.util.toQuotedString(ie);var G=e.validate(f);if(f.baseId=ae,e.util.varOccurences(G,A)<2){G=e.util.varReplace(G,A,k);var Pe=k}else{var Pe=A;r+=" var "+A+" = "+k+"; "}if(Ze)r+=" "+G+" ";else{if(fe&&fe[ie]){r+=" if ( "+Pe+" === undefined ",Q&&(r+=" || ! Object.prototype.hasOwnProperty.call("+w+", '"+e.util.escapeQuotes(ie)+"') "),r+=") { "+P+" = false; ";var D=e.errorPath,ee=y,Ce=e.util.escapeQuotes(ie);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(D,ie,e.opts.jsonPointers)),y=e.errSchemaPath+"/required";var ne=ne||[];ne.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(y)+" , params: { missingProperty: '"+Ce+"' } ",e.opts.messages!==!1&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+Ce+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+h+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+w+" "),r+=" } "):r+=" {} ";var g=r;r=ne.pop(),!e.compositeRule&&v?e.async?r+=" throw new ValidationError(["+g+"]); ":r+=" validate.errors = ["+g+"]; return false; ":r+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",y=ee,e.errorPath=D,r+=" } else { "}else v?(r+=" if ( "+Pe+" === undefined ",Q&&(r+=" || ! Object.prototype.hasOwnProperty.call("+w+", '"+e.util.escapeQuotes(ie)+"') "),r+=") { "+P+" = true; } else { "):(r+=" if ("+Pe+" !== undefined ",Q&&(r+=" &&   Object.prototype.hasOwnProperty.call("+w+", '"+e.util.escapeQuotes(ie)+"') "),r+=" ) { ");r+=" "+G+" } "}}v&&(r+=" if ("+P+") { ",p+="}")}}if(Y.length){var qe=Y;if(qe)for(var Ee,Ve=-1,rr=qe.length-1;Ve<rr;){Ee=qe[Ve+=1];var Le=V[Ee];if(e.opts.strictKeywords?typeof Le=="object"&&Object.keys(Le).length>0||Le===!1:e.util.schemaHasRules(Le,e.RULES.all)){f.schema=Le,f.schemaPath=e.schemaPath+".patternProperties"+e.util.getProperty(Ee),f.errSchemaPath=e.errSchemaPath+"/patternProperties/"+e.util.escapeFragment(Ee),Q?r+=" "+C+" = "+C+" || Object.keys("+w+"); for (var "+m+"=0; "+m+"<"+C+".length; "+m+"++) { var "+I+" = "+C+"["+m+"]; ":r+=" for (var "+I+" in "+w+") { ",r+=" if ("+e.usePattern(Ee)+".test("+I+")) { ",f.errorPath=e.util.getPathExpr(e.errorPath,I,e.opts.jsonPointers);var k=w+"["+I+"]";f.dataPathArr[R]=I;var G=e.validate(f);f.baseId=ae,e.util.varOccurences(G,A)<2?r+=" "+e.util.varReplace(G,A,k)+" ":r+=" var "+A+" = "+k+"; "+G+" ",v&&(r+=" if (!"+P+") break; "),r+=" } ",v&&(r+=" else "+P+" = true; "),r+=" }  ",v&&(r+=" if ("+P+") { ",p+="}")}}}return v&&(r+=" "+p+" if ("+_+" == errors) {"),r},ku=function(e,a,n){var r=" ",i=e.level,l=e.dataLevel,o=e.schema[a],h=e.schemaPath+e.util.getProperty(a),y=e.errSchemaPath+"/"+a,v=!e.opts.allErrors,w="data"+(l||""),_="errs__"+i,f=e.util.copy(e),p="";f.level++;var P="valid"+f.level;if(r+="var "+_+" = errors;",e.opts.strictKeywords?typeof o=="object"&&Object.keys(o).length>0||o===!1:e.util.schemaHasRules(o,e.RULES.all)){f.schema=o,f.schemaPath=h,f.errSchemaPath=y;var I="key"+i,m="idx"+i,R="i"+i,A="' + "+I+" + '",C=f.dataLevel=e.dataLevel+1,L="data"+C,V="dataProperties"+i,Y=e.opts.ownProperties,W=e.baseId;Y&&(r+=" var "+V+" = undefined; "),Y?r+=" "+V+" = "+V+" || Object.keys("+w+"); for (var "+m+"=0; "+m+"<"+V+".length; "+m+"++) { var "+I+" = "+V+"["+m+"]; ":r+=" for (var "+I+" in "+w+") { ",r+=" var startErrs"+i+" = errors; ";var H=I,X=e.compositeRule;e.compositeRule=f.compositeRule=!0;var te=e.validate(f);f.baseId=W,e.util.varOccurences(te,L)<2?r+=" "+e.util.varReplace(te,L,H)+" ":r+=" var "+L+" = "+H+"; "+te+" ",e.compositeRule=f.compositeRule=X,r+=" if (!"+P+") { for (var "+R+"=startErrs"+i+"; "+R+"<errors; "+R+"++) { vErrors["+R+"].propertyName = "+I+"; }   var err =   ",e.createErrors!==!1?(r+=" { keyword: 'propertyNames' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(y)+" , params: { propertyName: '"+A+"' } ",e.opts.messages!==!1&&(r+=" , message: 'property name \\'"+A+"\\' is invalid' "),e.opts.verbose&&(r+=" , schema: validate.schema"+h+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+w+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&v&&(e.async?r+=" throw new ValidationError(vErrors); ":r+=" validate.errors = vErrors; return false; "),v&&(r+=" break; "),r+=" } }"}return v&&(r+=" "+p+" if ("+_+" == errors) {"),r},Vu=function(e,a,n){var r=" ",i=e.level,l=e.dataLevel,o=e.schema[a],h=e.schemaPath+e.util.getProperty(a),y=e.errSchemaPath+"/"+a,v=!e.opts.allErrors,w="data"+(l||""),_="valid"+i,f=e.opts.$data&&o&&o.$data;f&&(r+=" var schema"+i+" = "+e.util.getData(o.$data,l,e.dataPathArr)+"; ");var p="schema"+i;if(!f)if(o.length<e.opts.loopRequired&&e.schema.properties&&Object.keys(e.schema.properties).length){var P=[],I=o;if(I)for(var m,R=-1,A=I.length-1;R<A;){m=I[R+=1];var C=e.schema.properties[m];C&&(e.opts.strictKeywords?typeof C=="object"&&Object.keys(C).length>0||C===!1:e.util.schemaHasRules(C,e.RULES.all))||(P[P.length]=m)}}else var P=o;if(f||P.length){var L=e.errorPath,V=f||P.length>=e.opts.loopRequired,Y=e.opts.ownProperties;if(v)if(r+=" var missing"+i+"; ",V){f||(r+=" var "+p+" = validate.schema"+h+"; ");var W="i"+i,H="schema"+i+"["+W+"]",X="' + "+H+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(L,H,e.opts.jsonPointers)),r+=" var "+_+" = true; ",f&&(r+=" if (schema"+i+" === undefined) "+_+" = true; else if (!Array.isArray(schema"+i+")) "+_+" = false; else {"),r+=" for (var "+W+" = 0; "+W+" < "+p+".length; "+W+"++) { "+_+" = "+w+"["+p+"["+W+"]] !== undefined ",Y&&(r+=" &&   Object.prototype.hasOwnProperty.call("+w+", "+p+"["+W+"]) "),r+="; if (!"+_+") break; } ",f&&(r+="  }  "),r+="  if (!"+_+") {   ";var te=te||[];te.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(y)+" , params: { missingProperty: '"+X+"' } ",e.opts.messages!==!1&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+X+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+h+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+w+" "),r+=" } "):r+=" {} ";var Z=r;r=te.pop(),!e.compositeRule&&v?e.async?r+=" throw new ValidationError(["+Z+"]); ":r+=" validate.errors = ["+Z+"]; return false; ":r+=" var err = "+Z+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else { "}else{r+=" if ( ";var K=P;if(K)for(var Q,W=-1,ae=K.length-1;W<ae;){Q=K[W+=1],W&&(r+=" || ");var me=e.util.getProperty(Q),fe=w+me;r+=" ( ( "+fe+" === undefined ",Y&&(r+=" || ! Object.prototype.hasOwnProperty.call("+w+", '"+e.util.escapeQuotes(Q)+"') "),r+=") && (missing"+i+" = "+e.util.toQuotedString(e.opts.jsonPointers?Q:me)+") ) "}r+=") {  ";var H="missing"+i,X="' + "+H+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(L,H,!0):L+" + "+H);var te=te||[];te.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(y)+" , params: { missingProperty: '"+X+"' } ",e.opts.messages!==!1&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+X+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+h+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+w+" "),r+=" } "):r+=" {} ";var Z=r;r=te.pop(),!e.compositeRule&&v?e.async?r+=" throw new ValidationError(["+Z+"]); ":r+=" validate.errors = ["+Z+"]; return false; ":r+=" var err = "+Z+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else { "}else if(V){f||(r+=" var "+p+" = validate.schema"+h+"; ");var W="i"+i,H="schema"+i+"["+W+"]",X="' + "+H+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(L,H,e.opts.jsonPointers)),f&&(r+=" if ("+p+" && !Array.isArray("+p+")) {  var err =   ",e.createErrors!==!1?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(y)+" , params: { missingProperty: '"+X+"' } ",e.opts.messages!==!1&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+X+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+h+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+w+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } else if ("+p+" !== undefined) { "),r+=" for (var "+W+" = 0; "+W+" < "+p+".length; "+W+"++) { if ("+w+"["+p+"["+W+"]] === undefined ",Y&&(r+=" || ! Object.prototype.hasOwnProperty.call("+w+", "+p+"["+W+"]) "),r+=") {  var err =   ",e.createErrors!==!1?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(y)+" , params: { missingProperty: '"+X+"' } ",e.opts.messages!==!1&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+X+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+h+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+w+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } } ",f&&(r+="  }  ")}else{var ve=P;if(ve)for(var Q,ce=-1,ie=ve.length-1;ce<ie;){Q=ve[ce+=1];var me=e.util.getProperty(Q),X=e.util.escapeQuotes(Q),fe=w+me;e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(L,Q,e.opts.jsonPointers)),r+=" if ( "+fe+" === undefined ",Y&&(r+=" || ! Object.prototype.hasOwnProperty.call("+w+", '"+e.util.escapeQuotes(Q)+"') "),r+=") {  var err =   ",e.createErrors!==!1?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(y)+" , params: { missingProperty: '"+X+"' } ",e.opts.messages!==!1&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+X+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+h+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+w+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}e.errorPath=L}else v&&(r+=" if (true) {");return r},Hu=function(e,a,n){var r=" ",i=e.level,l=e.dataLevel,o=e.schema[a],h=e.schemaPath+e.util.getProperty(a),y=e.errSchemaPath+"/"+a,v=!e.opts.allErrors,w="data"+(l||""),_="valid"+i,f=e.opts.$data&&o&&o.$data,p;if(f?(r+=" var schema"+i+" = "+e.util.getData(o.$data,l,e.dataPathArr)+"; ",p="schema"+i):p=o,(o||f)&&e.opts.uniqueItems!==!1){f&&(r+=" var "+_+"; if ("+p+" === false || "+p+" === undefined) "+_+" = true; else if (typeof "+p+" != 'boolean') "+_+" = false; else { "),r+=" var i = "+w+".length , "+_+" = true , j; if (i > 1) { ";var P=e.schema.items&&e.schema.items.type,I=Array.isArray(P);if(!P||P=="object"||P=="array"||I&&(P.indexOf("object")>=0||P.indexOf("array")>=0))r+=" outer: for (;i--;) { for (j = i; j--;) { if (equal("+w+"[i], "+w+"[j])) { "+_+" = false; break outer; } } } ";else{r+=" var itemIndices = {}, item; for (;i--;) { var item = "+w+"[i]; ";var m="checkDataType"+(I?"s":"");r+=" if ("+e.util[m](P,"item",e.opts.strictNumbers,!0)+") continue; ",I&&(r+=` if (typeof item == 'string') item = '"' + item; `),r+=" if (typeof itemIndices[item] == 'number') { "+_+" = false; j = itemIndices[item]; break; } itemIndices[item] = i; } "}r+=" } ",f&&(r+="  }  "),r+=" if (!"+_+") {   ";var R=R||[];R.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'uniqueItems' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(y)+" , params: { i: i, j: j } ",e.opts.messages!==!1&&(r+=" , message: 'should NOT have duplicate items (items ## ' + j + ' and ' + i + ' are identical)' "),e.opts.verbose&&(r+=" , schema:  ",f?r+="validate.schema"+h:r+=""+o,r+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+w+" "),r+=" } "):r+=" {} ";var A=r;r=R.pop(),!e.compositeRule&&v?e.async?r+=" throw new ValidationError(["+A+"]); ":r+=" validate.errors = ["+A+"]; return false; ":r+=" var err = "+A+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } ",v&&(r+=" else { ")}else v&&(r+=" if (true) { ");return r},Wu={$ref:Ru,allOf:Tu,anyOf:Au,$comment:Ou,const:xu,contains:Fu,dependencies:Cu,enum:Du,format:Bu,if:Lu,items:Nu,maximum:qn,minimum:qn,maxItems:kn,minItems:kn,maxLength:Vn,minLength:Vn,maxProperties:Hn,minProperties:Hn,multipleOf:zu,not:ju,oneOf:Uu,pattern:Mu,properties:qu,propertyNames:ku,required:Vu,uniqueItems:Hu,validate:zi},Wn=Wu,va=Gr.toHash,Qu=function(){var e=[{type:"number",rules:[{maximum:["exclusiveMaximum"]},{minimum:["exclusiveMinimum"]},"multipleOf","format"]},{type:"string",rules:["maxLength","minLength","pattern","format"]},{type:"array",rules:["maxItems","minItems","items","contains","uniqueItems"]},{type:"object",rules:["maxProperties","minProperties","required","dependencies","propertyNames",{properties:["additionalProperties","patternProperties"]}]},{rules:["$ref","const","enum","not","anyOf","oneOf","allOf","if"]}],a=["type","$comment"],n=["$schema","$id","id","$data","$async","title","description","default","definitions","examples","readOnly","writeOnly","contentMediaType","contentEncoding","additionalItems","then","else"],r=["number","integer","string","array","object","boolean","null"];return e.all=va(a),e.types=va(r),e.forEach(function(i){i.rules=i.rules.map(function(l){var o;if(typeof l=="object"){var h=Object.keys(l)[0];o=l[h],l=h,o.forEach(function(v){a.push(v),e.all[v]=!0})}a.push(l);var y=e.all[l]={keyword:l,code:Wn[l],implements:o};return y}),e.all.$comment={keyword:"$comment",code:Wn.$comment},i.type&&(e.types[i.type]=i)}),e.keywords=va(a.concat(n)),e.custom={},e},Qn=["multipleOf","maximum","exclusiveMaximum","minimum","exclusiveMinimum","maxLength","minLength","pattern","additionalItems","maxItems","minItems","uniqueItems","maxProperties","minProperties","required","additionalProperties","enum","format","const"],Ku=function(t,e){for(var a=0;a<e.length;a++){t=JSON.parse(JSON.stringify(t));var n=e[a].split("/"),r=t,i;for(i=1;i<n.length;i++)r=r[n[i]];for(i=0;i<Qn.length;i++){var l=Qn[i],o=r[l];o&&(r[l]={anyOf:[o,{$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}]})}}return t},Gu=dn.MissingRef,Ju=Yi;function Yi(t,e,a){var n=this;if(typeof this._opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");typeof e=="function"&&(a=e,e=void 0);var r=i(t).then(function(){var o=n._addSchema(t,void 0,e);return o.validate||l(o)});return a&&r.then(function(o){a(null,o)},a),r;function i(o){var h=o.$schema;return h&&!n.getSchema(h)?Yi.call(n,{$ref:h},!0):Promise.resolve()}function l(o){try{return n._compile(o)}catch(y){if(y instanceof Gu)return h(y);throw y}function h(y){var v=y.missingSchema;if(f(v))throw new Error("Schema "+v+" is loaded but "+y.missingRef+" cannot be resolved");var w=n._loadingSchemas[v];return w||(w=n._loadingSchemas[v]=n._opts.loadSchema(v),w.then(_,_)),w.then(function(p){if(!f(v))return i(p).then(function(){f(v)||n.addSchema(p,v,void 0,e)})}).then(function(){return l(o)});function _(){delete n._loadingSchemas[v]}function f(p){return n._refs[p]||n._schemas[p]}}}}var Yu=function(e,a,n){var r=" ",i=e.level,l=e.dataLevel,o=e.schema[a],h=e.schemaPath+e.util.getProperty(a),y=e.errSchemaPath+"/"+a,v=!e.opts.allErrors,w,_="data"+(l||""),f="valid"+i,p="errs__"+i,P=e.opts.$data&&o&&o.$data,I;P?(r+=" var schema"+i+" = "+e.util.getData(o.$data,l,e.dataPathArr)+"; ",I="schema"+i):I=o;var m=this,R="definition"+i,A=m.definition,C="",L,V,Y,W,H;if(P&&A.$data){H="keywordValidate"+i;var X=A.validateSchema;r+=" var "+R+" = RULES.custom['"+a+"'].definition; var "+H+" = "+R+".validate;"}else{if(W=e.useCustomRule(m,o,e.schema,e),!W)return;I="validate.schema"+h,H=W.code,L=A.compile,V=A.inline,Y=A.macro}var te=H+".errors",Z="i"+i,K="ruleErr"+i,Q=A.async;if(Q&&!e.async)throw new Error("async keyword in sync schema");if(V||Y||(r+=""+te+" = null;"),r+="var "+p+" = errors;var "+f+";",P&&A.$data&&(C+="}",r+=" if ("+I+" === undefined) { "+f+" = true; } else { ",X&&(C+="}",r+=" "+f+" = "+R+".validateSchema("+I+"); if ("+f+") { ")),V)A.statements?r+=" "+W.validate+" ":r+=" "+f+" = "+W.validate+"; ";else if(Y){var ae=e.util.copy(e),C="";ae.level++;var me="valid"+ae.level;ae.schema=W.validate,ae.schemaPath="";var fe=e.compositeRule;e.compositeRule=ae.compositeRule=!0;var ve=e.validate(ae).replace(/validate\.schema/g,H);e.compositeRule=ae.compositeRule=fe,r+=" "+ve}else{var ce=ce||[];ce.push(r),r="",r+="  "+H+".call( ",e.opts.passContext?r+="this":r+="self",L||A.schema===!1?r+=" , "+_+" ":r+=" , "+I+" , "+_+" , validate.schema"+e.schemaPath+" ",r+=" , (dataPath || '')",e.errorPath!='""'&&(r+=" + "+e.errorPath);var ie=l?"data"+(l-1||""):"parentData",de=l?e.dataPathArr[l]:"parentDataProperty";r+=" , "+ie+" , "+de+" , rootData )  ";var ge=r;r=ce.pop(),A.errors===!1?(r+=" "+f+" = ",Q&&(r+="await "),r+=""+ge+"; "):Q?(te="customErrors"+i,r+=" var "+te+" = null; try { "+f+" = await "+ge+"; } catch (e) { "+f+" = false; if (e instanceof ValidationError) "+te+" = e.errors; else throw e; } "):r+=" "+te+" = null; "+f+" = "+ge+"; "}if(A.modifying&&(r+=" if ("+ie+") "+_+" = "+ie+"["+de+"];"),r+=""+C,A.valid)v&&(r+=" if (true) { ");else{r+=" if ( ",A.valid===void 0?(r+=" !",Y?r+=""+me:r+=""+f):r+=" "+!A.valid+" ",r+=") { ",w=m.keyword;var ce=ce||[];ce.push(r),r="";var ce=ce||[];ce.push(r),r="",e.createErrors!==!1?(r+=" { keyword: '"+(w||"custom")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(y)+" , params: { keyword: '"+m.keyword+"' } ",e.opts.messages!==!1&&(r+=` , message: 'should pass "`+m.keyword+`" keyword validation' `),e.opts.verbose&&(r+=" , schema: validate.schema"+h+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+_+" "),r+=" } "):r+=" {} ";var Fe=r;r=ce.pop(),!e.compositeRule&&v?e.async?r+=" throw new ValidationError(["+Fe+"]); ":r+=" validate.errors = ["+Fe+"]; return false; ":r+=" var err = "+Fe+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";var Ee=r;r=ce.pop(),V?A.errors?A.errors!="full"&&(r+="  for (var "+Z+"="+p+"; "+Z+"<errors; "+Z+"++) { var "+K+" = vErrors["+Z+"]; if ("+K+".dataPath === undefined) "+K+".dataPath = (dataPath || '') + "+e.errorPath+"; if ("+K+".schemaPath === undefined) { "+K+'.schemaPath = "'+y+'"; } ',e.opts.verbose&&(r+=" "+K+".schema = "+I+"; "+K+".data = "+_+"; "),r+=" } "):A.errors===!1?r+=" "+Ee+" ":(r+=" if ("+p+" == errors) { "+Ee+" } else {  for (var "+Z+"="+p+"; "+Z+"<errors; "+Z+"++) { var "+K+" = vErrors["+Z+"]; if ("+K+".dataPath === undefined) "+K+".dataPath = (dataPath || '') + "+e.errorPath+"; if ("+K+".schemaPath === undefined) { "+K+'.schemaPath = "'+y+'"; } ',e.opts.verbose&&(r+=" "+K+".schema = "+I+"; "+K+".data = "+_+"; "),r+=" } } "):Y?(r+="   var err =   ",e.createErrors!==!1?(r+=" { keyword: '"+(w||"custom")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(y)+" , params: { keyword: '"+m.keyword+"' } ",e.opts.messages!==!1&&(r+=` , message: 'should pass "`+m.keyword+`" keyword validation' `),e.opts.verbose&&(r+=" , schema: validate.schema"+h+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+_+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&v&&(e.async?r+=" throw new ValidationError(vErrors); ":r+=" validate.errors = vErrors; return false; ")):A.errors===!1?r+=" "+Ee+" ":(r+=" if (Array.isArray("+te+")) { if (vErrors === null) vErrors = "+te+"; else vErrors = vErrors.concat("+te+"); errors = vErrors.length;  for (var "+Z+"="+p+"; "+Z+"<errors; "+Z+"++) { var "+K+" = vErrors["+Z+"]; if ("+K+".dataPath === undefined) "+K+".dataPath = (dataPath || '') + "+e.errorPath+";  "+K+'.schemaPath = "'+y+'";  ',e.opts.verbose&&(r+=" "+K+".schema = "+I+"; "+K+".data = "+_+"; "),r+=" } } else { "+Ee+" } "),r+=" } ",v&&(r+=" else { ")}return r};const Zu="http://json-schema.org/draft-07/schema#",Xu="http://json-schema.org/draft-07/schema#",ef="Core schema meta-schema",rf={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},tf=["object","boolean"],af={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},Zi={$schema:Zu,$id:Xu,title:ef,definitions:rf,type:tf,properties:af,default:!0};var Kn=Zi,nf={$id:"https://github.com/ajv-validator/ajv/blob/master/lib/definition_schema.js",definitions:{simpleTypes:Kn.definitions.simpleTypes},type:"object",dependencies:{schema:["validate"],$data:["validate"],statements:["inline"],valid:{not:{required:["macro"]}}},properties:{type:Kn.properties.type,schema:{type:"boolean"},statements:{type:"boolean"},dependencies:{type:"array",items:{type:"string"}},metaSchema:{type:"object"},modifying:{type:"boolean"},valid:{type:"boolean"},$data:{type:"boolean"},async:{type:"boolean"},errors:{anyOf:[{type:"boolean"},{const:"full"}]}}},sf=/^[a-z_$][a-z0-9_$-]*$/i,of=Yu,lf=nf,uf={add:ff,get:cf,remove:hf,validate:Ka};function ff(t,e){var a=this.RULES;if(a.keywords[t])throw new Error("Keyword "+t+" is already defined");if(!sf.test(t))throw new Error("Keyword "+t+" is not a valid identifier");if(e){this.validateKeyword(e,!0);var n=e.type;if(Array.isArray(n))for(var r=0;r<n.length;r++)l(t,n[r],e);else l(t,n,e);var i=e.metaSchema;i&&(e.$data&&this._opts.$data&&(i={anyOf:[i,{$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}]}),e.validateSchema=this.compile(i,!0))}a.keywords[t]=a.all[t]=!0;function l(o,h,y){for(var v,w=0;w<a.length;w++){var _=a[w];if(_.type==h){v=_;break}}v||(v={type:h,rules:[]},a.push(v));var f={keyword:o,definition:y,custom:!0,code:of,implements:y.implements};v.rules.push(f),a.custom[o]=f}return this}function cf(t){var e=this.RULES.custom[t];return e?e.definition:this.RULES.keywords[t]||!1}function hf(t){var e=this.RULES;delete e.keywords[t],delete e.all[t],delete e.custom[t];for(var a=0;a<e.length;a++)for(var n=e[a].rules,r=0;r<n.length;r++)if(n[r].keyword==t){n.splice(r,1);break}return this}function Ka(t,e){Ka.errors=null;var a=this._validateKeyword=this._validateKeyword||this.compile(lf,!0);if(a(t))return!0;if(Ka.errors=a.errors,e)throw new Error("custom keyword definition is invalid: "+this.errorsText(a.errors));return!1}const df="http://json-schema.org/draft-07/schema#",pf="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",vf="Meta-schema for $data reference (JSON Schema extension proposal)",mf="object",yf=["$data"],gf={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},wf=!1,Ef={$schema:df,$id:pf,description:vf,type:mf,required:yf,properties:gf,additionalProperties:wf};var Xi=su,Fr=hn,bf=Qa,es=Di,_f=Ni,Pf=Eu,Sf=Qu,rs=Ku,ts=Gr,$f=ke;ke.prototype.validate=Rf;ke.prototype.compile=Tf;ke.prototype.addSchema=Af;ke.prototype.addMetaSchema=Of;ke.prototype.validateSchema=xf;ke.prototype.getSchema=Cf;ke.prototype.removeSchema=Bf;ke.prototype.addFormat=kf;ke.prototype.errorsText=qf;ke.prototype._addSchema=Lf;ke.prototype._compile=Nf;ke.prototype.compileAsync=Ju;var Zt=uf;ke.prototype.addKeyword=Zt.add;ke.prototype.getKeyword=Zt.get;ke.prototype.removeKeyword=Zt.remove;ke.prototype.validateKeyword=Zt.validate;var as=dn;ke.ValidationError=as.Validation;ke.MissingRefError=as.MissingRef;ke.$dataMetaSchema=rs;var kt="http://json-schema.org/draft-07/schema",Gn=["removeAdditional","useDefaults","coerceTypes","strictDefaults"],If=["/properties"];function ke(t){if(!(this instanceof ke))return new ke(t);t=this._opts=ts.copy(t)||{},Gf(this),this._schemas={},this._refs={},this._fragments={},this._formats=Pf(t.format),this._cache=t.cache||new bf,this._loadingSchemas={},this._compilations=[],this.RULES=Sf(),this._getId=zf(t),t.loopRequired=t.loopRequired||1/0,t.errorDataPath=="property"&&(t._errorDataPathProperty=!0),t.serialize===void 0&&(t.serialize=_f),this._metaOpts=Kf(this),t.formats&&Wf(this),t.keywords&&Qf(this),Vf(this),typeof t.meta=="object"&&this.addMetaSchema(t.meta),t.nullable&&this.addKeyword("nullable",{metaSchema:{type:"boolean"}}),Hf(this)}function Rf(t,e){var a;if(typeof t=="string"){if(a=this.getSchema(t),!a)throw new Error('no schema with key or ref "'+t+'"')}else{var n=this._addSchema(t);a=n.validate||this._compile(n)}var r=a(e);return a.$async!==!0&&(this.errors=a.errors),r}function Tf(t,e){var a=this._addSchema(t,void 0,e);return a.validate||this._compile(a)}function Af(t,e,a,n){if(Array.isArray(t)){for(var r=0;r<t.length;r++)this.addSchema(t[r],void 0,a,n);return this}var i=this._getId(t);if(i!==void 0&&typeof i!="string")throw new Error("schema id must be string");return e=Fr.normalizeId(e||i),is(this,e),this._schemas[e]=this._addSchema(t,a,n,!0),this}function Of(t,e,a){return this.addSchema(t,e,a,!0),this}function xf(t,e){var a=t.$schema;if(a!==void 0&&typeof a!="string")throw new Error("$schema must be a string");if(a=a||this._opts.defaultMeta||Ff(this),!a)return this.logger.warn("meta-schema not available"),this.errors=null,!0;var n=this.validate(a,t);if(!n&&e){var r="schema is invalid: "+this.errorsText();if(this._opts.validateSchema=="log")this.logger.error(r);else throw new Error(r)}return n}function Ff(t){var e=t._opts.meta;return t._opts.defaultMeta=typeof e=="object"?t._getId(e)||e:t.getSchema(kt)?kt:void 0,t._opts.defaultMeta}function Cf(t){var e=ns(this,t);switch(typeof e){case"object":return e.validate||this._compile(e);case"string":return this.getSchema(e);case"undefined":return Df(this,t)}}function Df(t,e){var a=Fr.schema.call(t,{schema:{}},e);if(a){var n=a.schema,r=a.root,i=a.baseId,l=Xi.call(t,n,r,void 0,i);return t._fragments[e]=new es({ref:e,fragment:!0,schema:n,root:r,baseId:i,validate:l}),l}}function ns(t,e){return e=Fr.normalizeId(e),t._schemas[e]||t._refs[e]||t._fragments[e]}function Bf(t){if(t instanceof RegExp)return xt(this,this._schemas,t),xt(this,this._refs,t),this;switch(typeof t){case"undefined":return xt(this,this._schemas),xt(this,this._refs),this._cache.clear(),this;case"string":var e=ns(this,t);return e&&this._cache.del(e.cacheKey),delete this._schemas[t],delete this._refs[t],this;case"object":var a=this._opts.serialize,n=a?a(t):t;this._cache.del(n);var r=this._getId(t);r&&(r=Fr.normalizeId(r),delete this._schemas[r],delete this._refs[r])}return this}function xt(t,e,a){for(var n in e){var r=e[n];!r.meta&&(!a||a.test(n))&&(t._cache.del(r.cacheKey),delete e[n])}}function Lf(t,e,a,n){if(typeof t!="object"&&typeof t!="boolean")throw new Error("schema should be object or boolean");var r=this._opts.serialize,i=r?r(t):t,l=this._cache.get(i);if(l)return l;n=n||this._opts.addUsedSchema!==!1;var o=Fr.normalizeId(this._getId(t));o&&n&&is(this,o);var h=this._opts.validateSchema!==!1&&!e,y;h&&!(y=o&&o==Fr.normalizeId(t.$schema))&&this.validateSchema(t,!0);var v=Fr.ids.call(this,t),w=new es({id:o,schema:t,localRefs:v,cacheKey:i,meta:a});return o[0]!="#"&&n&&(this._refs[o]=w),this._cache.put(i,w),h&&y&&this.validateSchema(t,!0),w}function Nf(t,e){if(t.compiling)return t.validate=r,r.schema=t.schema,r.errors=null,r.root=e||r,t.schema.$async===!0&&(r.$async=!0),r;t.compiling=!0;var a;t.meta&&(a=this._opts,this._opts=this._metaOpts);var n;try{n=Xi.call(this,t.schema,e,t.localRefs)}catch(i){throw delete t.validate,i}finally{t.compiling=!1,t.meta&&(this._opts=a)}return t.validate=n,t.refs=n.refs,t.refVal=n.refVal,t.root=n.root,n;function r(){var i=t.validate,l=i.apply(this,arguments);return r.errors=i.errors,l}}function zf(t){switch(t.schemaId){case"auto":return Mf;case"id":return jf;default:return Uf}}function jf(t){return t.$id&&this.logger.warn("schema $id ignored",t.$id),t.id}function Uf(t){return t.id&&this.logger.warn("schema id ignored",t.id),t.$id}function Mf(t){if(t.$id&&t.id&&t.$id!=t.id)throw new Error("schema $id is different from id");return t.$id||t.id}function qf(t,e){if(t=t||this.errors,!t)return"No errors";e=e||{};for(var a=e.separator===void 0?", ":e.separator,n=e.dataVar===void 0?"data":e.dataVar,r="",i=0;i<t.length;i++){var l=t[i];l&&(r+=n+l.dataPath+" "+l.message+a)}return r.slice(0,-a.length)}function kf(t,e){return typeof e=="string"&&(e=new RegExp(e)),this._formats[t]=e,this}function Vf(t){var e;if(t._opts.$data&&(e=Ef,t.addMetaSchema(e,e.$id,!0)),t._opts.meta!==!1){var a=Zi;t._opts.$data&&(a=rs(a,If)),t.addMetaSchema(a,kt,!0),t._refs["http://json-schema.org/schema"]=kt}}function Hf(t){var e=t._opts.schemas;if(e)if(Array.isArray(e))t.addSchema(e);else for(var a in e)t.addSchema(e[a],a)}function Wf(t){for(var e in t._opts.formats){var a=t._opts.formats[e];t.addFormat(e,a)}}function Qf(t){for(var e in t._opts.keywords){var a=t._opts.keywords[e];t.addKeyword(e,a)}}function is(t,e){if(t._schemas[e]||t._refs[e])throw new Error('schema with key or id "'+e+'" already exists')}function Kf(t){for(var e=ts.copy(t._opts),a=0;a<Gn.length;a++)delete e[Gn[a]];return e}function Gf(t){var e=t._opts.logger;if(e===!1)t.logger={log:ma,warn:ma,error:ma};else{if(e===void 0&&(e=console),!(typeof e=="object"&&e.log&&e.warn&&e.error))throw new Error("logger must implement log, warn and error methods");t.logger=e}}function ma(){}const Jf="definitions",Yf={contextualizedFieldName:{type:"string",pattern:"^(this\\.)?.+$"},dataTypeArgsCount:{oneOf:[{$ref:"#/definitions/contextualizedFieldName"},{type:"number"}]},fieldName:{type:"string",pattern:"^[a-zA-Z0-9_]+$"}},Zf="object",Xf={title:Jf,definitions:Yf,type:Zf},ec="protocol",rc="object",tc={types:{type:"object",patternProperties:{"^[0-9a-zA-Z_]+$":{oneOf:[{type:"string"},{type:"array",items:[{type:"string"},{oneOf:[{type:"object"},{type:"array"}]}]}]}},additionalProperties:!1}},ac={"^(?!types)[a-zA-Z_]+$":{$ref:"#"}},nc=!1,ic={title:ec,type:rc,properties:tc,patternProperties:ac,additionalProperties:nc},sc={enum:["i8"]},oc={enum:["u8"]},lc={enum:["i16"]},uc={enum:["u16"]},fc={enum:["i32"]},cc={enum:["u32"]},hc={enum:["f32"]},dc={enum:["f64"]},pc={enum:["li8"]},vc={enum:["lu8"]},mc={enum:["li16"]},yc={enum:["lu16"]},gc={enum:["li32"]},wc={enum:["lu32"]},Ec={enum:["lf32"]},bc={enum:["lf64"]},_c={enum:["i64"]},Pc={enum:["li64"]},Sc={enum:["u64"]},$c={enum:["lu64"]},Ic={enum:["varint"]},Rc={title:"int",type:"array",items:[{enum:["int"]},{type:"array",items:{type:"object",properties:{size:{type:"number"}},required:["size"],additionalProperties:!1},additionalItems:!1}],additionalItems:!1},Tc={title:"lint",type:"array",items:[{enum:["lint"]},{type:"array",items:{type:"object",properties:{size:{type:"number"}},required:["size"],additionalProperties:!1},additionalItems:!1}],additionalItems:!1},Ac={i8:sc,u8:oc,i16:lc,u16:uc,i32:fc,u32:cc,f32:hc,f64:dc,li8:pc,lu8:vc,li16:mc,lu16:yc,li32:gc,lu32:wc,lf32:Ec,lf64:bc,i64:_c,li64:Pc,u64:Sc,lu64:$c,varint:Ic,int:Rc,lint:Tc},Oc={title:"pstring",type:"array",items:[{enum:["pstring"]},{oneOf:[{type:"object",properties:{countType:{$ref:"dataType"}},additionalProperties:!1,required:["countType"]},{type:"object",properties:{count:{$ref:"definitions#/definitions/dataTypeArgsCount"}},additionalProperties:!1,required:["count"]}]}],additionalItems:!1},xc={title:"buffer",type:"array",items:[{enum:["buffer"]},{oneOf:[{type:"object",properties:{countType:{$ref:"dataType"}},additionalProperties:!1,required:["countType"]},{type:"object",properties:{count:{$ref:"definitions#/definitions/dataTypeArgsCount"}},additionalProperties:!1,required:["count"]}]}]},Fc={title:"bitfield",type:"array",items:[{enum:["bitfield"]},{type:"array",items:{type:"object",properties:{name:{$ref:"definitions#/definitions/fieldName"},size:{type:"number"},signed:{type:"boolean"}},required:["name","size","signed"],additionalProperties:!1},additionalItems:!1}],additionalItems:!1},Cc={title:"mapper",type:"array",items:[{enum:["mapper"]},{type:"object",properties:{type:{$ref:"dataType"},mappings:{type:"object",patternProperties:{"^[-a-zA-Z0-9 _]+$":{type:"string"}},additionalProperties:!1}},required:["type","mappings"],additionalProperties:!1}],additionalItems:!1},Dc={pstring:Oc,buffer:xc,bitfield:Fc,mapper:Cc},Bc={title:"array",type:"array",items:[{enum:["array"]},{oneOf:[{type:"object",properties:{type:{$ref:"dataType"},countType:{$ref:"dataType"}},additionalProperties:!1,required:["type","countType"]},{type:"object",properties:{type:{$ref:"dataType"},count:{$ref:"definitions#/definitions/dataTypeArgsCount"}},additionalProperties:!1,required:["type","count"]}]}],additionalItems:!1},Lc={title:"count",type:"array",items:[{enum:["count"]},{type:"object",properties:{countFor:{$ref:"definitions#/definitions/contextualizedFieldName"},type:{$ref:"dataType"}},required:["countFor","type"],additionalProperties:!1}],additionalItems:!1},Nc={title:"container",type:"array",items:[{enum:["container"]},{type:"array",items:{type:"object",properties:{anon:{type:"boolean"},name:{$ref:"definitions#/definitions/fieldName"},type:{$ref:"dataType"}},oneOf:[{required:["anon"]},{required:["name"]}],required:["type"],additionalProperties:!1},additionalItems:!1}],additionalItems:!1},zc={array:Bc,count:Lc,container:Nc},jc={title:"option",type:"array",items:[{enum:["option"]},{$ref:"dataType"}],additionalItems:!1},Uc={switch:{title:"switch",type:"array",items:[{enum:["switch"]},{type:"object",properties:{compareTo:{$ref:"definitions#/definitions/contextualizedFieldName"},compareToValue:{type:"string"},fields:{type:"object",patternProperties:{"^[-a-zA-Z0-9 _:/]+$":{$ref:"dataType"}},additionalProperties:!1},default:{$ref:"dataType"}},oneOf:[{required:["compareTo","fields"]},{required:["compareToValue","fields"]}],additionalProperties:!1}],additionalItems:!1},option:jc},Mc={enum:["bool"]},qc={enum:["cstring"]},kc={bool:Mc,cstring:qc,void:{enum:["void"]}},Vc=$f,ya=Cr;let ss=class{constructor(e){this.createAjvInstance(e),this.addDefaultTypes()}createAjvInstance(e){this.typesSchemas={},this.compiled=!1,this.ajv=new Vc({verbose:!0}),this.ajv.addSchema(Xf,"definitions"),this.ajv.addSchema(ic,"protocol"),e&&Object.keys(e).forEach(a=>this.addType(a,e[a]))}addDefaultTypes(){this.addTypes(Ac),this.addTypes(Dc),this.addTypes(zc),this.addTypes(Uc),this.addTypes(kc)}addTypes(e){Object.keys(e).forEach(a=>this.addType(a,e[a]))}typeToSchemaName(e){return e.replace("|","_")}addType(e,a){const n=this.typeToSchemaName(e);this.typesSchemas[n]==null&&(a||(a={oneOf:[{enum:[e]},{type:"array",items:[{enum:[e]},{oneOf:[{type:"object"},{type:"array"}]}]}]}),this.typesSchemas[n]=a,this.compiled?this.createAjvInstance(this.typesSchemas):this.ajv.addSchema(a,n),this.ajv.removeSchema("dataType"),this.ajv.addSchema({title:"dataType",oneOf:[{enum:["native"]}].concat(Object.keys(this.typesSchemas).map(r=>({$ref:this.typeToSchemaName(r)})))},"dataType"))}validateType(e){let a=this.ajv.validate("dataType",e);if(this.compiled=!0,!a)throw console.log(JSON.stringify(this.ajv.errors[0],null,2)),this.ajv.errors[0].parentSchema.title=="dataType"&&this.validateTypeGoingInside(this.ajv.errors[0].data),new Error("validation error")}validateTypeGoingInside(e){if(Array.isArray(e)){ya.ok(this.typesSchemas[this.typeToSchemaName(e[0])]!=null,e+" is an undefined type");let a=this.ajv.validate(e[0],e);if(this.compiled=!0,!a)throw console.log(JSON.stringify(this.ajv.errors[0],null,2)),this.ajv.errors[0].parentSchema.title=="dataType"&&this.validateTypeGoingInside(this.ajv.errors[0].data),new Error("validation error")}else{if(e=="native")return;ya.ok(this.typesSchemas[this.typeToSchemaName(e)]!=null,e+" is an undefined type")}}validateProtocol(e){let a=this.ajv.validate("protocol",e);ya.ok(a,JSON.stringify(this.ajv.errors,null,2));function n(r,i,l){const o=new ss(i.typesSchemas);Object.keys(r).forEach(h=>{h=="types"?(Object.keys(r[h]).forEach(y=>o.addType(y)),Object.keys(r[h]).forEach(y=>{try{o.validateType(r[h][y],l+"."+h+"."+y)}catch{throw new Error("Error at "+l+"."+h+"."+y)}})):n(r[h],o,l+"."+h)})}n(e,this,"root")}};var Hc=ss;const Wc={enum:["i8"]},Qc={enum:["u8"]},Kc={enum:["i16"]},Gc={enum:["u16"]},Jc={enum:["i32"]},Yc={enum:["u32"]},Zc={enum:["f32"]},Xc={enum:["f64"]},eh={enum:["li8"]},rh={enum:["lu8"]},th={enum:["li16"]},ah={enum:["lu16"]},nh={enum:["li32"]},ih={enum:["lu32"]},sh={enum:["lf32"]},oh={enum:["lf64"]},lh={enum:["i64"]},uh={enum:["li64"]},fh={enum:["u64"]},ch={enum:["lu64"]},hh={enum:["varint"]},dh={title:"int",type:"array",items:[{enum:["int"]},{type:"array",items:{type:"object",properties:{size:{type:"number"}},required:["size"],additionalProperties:!1},additionalItems:!1}],additionalItems:!1},ph={title:"lint",type:"array",items:[{enum:["lint"]},{type:"array",items:{type:"object",properties:{size:{type:"number"}},required:["size"],additionalProperties:!1},additionalItems:!1}],additionalItems:!1},ut={i8:Wc,u8:Qc,i16:Kc,u16:Gc,i32:Jc,u32:Yc,f32:Zc,f64:Xc,li8:eh,lu8:rh,li16:th,lu16:ah,li32:nh,lu32:ih,lf32:sh,lf64:oh,i64:lh,li64:uh,u64:fh,lu64:ch,varint:hh,int:dh,lint:ph},{PartialReadError:ft}=Ir;class os extends Array{valueOf(){return BigInt.asIntN(64,BigInt(this[0])<<32n)|BigInt.asUintN(32,BigInt(this[1]))}toString(){return this.valueOf().toString()}[Symbol.for("nodejs.util.inspect.custom")](){return this.valueOf()}}class ls extends Array{valueOf(){return BigInt.asUintN(64,BigInt(this[0])<<32n)|BigInt.asUintN(32,BigInt(this[1]))}toString(){return this.valueOf().toString()}[Symbol.for("nodejs.util.inspect.custom")](){return this.valueOf()}}function vh(t,e){if(e+8>t.length)throw new ft;return{value:new os(t.readInt32BE(e),t.readInt32BE(e+4)),size:8}}function mh(t,e,a){return typeof t=="bigint"?e.writeBigInt64BE(t,a):(e.writeInt32BE(t[0],a),e.writeInt32BE(t[1],a+4)),a+8}function yh(t,e){if(e+8>t.length)throw new ft;return{value:new os(t.readInt32LE(e+4),t.readInt32LE(e)),size:8}}function gh(t,e,a){return typeof t=="bigint"?e.writeBigInt64LE(t,a):(e.writeInt32LE(t[0],a+4),e.writeInt32LE(t[1],a)),a+8}function wh(t,e){if(e+8>t.length)throw new ft;return{value:new ls(t.readUInt32BE(e),t.readUInt32BE(e+4)),size:8}}function Eh(t,e,a){return typeof t=="bigint"?e.writeBigUInt64BE(t,a):(e.writeUInt32BE(t[0],a),e.writeUInt32BE(t[1],a+4)),a+8}function bh(t,e){if(e+8>t.length)throw new ft;return{value:new ls(t.readUInt32LE(e+4),t.readUInt32LE(e)),size:8}}function _h(t,e,a){return typeof t=="bigint"?e.writeBigUInt64LE(t,a):(e.writeUInt32LE(t[0],a+4),e.writeUInt32LE(t[1],a)),a+8}function Ph(t,e,a,n){return[(l,o)=>{if(o+a>l.length)throw new ft;return{value:l[t](o),size:a}},(l,o,h)=>(o[e](l,h),h+a),a,n]}const Ft={i8:["readInt8","writeInt8",1],u8:["readUInt8","writeUInt8",1],i16:["readInt16BE","writeInt16BE",2],u16:["readUInt16BE","writeUInt16BE",2],i32:["readInt32BE","writeInt32BE",4],u32:["readUInt32BE","writeUInt32BE",4],f32:["readFloatBE","writeFloatBE",4],f64:["readDoubleBE","writeDoubleBE",8],li8:["readInt8","writeInt8",1],lu8:["readUInt8","writeUInt8",1],li16:["readInt16LE","writeInt16LE",2],lu16:["readUInt16LE","writeUInt16LE",2],li32:["readInt32LE","writeInt32LE",4],lu32:["readUInt32LE","writeUInt32LE",4],lf32:["readFloatLE","writeFloatLE",4],lf64:["readDoubleLE","writeDoubleLE",8]},ct=Object.keys(Ft).reduce((t,e)=>(t[e]=Ph(Ft[e][0],Ft[e][1],Ft[e][2],ut[e]),t),{});ct.i64=[vh,mh,8,ut.i64];ct.li64=[yh,gh,8,ut.li64];ct.u64=[wh,Eh,8,ut.u64];ct.lu64=[bh,_h,8,ut.lu64];var us=ct;const Sh={title:"pstring",type:"array",items:[{enum:["pstring"]},{oneOf:[{type:"object",properties:{countType:{$ref:"dataType"},encoding:{type:"string"}},additionalProperties:!1,required:["countType"]},{type:"object",properties:{count:{$ref:"definitions#/definitions/dataTypeArgsCount"},encoding:{type:"string"}},additionalProperties:!1,required:["count"]}]}],additionalItems:!1},$h={title:"buffer",type:"array",items:[{enum:["buffer"]},{oneOf:[{type:"object",properties:{countType:{$ref:"dataType"}},additionalProperties:!1,required:["countType"]},{type:"object",properties:{count:{$ref:"definitions#/definitions/dataTypeArgsCount"}},additionalProperties:!1,required:["count"]}]}]},Ih={title:"bitfield",type:"array",items:[{enum:["bitfield"]},{type:"array",items:{type:"object",properties:{name:{$ref:"definitions#/definitions/fieldName"},size:{type:"number"},signed:{type:"boolean"}},required:["name","size","signed"],additionalProperties:!1},additionalItems:!1}],additionalItems:!1},Rh={title:"mapper",type:"array",items:[{enum:["mapper"]},{type:"object",properties:{type:{$ref:"dataType"},mappings:{type:"object",patternProperties:{"^[-a-zA-Z0-9 _]+$":{type:"string"}},additionalProperties:!1}},required:["type","mappings"],additionalProperties:!1}],additionalItems:!1},Pr={pstring:Sh,buffer:$h,bitfield:Ih,mapper:Rh},Th=Cr,{getCount:fs,sendCount:cs,calcCount:hs,PartialReadError:Jr}=Ir;var ds={varint:[Fh,Dh,Ch,Pr.varint],bool:[zh,jh,1,Pr.bool],pstring:[Bh,Lh,Nh,Pr.pstring],buffer:[Uh,Mh,qh,Pr.buffer],void:[kh,Vh,0,Pr.void],bitfield:[Hh,Wh,Qh,Pr.bitfield],cstring:[Kh,Gh,Jh,Pr.cstring],mapper:[Ah,Oh,xh,Pr.mapper]};function vn(t,e){return t===e||parseInt(t)===parseInt(e)}function Ah(t,e,{type:a,mappings:n},r){const{size:i,value:l}=this.read(t,e,a,r);let o=null;const h=Object.keys(n);for(let y=0;y<h.length;y++)if(vn(h[y],l)){o=n[h[y]];break}if(o==null)throw new Error(l+" is not in the mappings value");return{size:i,value:o}}function Oh(t,e,a,{type:n,mappings:r},i){const l=Object.keys(r);let o=null;for(let h=0;h<l.length;h++)if(vn(r[l[h]],t)){o=l[h];break}if(o==null)throw new Error(t+" is not in the mappings value");return this.write(o,e,a,n,i)}function xh(t,{type:e,mappings:a},n){const r=Object.keys(a);let i=null;for(let l=0;l<r.length;l++)if(vn(a[r[l]],t)){i=r[l];break}if(i==null)throw new Error(t+" is not in the mappings value");return this.sizeOf(i,e,n)}function Fh(t,e){let a=0,n=0,r=e;for(;;){if(r+1>t.length)throw new Jr;const i=t.readUInt8(r);if(a|=(i&127)<<n,r++,!(i&128))return{value:a,size:r-e};n+=7,Th.ok(n<64,"varint is too big")}}function Ch(t){let e=0;for(;t&-128;)t>>>=7,e++;return e+1}function Dh(t,e,a){let n=0;for(;t&-128;)e.writeUInt8(t&255|128,a+n),n++,t>>>=7;return e.writeUInt8(t,a+n),a+n+1}function Bh(t,e,a,n){const{size:r,count:i}=fs.call(this,t,e,a,n),l=e+r,o=l+i;if(o>t.length)throw new Jr("Missing characters in string, found size is "+t.length+" expected size was "+o);return{value:t.toString(a.encoding||"utf8",l,o),size:o-e}}function Lh(t,e,a,n,r){const i=Buffer.byteLength(t,"utf8");return a=cs.call(this,i,e,a,n,r),e.write(t,a,i,n.encoding||"utf8"),a+i}function Nh(t,e,a){const n=Buffer.byteLength(t,e.encoding||"utf8");return hs.call(this,n,e,a)+n}function zh(t,e){if(e+1>t.length)throw new Jr;return{value:!!t.readInt8(e),size:1}}function jh(t,e,a){return e.writeInt8(+t,a),a+1}function Uh(t,e,a,n){const{size:r,count:i}=fs.call(this,t,e,a,n);if(e+=r,e+i>t.length)throw new Jr;return{value:t.slice(e,e+i),size:r+i}}function Mh(t,e,a,n,r){return t instanceof Buffer||(t=Buffer.from(t)),a=cs.call(this,t.length,e,a,n,r),t.copy(e,a),a+t.length}function qh(t,e,a){return t instanceof Buffer||(t=Buffer.from(t)),hs.call(this,t.length,e,a)+t.length}function kh(){return{value:void 0,size:0}}function Vh(t,e,a){return a}function ps(t){return(1<<t)-1}function Hh(t,e,a){const n=e;let r=null,i=0;const l={};return l.value=a.reduce((o,{size:h,signed:y,name:v})=>{let w=h,_=0;for(;w>0;){if(i===0){if(t.length<e+1)throw new Jr;r=t[e++],i=8}const f=Math.min(w,i);_=_<<f|(r&ps(i))>>i-f,i-=f,w-=f}return y&&_>=1<<h-1&&(_-=1<<h),o[v]=_,o},{}),l.size=e-n,l}function Wh(t,e,a,n){let r=0,i=0;return n.forEach(({size:l,signed:o,name:h})=>{const y=t[h];if(!o&&y<0||o&&y<-(1<<l-1))throw new Error(t+" < "+o?-(1<<l-1):0);if(!o&&y>=1<<l||o&&y>=(1<<l-1)-1)throw new Error(t+" >= "+o?1<<l:(1<<l-1)-1);for(;l>0;){const v=Math.min(8-i,l);r=r<<v|y>>l-v&ps(v),l-=v,i+=v,i===8&&(e[a++]=r,i=0,r=0)}}),i!==0&&(e[a++]=r<<8-i),a}function Qh(t,e){return Math.ceil(e.reduce((a,{size:n})=>a+n,0)/8)}function Kh(t,e,a){let n=0;for(;e+n<t.length&&t[e+n]!==0;)n++;if(t.length<e+n+1)throw new Jr;return{value:t.toString((a==null?void 0:a.encoding)||"utf8",e,e+n),size:n+1}}function Gh(t,e,a,n){const r=Buffer.byteLength(t,(n==null?void 0:n.encoding)||"utf8");return e.write(t,a,r,(n==null?void 0:n.encoding)||"utf8"),a+=r,e.writeInt8(0,a),a+1}function Jh(t){return Buffer.byteLength(t,"utf8")+1}const Yh={title:"array",type:"array",items:[{enum:["array"]},{oneOf:[{type:"object",properties:{type:{$ref:"dataType"},countType:{$ref:"dataType"}},additionalProperties:!1,required:["type","countType"]},{type:"object",properties:{type:{$ref:"dataType"},count:{$ref:"definitions#/definitions/dataTypeArgsCount"}},additionalProperties:!1,required:["type","count"]}]}],additionalItems:!1},Zh={title:"count",type:"array",items:[{enum:["count"]},{type:"object",properties:{countFor:{$ref:"definitions#/definitions/contextualizedFieldName"},type:{$ref:"dataType"}},required:["countFor","type"],additionalProperties:!1}],additionalItems:!1},Xh={title:"container",type:"array",items:[{enum:["container"]},{type:"array",items:{type:"object",properties:{anon:{type:"boolean"},name:{$ref:"definitions#/definitions/fieldName"},type:{$ref:"dataType"}},oneOf:[{required:["anon"]},{required:["name"]}],required:["type"],additionalProperties:!1},additionalItems:!1}],additionalItems:!1},ga={array:Yh,count:Zh,container:Xh};var wa,Jn;function ed(){if(Jn)return wa;Jn=1;const{getField:t,getCount:e,sendCount:a,calcCount:n,tryDoc:r}=Ir;wa={array:[i,l,o,ga.array],count:[w,_,f,ga.count],container:[h,y,v,ga.container]};function i(p,P,I,m){const R={value:[],size:0};let A,{count:C,size:L}=e.call(this,p,P,I,m);P+=L,R.size+=L;for(let V=0;V<C;V++)({size:L,value:A}=r(()=>this.read(p,P,I.type,m),V)),R.size+=L,P+=L,R.value.push(A);return R}function l(p,P,I,m,R){return I=a.call(this,p.length,P,I,m,R),p.reduce((A,C,L)=>r(()=>this.write(C,P,A,m.type,R),L),I)}function o(p,P,I){let m=n.call(this,p.length,P,I);return m=p.reduce((R,A,C)=>r(()=>R+this.sizeOf(A,P.type,I),C),m),m}function h(p,P,I,m){const R={value:{"..":m},size:0};return I.forEach(({type:A,name:C,anon:L})=>{r(()=>{const V=this.read(p,P,A,R.value);R.size+=V.size,P+=V.size,L?V.value!==void 0&&Object.keys(V.value).forEach(Y=>{R.value[Y]=V.value[Y]}):R.value[C]=V.value},C||"unknown")}),delete R.value[".."],R}function y(p,P,I,m,R){return p[".."]=R,I=m.reduce((A,{type:C,name:L,anon:V})=>r(()=>this.write(V?p:p[L],P,A,C,p),L||"unknown"),I),delete p[".."],I}function v(p,P,I){p[".."]=I;const m=P.reduce((R,{type:A,name:C,anon:L})=>R+r(()=>this.sizeOf(L?p:p[C],A,p),C||"unknown"),0);return delete p[".."],m}function w(p,P,{type:I},m){return this.read(p,P,I,m)}function _(p,P,I,{countFor:m,type:R},A){return this.write(t(m,A).length,P,I,R,A)}function f(p,{countFor:P,type:I},m){return this.sizeOf(t(P,m).length,I,m)}return wa}const rd={title:"option",type:"array",items:[{enum:["option"]},{$ref:"dataType"}],additionalItems:!1},Yn={switch:{title:"switch",type:"array",items:[{enum:["switch"]},{type:"object",properties:{compareTo:{$ref:"definitions#/definitions/contextualizedFieldName"},compareToValue:{type:"string"},fields:{type:"object",patternProperties:{"^[-a-zA-Z0-9 _:/]+$":{$ref:"dataType"}},additionalProperties:!1},default:{$ref:"dataType"}},oneOf:[{required:["compareTo","fields"]},{required:["compareToValue","fields"]}],additionalProperties:!1}],additionalItems:!1},option:rd};var Ea,Zn;function td(){if(Zn)return Ea;Zn=1;const{getField:t,getFieldInfo:e,tryDoc:a,PartialReadError:n}=Ir;Ea={switch:[r,i,l,Yn.switch],option:[o,h,y,Yn.option]};function r(v,w,{compareTo:_,fields:f,compareToValue:p,default:P},I){if(_=p!==void 0?p:t(_,I),typeof f[_]>"u"&&typeof P>"u")throw new Error(_+" has no associated fieldInfo in switch");for(const C in f)C.startsWith("/")&&(f[this.types[C.slice(1)]]=f[C],delete f[C]);const m=typeof f[_]>"u",R=m?P:f[_],A=e(R);return a(()=>this.read(v,w,A,I),m?"default":_)}function i(v,w,_,{compareTo:f,fields:p,compareToValue:P,default:I},m){if(f=P!==void 0?P:t(f,m),typeof p[f]>"u"&&typeof I>"u")throw new Error(f+" has no associated fieldInfo in switch");for(const C in p)C.startsWith("/")&&(p[this.types[C.slice(1)]]=p[C],delete p[C]);const R=typeof p[f]>"u",A=e(R?I:p[f]);return a(()=>this.write(v,w,_,A,m),R?"default":f)}function l(v,{compareTo:w,fields:_,compareToValue:f,default:p},P){if(w=f!==void 0?f:t(w,P),typeof _[w]>"u"&&typeof p>"u")throw new Error(w+" has no associated fieldInfo in switch");for(const R in _)R.startsWith("/")&&(_[this.types[R.slice(1)]]=_[R],delete _[R]);const I=typeof _[w]>"u",m=e(I?p:_[w]);return a(()=>this.sizeOf(v,m,P),I?"default":w)}function o(v,w,_,f){if(v.length<w+1)throw new n;if(v.readUInt8(w++)!==0){const P=this.read(v,w,_,f);return P.size++,P}else return{size:1}}function h(v,w,_,f,p){return v!=null?(w.writeUInt8(1,_++),_=this.write(v,w,_,f,p)):w.writeUInt8(0,_++),_}function y(v,w,_){return v==null?1:this.sizeOf(v,w,_)+1}return Ea}const{getFieldInfo:Ct,tryCatch:ba}=Ir,vs=Nt,ad=$l,nd=Hc;function Xn(t){return typeof t=="string"||Array.isArray(t)&&typeof t[0]=="string"||t.type}function ms(t,e,a){return typeof e=="string"&&e.charAt(0)==="$"?t.push({path:a,val:e.substr(1)}):(Array.isArray(e)||typeof e=="object")&&(t=t.concat(vs(e,ms,[]).map(n=>({path:a+"."+n.path,val:n.val})))),t}function id(t,e,a){const n=t.split(".").reverse();for(;n.length>1;)a=a[n.pop()];a[n.pop()]=e}function sd(t,e){const a=JSON.stringify(e),n=vs(e,ms,[]);function r(i){const l=JSON.parse(a);return n.forEach(o=>{id(o.path,i[o.val],l)}),l}return[function(l,o,h,y){return t[0].call(this,l,o,r(h),y)},function(l,o,h,y,v){return t[1].call(this,l,o,h,r(y),v)},function(l,o,h){return typeof t[2]=="function"?t[2].call(this,l,r(o),h):t[2]}]}let od=class{constructor(e=!0){this.types={},this.validator=e?new nd:null,this.addDefaultTypes()}addDefaultTypes(){this.addTypes(us),this.addTypes(ds),this.addTypes(ed()),this.addTypes(td())}addProtocol(e,a){const n=this;function r(i,l){i!==void 0&&(i.types&&n.addTypes(i.types),r(ad(i,l.shift()),l))}this.validator&&this.validator.validateProtocol(e),r(e,a)}addType(e,a,n=!0){if(a==="native"){this.validator&&this.validator.addType(e);return}if(Xn(a)){this.validator&&(n&&this.validator.validateType(a),this.validator.addType(e));const{type:r,typeArgs:i}=Ct(a);this.types[e]=i?sd(this.types[r],i):this.types[r]}else this.validator&&(a[3]?this.validator.addType(e,a[3]):this.validator.addType(e)),this.types[e]=a}addTypes(e){Object.keys(e).forEach(a=>this.addType(a,e[a],!1)),this.validator&&Object.keys(e).forEach(a=>{Xn(e[a])&&this.validator.validateType(e[a])})}setVariable(e,a){this.types[e]=a}read(e,a,n,r){const{type:i,typeArgs:l}=Ct(n),o=this.types[i];if(!o)throw new Error("missing data type: "+i);return o[0].call(this,e,a,l,r)}write(e,a,n,r,i){const{type:l,typeArgs:o}=Ct(r),h=this.types[l];if(!h)throw new Error("missing data type: "+l);return h[1].call(this,e,a,n,o,i)}sizeOf(e,a,n){const{type:r,typeArgs:i}=Ct(a),l=this.types[r];if(!l)throw new Error("missing data type: "+r);return typeof l[2]=="function"?l[2].call(this,e,i,n):l[2]}createPacketBuffer(e,a){const n=ba(()=>this.sizeOf(a,e,{}),i=>{throw i.message=`SizeOf error for ${i.field} : ${i.message}`,i}),r=Buffer.allocUnsafe(n);return ba(()=>this.write(a,r,0,e,{}),i=>{throw i.message=`Write error for ${i.field} : ${i.message}`,i}),r}parsePacketBuffer(e,a,n=0){const{value:r,size:i}=ba(()=>this.read(a,n,e,{}),l=>{throw l.message=`Read error for ${l.field} : ${l.message}`,l});return{data:r,metadata:{size:i},buffer:a.slice(0,i),fullBuffer:a}}};var ld=od,Vt={},ud={get exports(){return Vt},set exports(t){Vt=t}},ys=Cr.EventEmitter,ht={},Xt={};Xt.byteLength=hd;Xt.toByteArray=pd;Xt.fromByteArray=yd;var dr=[],ur=[],fd=typeof Uint8Array<"u"?Uint8Array:Array,_a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var kr=0,cd=_a.length;kr<cd;++kr)dr[kr]=_a[kr],ur[_a.charCodeAt(kr)]=kr;ur["-".charCodeAt(0)]=62;ur["_".charCodeAt(0)]=63;function gs(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var a=t.indexOf("=");a===-1&&(a=e);var n=a===e?0:4-a%4;return[a,n]}function hd(t){var e=gs(t),a=e[0],n=e[1];return(a+n)*3/4-n}function dd(t,e,a){return(e+a)*3/4-a}function pd(t){var e,a=gs(t),n=a[0],r=a[1],i=new fd(dd(t,n,r)),l=0,o=r>0?n-4:n,h;for(h=0;h<o;h+=4)e=ur[t.charCodeAt(h)]<<18|ur[t.charCodeAt(h+1)]<<12|ur[t.charCodeAt(h+2)]<<6|ur[t.charCodeAt(h+3)],i[l++]=e>>16&255,i[l++]=e>>8&255,i[l++]=e&255;return r===2&&(e=ur[t.charCodeAt(h)]<<2|ur[t.charCodeAt(h+1)]>>4,i[l++]=e&255),r===1&&(e=ur[t.charCodeAt(h)]<<10|ur[t.charCodeAt(h+1)]<<4|ur[t.charCodeAt(h+2)]>>2,i[l++]=e>>8&255,i[l++]=e&255),i}function vd(t){return dr[t>>18&63]+dr[t>>12&63]+dr[t>>6&63]+dr[t&63]}function md(t,e,a){for(var n,r=[],i=e;i<a;i+=3)n=(t[i]<<16&16711680)+(t[i+1]<<8&65280)+(t[i+2]&255),r.push(vd(n));return r.join("")}function yd(t){for(var e,a=t.length,n=a%3,r=[],i=16383,l=0,o=a-n;l<o;l+=i)r.push(md(t,l,l+i>o?o:l+i));return n===1?(e=t[a-1],r.push(dr[e>>2]+dr[e<<4&63]+"==")):n===2&&(e=(t[a-2]<<8)+t[a-1],r.push(dr[e>>10]+dr[e>>4&63]+dr[e<<2&63]+"=")),r.join("")}var mn={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */mn.read=function(t,e,a,n,r){var i,l,o=r*8-n-1,h=(1<<o)-1,y=h>>1,v=-7,w=a?r-1:0,_=a?-1:1,f=t[e+w];for(w+=_,i=f&(1<<-v)-1,f>>=-v,v+=o;v>0;i=i*256+t[e+w],w+=_,v-=8);for(l=i&(1<<-v)-1,i>>=-v,v+=n;v>0;l=l*256+t[e+w],w+=_,v-=8);if(i===0)i=1-y;else{if(i===h)return l?NaN:(f?-1:1)*(1/0);l=l+Math.pow(2,n),i=i-y}return(f?-1:1)*l*Math.pow(2,i-n)};mn.write=function(t,e,a,n,r,i){var l,o,h,y=i*8-r-1,v=(1<<y)-1,w=v>>1,_=r===23?Math.pow(2,-24)-Math.pow(2,-77):0,f=n?0:i-1,p=n?1:-1,P=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(o=isNaN(e)?1:0,l=v):(l=Math.floor(Math.log(e)/Math.LN2),e*(h=Math.pow(2,-l))<1&&(l--,h*=2),l+w>=1?e+=_/h:e+=_*Math.pow(2,1-w),e*h>=2&&(l++,h/=2),l+w>=v?(o=0,l=v):l+w>=1?(o=(e*h-1)*Math.pow(2,r),l=l+w):(o=e*Math.pow(2,w-1)*Math.pow(2,r),l=0));r>=8;t[a+f]=o&255,f+=p,o/=256,r-=8);for(l=l<<r|o,y+=r;y>0;t[a+f]=l&255,f+=p,l/=256,y-=8);t[a+f-p]|=P*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(t){const e=Xt,a=mn,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=o,t.SlowBuffer=R,t.INSPECT_MAX_BYTES=50;const r=2147483647;t.kMaxLength=r,o.TYPED_ARRAY_SUPPORT=i(),!o.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function i(){try{const d=new Uint8Array(1),s={foo:function(){return 42}};return Object.setPrototypeOf(s,Uint8Array.prototype),Object.setPrototypeOf(d,s),d.foo()===42}catch{return!1}}Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}});function l(d){if(d>r)throw new RangeError('The value "'+d+'" is invalid for option "size"');const s=new Uint8Array(d);return Object.setPrototypeOf(s,o.prototype),s}function o(d,s,u){if(typeof d=="number"){if(typeof s=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return w(d)}return h(d,s,u)}o.poolSize=8192;function h(d,s,u){if(typeof d=="string")return _(d,s);if(ArrayBuffer.isView(d))return p(d);if(d==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof d);if(Pe(d,ArrayBuffer)||d&&Pe(d.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Pe(d,SharedArrayBuffer)||d&&Pe(d.buffer,SharedArrayBuffer)))return P(d,s,u);if(typeof d=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const E=d.valueOf&&d.valueOf();if(E!=null&&E!==d)return o.from(E,s,u);const F=I(d);if(F)return F;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof d[Symbol.toPrimitive]=="function")return o.from(d[Symbol.toPrimitive]("string"),s,u);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof d)}o.from=function(d,s,u){return h(d,s,u)},Object.setPrototypeOf(o.prototype,Uint8Array.prototype),Object.setPrototypeOf(o,Uint8Array);function y(d){if(typeof d!="number")throw new TypeError('"size" argument must be of type number');if(d<0)throw new RangeError('The value "'+d+'" is invalid for option "size"')}function v(d,s,u){return y(d),d<=0?l(d):s!==void 0?typeof u=="string"?l(d).fill(s,u):l(d).fill(s):l(d)}o.alloc=function(d,s,u){return v(d,s,u)};function w(d){return y(d),l(d<0?0:m(d)|0)}o.allocUnsafe=function(d){return w(d)},o.allocUnsafeSlow=function(d){return w(d)};function _(d,s){if((typeof s!="string"||s==="")&&(s="utf8"),!o.isEncoding(s))throw new TypeError("Unknown encoding: "+s);const u=A(d,s)|0;let E=l(u);const F=E.write(d,s);return F!==u&&(E=E.slice(0,F)),E}function f(d){const s=d.length<0?0:m(d.length)|0,u=l(s);for(let E=0;E<s;E+=1)u[E]=d[E]&255;return u}function p(d){if(Pe(d,Uint8Array)){const s=new Uint8Array(d);return P(s.buffer,s.byteOffset,s.byteLength)}return f(d)}function P(d,s,u){if(s<0||d.byteLength<s)throw new RangeError('"offset" is outside of buffer bounds');if(d.byteLength<s+(u||0))throw new RangeError('"length" is outside of buffer bounds');let E;return s===void 0&&u===void 0?E=new Uint8Array(d):u===void 0?E=new Uint8Array(d,s):E=new Uint8Array(d,s,u),Object.setPrototypeOf(E,o.prototype),E}function I(d){if(o.isBuffer(d)){const s=m(d.length)|0,u=l(s);return u.length===0||d.copy(u,0,0,s),u}if(d.length!==void 0)return typeof d.length!="number"||Ce(d.length)?l(0):f(d);if(d.type==="Buffer"&&Array.isArray(d.data))return f(d.data)}function m(d){if(d>=r)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r.toString(16)+" bytes");return d|0}function R(d){return+d!=d&&(d=0),o.alloc(+d)}o.isBuffer=function(s){return s!=null&&s._isBuffer===!0&&s!==o.prototype},o.compare=function(s,u){if(Pe(s,Uint8Array)&&(s=o.from(s,s.offset,s.byteLength)),Pe(u,Uint8Array)&&(u=o.from(u,u.offset,u.byteLength)),!o.isBuffer(s)||!o.isBuffer(u))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(s===u)return 0;let E=s.length,F=u.length;for(let N=0,q=Math.min(E,F);N<q;++N)if(s[N]!==u[N]){E=s[N],F=u[N];break}return E<F?-1:F<E?1:0},o.isEncoding=function(s){switch(String(s).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(s,u){if(!Array.isArray(s))throw new TypeError('"list" argument must be an Array of Buffers');if(s.length===0)return o.alloc(0);let E;if(u===void 0)for(u=0,E=0;E<s.length;++E)u+=s[E].length;const F=o.allocUnsafe(u);let N=0;for(E=0;E<s.length;++E){let q=s[E];if(Pe(q,Uint8Array))N+q.length>F.length?(o.isBuffer(q)||(q=o.from(q)),q.copy(F,N)):Uint8Array.prototype.set.call(F,q,N);else if(o.isBuffer(q))q.copy(F,N);else throw new TypeError('"list" argument must be an Array of Buffers');N+=q.length}return F};function A(d,s){if(o.isBuffer(d))return d.length;if(ArrayBuffer.isView(d)||Pe(d,ArrayBuffer))return d.byteLength;if(typeof d!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof d);const u=d.length,E=arguments.length>2&&arguments[2]===!0;if(!E&&u===0)return 0;let F=!1;for(;;)switch(s){case"ascii":case"latin1":case"binary":return u;case"utf8":case"utf-8":return ye(d).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return u*2;case"hex":return u>>>1;case"base64":return Je(d).length;default:if(F)return E?-1:ye(d).length;s=(""+s).toLowerCase(),F=!0}}o.byteLength=A;function C(d,s,u){let E=!1;if((s===void 0||s<0)&&(s=0),s>this.length||((u===void 0||u>this.length)&&(u=this.length),u<=0)||(u>>>=0,s>>>=0,u<=s))return"";for(d||(d="utf8");;)switch(d){case"hex":return ce(this,s,u);case"utf8":case"utf-8":return Q(this,s,u);case"ascii":return fe(this,s,u);case"latin1":case"binary":return ve(this,s,u);case"base64":return K(this,s,u);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ie(this,s,u);default:if(E)throw new TypeError("Unknown encoding: "+d);d=(d+"").toLowerCase(),E=!0}}o.prototype._isBuffer=!0;function L(d,s,u){const E=d[s];d[s]=d[u],d[u]=E}o.prototype.swap16=function(){const s=this.length;if(s%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let u=0;u<s;u+=2)L(this,u,u+1);return this},o.prototype.swap32=function(){const s=this.length;if(s%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let u=0;u<s;u+=4)L(this,u,u+3),L(this,u+1,u+2);return this},o.prototype.swap64=function(){const s=this.length;if(s%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let u=0;u<s;u+=8)L(this,u,u+7),L(this,u+1,u+6),L(this,u+2,u+5),L(this,u+3,u+4);return this},o.prototype.toString=function(){const s=this.length;return s===0?"":arguments.length===0?Q(this,0,s):C.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(s){if(!o.isBuffer(s))throw new TypeError("Argument must be a Buffer");return this===s?!0:o.compare(this,s)===0},o.prototype.inspect=function(){let s="";const u=t.INSPECT_MAX_BYTES;return s=this.toString("hex",0,u).replace(/(.{2})/g,"$1 ").trim(),this.length>u&&(s+=" ... "),"<Buffer "+s+">"},n&&(o.prototype[n]=o.prototype.inspect),o.prototype.compare=function(s,u,E,F,N){if(Pe(s,Uint8Array)&&(s=o.from(s,s.offset,s.byteLength)),!o.isBuffer(s))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof s);if(u===void 0&&(u=0),E===void 0&&(E=s?s.length:0),F===void 0&&(F=0),N===void 0&&(N=this.length),u<0||E>s.length||F<0||N>this.length)throw new RangeError("out of range index");if(F>=N&&u>=E)return 0;if(F>=N)return-1;if(u>=E)return 1;if(u>>>=0,E>>>=0,F>>>=0,N>>>=0,this===s)return 0;let q=N-F,pe=E-u;const Ie=Math.min(q,pe),Re=this.slice(F,N),Se=s.slice(u,E);for(let Te=0;Te<Ie;++Te)if(Re[Te]!==Se[Te]){q=Re[Te],pe=Se[Te];break}return q<pe?-1:pe<q?1:0};function V(d,s,u,E,F){if(d.length===0)return-1;if(typeof u=="string"?(E=u,u=0):u>2147483647?u=2147483647:u<-2147483648&&(u=-2147483648),u=+u,Ce(u)&&(u=F?0:d.length-1),u<0&&(u=d.length+u),u>=d.length){if(F)return-1;u=d.length-1}else if(u<0)if(F)u=0;else return-1;if(typeof s=="string"&&(s=o.from(s,E)),o.isBuffer(s))return s.length===0?-1:Y(d,s,u,E,F);if(typeof s=="number")return s=s&255,typeof Uint8Array.prototype.indexOf=="function"?F?Uint8Array.prototype.indexOf.call(d,s,u):Uint8Array.prototype.lastIndexOf.call(d,s,u):Y(d,[s],u,E,F);throw new TypeError("val must be string, number or Buffer")}function Y(d,s,u,E,F){let N=1,q=d.length,pe=s.length;if(E!==void 0&&(E=String(E).toLowerCase(),E==="ucs2"||E==="ucs-2"||E==="utf16le"||E==="utf-16le")){if(d.length<2||s.length<2)return-1;N=2,q/=2,pe/=2,u/=2}function Ie(Se,Te){return N===1?Se[Te]:Se.readUInt16BE(Te*N)}let Re;if(F){let Se=-1;for(Re=u;Re<q;Re++)if(Ie(d,Re)===Ie(s,Se===-1?0:Re-Se)){if(Se===-1&&(Se=Re),Re-Se+1===pe)return Se*N}else Se!==-1&&(Re-=Re-Se),Se=-1}else for(u+pe>q&&(u=q-pe),Re=u;Re>=0;Re--){let Se=!0;for(let Te=0;Te<pe;Te++)if(Ie(d,Re+Te)!==Ie(s,Te)){Se=!1;break}if(Se)return Re}return-1}o.prototype.includes=function(s,u,E){return this.indexOf(s,u,E)!==-1},o.prototype.indexOf=function(s,u,E){return V(this,s,u,E,!0)},o.prototype.lastIndexOf=function(s,u,E){return V(this,s,u,E,!1)};function W(d,s,u,E){u=Number(u)||0;const F=d.length-u;E?(E=Number(E),E>F&&(E=F)):E=F;const N=s.length;E>N/2&&(E=N/2);let q;for(q=0;q<E;++q){const pe=parseInt(s.substr(q*2,2),16);if(Ce(pe))return q;d[u+q]=pe}return q}function H(d,s,u,E){return Ze(ye(s,d.length-u),d,u,E)}function X(d,s,u,E){return Ze(We(s),d,u,E)}function te(d,s,u,E){return Ze(Je(s),d,u,E)}function Z(d,s,u,E){return Ze(Le(s,d.length-u),d,u,E)}o.prototype.write=function(s,u,E,F){if(u===void 0)F="utf8",E=this.length,u=0;else if(E===void 0&&typeof u=="string")F=u,E=this.length,u=0;else if(isFinite(u))u=u>>>0,isFinite(E)?(E=E>>>0,F===void 0&&(F="utf8")):(F=E,E=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const N=this.length-u;if((E===void 0||E>N)&&(E=N),s.length>0&&(E<0||u<0)||u>this.length)throw new RangeError("Attempt to write outside buffer bounds");F||(F="utf8");let q=!1;for(;;)switch(F){case"hex":return W(this,s,u,E);case"utf8":case"utf-8":return H(this,s,u,E);case"ascii":case"latin1":case"binary":return X(this,s,u,E);case"base64":return te(this,s,u,E);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Z(this,s,u,E);default:if(q)throw new TypeError("Unknown encoding: "+F);F=(""+F).toLowerCase(),q=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function K(d,s,u){return s===0&&u===d.length?e.fromByteArray(d):e.fromByteArray(d.slice(s,u))}function Q(d,s,u){u=Math.min(d.length,u);const E=[];let F=s;for(;F<u;){const N=d[F];let q=null,pe=N>239?4:N>223?3:N>191?2:1;if(F+pe<=u){let Ie,Re,Se,Te;switch(pe){case 1:N<128&&(q=N);break;case 2:Ie=d[F+1],(Ie&192)===128&&(Te=(N&31)<<6|Ie&63,Te>127&&(q=Te));break;case 3:Ie=d[F+1],Re=d[F+2],(Ie&192)===128&&(Re&192)===128&&(Te=(N&15)<<12|(Ie&63)<<6|Re&63,Te>2047&&(Te<55296||Te>57343)&&(q=Te));break;case 4:Ie=d[F+1],Re=d[F+2],Se=d[F+3],(Ie&192)===128&&(Re&192)===128&&(Se&192)===128&&(Te=(N&15)<<18|(Ie&63)<<12|(Re&63)<<6|Se&63,Te>65535&&Te<1114112&&(q=Te))}}q===null?(q=65533,pe=1):q>65535&&(q-=65536,E.push(q>>>10&1023|55296),q=56320|q&1023),E.push(q),F+=pe}return me(E)}const ae=4096;function me(d){const s=d.length;if(s<=ae)return String.fromCharCode.apply(String,d);let u="",E=0;for(;E<s;)u+=String.fromCharCode.apply(String,d.slice(E,E+=ae));return u}function fe(d,s,u){let E="";u=Math.min(d.length,u);for(let F=s;F<u;++F)E+=String.fromCharCode(d[F]&127);return E}function ve(d,s,u){let E="";u=Math.min(d.length,u);for(let F=s;F<u;++F)E+=String.fromCharCode(d[F]);return E}function ce(d,s,u){const E=d.length;(!s||s<0)&&(s=0),(!u||u<0||u>E)&&(u=E);let F="";for(let N=s;N<u;++N)F+=qe[d[N]];return F}function ie(d,s,u){const E=d.slice(s,u);let F="";for(let N=0;N<E.length-1;N+=2)F+=String.fromCharCode(E[N]+E[N+1]*256);return F}o.prototype.slice=function(s,u){const E=this.length;s=~~s,u=u===void 0?E:~~u,s<0?(s+=E,s<0&&(s=0)):s>E&&(s=E),u<0?(u+=E,u<0&&(u=0)):u>E&&(u=E),u<s&&(u=s);const F=this.subarray(s,u);return Object.setPrototypeOf(F,o.prototype),F};function de(d,s,u){if(d%1!==0||d<0)throw new RangeError("offset is not uint");if(d+s>u)throw new RangeError("Trying to access beyond buffer length")}o.prototype.readUintLE=o.prototype.readUIntLE=function(s,u,E){s=s>>>0,u=u>>>0,E||de(s,u,this.length);let F=this[s],N=1,q=0;for(;++q<u&&(N*=256);)F+=this[s+q]*N;return F},o.prototype.readUintBE=o.prototype.readUIntBE=function(s,u,E){s=s>>>0,u=u>>>0,E||de(s,u,this.length);let F=this[s+--u],N=1;for(;u>0&&(N*=256);)F+=this[s+--u]*N;return F},o.prototype.readUint8=o.prototype.readUInt8=function(s,u){return s=s>>>0,u||de(s,1,this.length),this[s]},o.prototype.readUint16LE=o.prototype.readUInt16LE=function(s,u){return s=s>>>0,u||de(s,2,this.length),this[s]|this[s+1]<<8},o.prototype.readUint16BE=o.prototype.readUInt16BE=function(s,u){return s=s>>>0,u||de(s,2,this.length),this[s]<<8|this[s+1]},o.prototype.readUint32LE=o.prototype.readUInt32LE=function(s,u){return s=s>>>0,u||de(s,4,this.length),(this[s]|this[s+1]<<8|this[s+2]<<16)+this[s+3]*16777216},o.prototype.readUint32BE=o.prototype.readUInt32BE=function(s,u){return s=s>>>0,u||de(s,4,this.length),this[s]*16777216+(this[s+1]<<16|this[s+2]<<8|this[s+3])},o.prototype.readBigUInt64LE=Ve(function(s){s=s>>>0,k(s,"offset");const u=this[s],E=this[s+7];(u===void 0||E===void 0)&&G(s,this.length-8);const F=u+this[++s]*2**8+this[++s]*2**16+this[++s]*2**24,N=this[++s]+this[++s]*2**8+this[++s]*2**16+E*2**24;return BigInt(F)+(BigInt(N)<<BigInt(32))}),o.prototype.readBigUInt64BE=Ve(function(s){s=s>>>0,k(s,"offset");const u=this[s],E=this[s+7];(u===void 0||E===void 0)&&G(s,this.length-8);const F=u*2**24+this[++s]*2**16+this[++s]*2**8+this[++s],N=this[++s]*2**24+this[++s]*2**16+this[++s]*2**8+E;return(BigInt(F)<<BigInt(32))+BigInt(N)}),o.prototype.readIntLE=function(s,u,E){s=s>>>0,u=u>>>0,E||de(s,u,this.length);let F=this[s],N=1,q=0;for(;++q<u&&(N*=256);)F+=this[s+q]*N;return N*=128,F>=N&&(F-=Math.pow(2,8*u)),F},o.prototype.readIntBE=function(s,u,E){s=s>>>0,u=u>>>0,E||de(s,u,this.length);let F=u,N=1,q=this[s+--F];for(;F>0&&(N*=256);)q+=this[s+--F]*N;return N*=128,q>=N&&(q-=Math.pow(2,8*u)),q},o.prototype.readInt8=function(s,u){return s=s>>>0,u||de(s,1,this.length),this[s]&128?(255-this[s]+1)*-1:this[s]},o.prototype.readInt16LE=function(s,u){s=s>>>0,u||de(s,2,this.length);const E=this[s]|this[s+1]<<8;return E&32768?E|4294901760:E},o.prototype.readInt16BE=function(s,u){s=s>>>0,u||de(s,2,this.length);const E=this[s+1]|this[s]<<8;return E&32768?E|4294901760:E},o.prototype.readInt32LE=function(s,u){return s=s>>>0,u||de(s,4,this.length),this[s]|this[s+1]<<8|this[s+2]<<16|this[s+3]<<24},o.prototype.readInt32BE=function(s,u){return s=s>>>0,u||de(s,4,this.length),this[s]<<24|this[s+1]<<16|this[s+2]<<8|this[s+3]},o.prototype.readBigInt64LE=Ve(function(s){s=s>>>0,k(s,"offset");const u=this[s],E=this[s+7];(u===void 0||E===void 0)&&G(s,this.length-8);const F=this[s+4]+this[s+5]*2**8+this[s+6]*2**16+(E<<24);return(BigInt(F)<<BigInt(32))+BigInt(u+this[++s]*2**8+this[++s]*2**16+this[++s]*2**24)}),o.prototype.readBigInt64BE=Ve(function(s){s=s>>>0,k(s,"offset");const u=this[s],E=this[s+7];(u===void 0||E===void 0)&&G(s,this.length-8);const F=(u<<24)+this[++s]*2**16+this[++s]*2**8+this[++s];return(BigInt(F)<<BigInt(32))+BigInt(this[++s]*2**24+this[++s]*2**16+this[++s]*2**8+E)}),o.prototype.readFloatLE=function(s,u){return s=s>>>0,u||de(s,4,this.length),a.read(this,s,!0,23,4)},o.prototype.readFloatBE=function(s,u){return s=s>>>0,u||de(s,4,this.length),a.read(this,s,!1,23,4)},o.prototype.readDoubleLE=function(s,u){return s=s>>>0,u||de(s,8,this.length),a.read(this,s,!0,52,8)},o.prototype.readDoubleBE=function(s,u){return s=s>>>0,u||de(s,8,this.length),a.read(this,s,!1,52,8)};function ge(d,s,u,E,F,N){if(!o.isBuffer(d))throw new TypeError('"buffer" argument must be a Buffer instance');if(s>F||s<N)throw new RangeError('"value" argument is out of bounds');if(u+E>d.length)throw new RangeError("Index out of range")}o.prototype.writeUintLE=o.prototype.writeUIntLE=function(s,u,E,F){if(s=+s,u=u>>>0,E=E>>>0,!F){const pe=Math.pow(2,8*E)-1;ge(this,s,u,E,pe,0)}let N=1,q=0;for(this[u]=s&255;++q<E&&(N*=256);)this[u+q]=s/N&255;return u+E},o.prototype.writeUintBE=o.prototype.writeUIntBE=function(s,u,E,F){if(s=+s,u=u>>>0,E=E>>>0,!F){const pe=Math.pow(2,8*E)-1;ge(this,s,u,E,pe,0)}let N=E-1,q=1;for(this[u+N]=s&255;--N>=0&&(q*=256);)this[u+N]=s/q&255;return u+E},o.prototype.writeUint8=o.prototype.writeUInt8=function(s,u,E){return s=+s,u=u>>>0,E||ge(this,s,u,1,255,0),this[u]=s&255,u+1},o.prototype.writeUint16LE=o.prototype.writeUInt16LE=function(s,u,E){return s=+s,u=u>>>0,E||ge(this,s,u,2,65535,0),this[u]=s&255,this[u+1]=s>>>8,u+2},o.prototype.writeUint16BE=o.prototype.writeUInt16BE=function(s,u,E){return s=+s,u=u>>>0,E||ge(this,s,u,2,65535,0),this[u]=s>>>8,this[u+1]=s&255,u+2},o.prototype.writeUint32LE=o.prototype.writeUInt32LE=function(s,u,E){return s=+s,u=u>>>0,E||ge(this,s,u,4,4294967295,0),this[u+3]=s>>>24,this[u+2]=s>>>16,this[u+1]=s>>>8,this[u]=s&255,u+4},o.prototype.writeUint32BE=o.prototype.writeUInt32BE=function(s,u,E){return s=+s,u=u>>>0,E||ge(this,s,u,4,4294967295,0),this[u]=s>>>24,this[u+1]=s>>>16,this[u+2]=s>>>8,this[u+3]=s&255,u+4};function Fe(d,s,u,E,F){S(s,E,F,d,u,7);let N=Number(s&BigInt(4294967295));d[u++]=N,N=N>>8,d[u++]=N,N=N>>8,d[u++]=N,N=N>>8,d[u++]=N;let q=Number(s>>BigInt(32)&BigInt(4294967295));return d[u++]=q,q=q>>8,d[u++]=q,q=q>>8,d[u++]=q,q=q>>8,d[u++]=q,u}function Ee(d,s,u,E,F){S(s,E,F,d,u,7);let N=Number(s&BigInt(4294967295));d[u+7]=N,N=N>>8,d[u+6]=N,N=N>>8,d[u+5]=N,N=N>>8,d[u+4]=N;let q=Number(s>>BigInt(32)&BigInt(4294967295));return d[u+3]=q,q=q>>8,d[u+2]=q,q=q>>8,d[u+1]=q,q=q>>8,d[u]=q,u+8}o.prototype.writeBigUInt64LE=Ve(function(s,u=0){return Fe(this,s,u,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeBigUInt64BE=Ve(function(s,u=0){return Ee(this,s,u,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeIntLE=function(s,u,E,F){if(s=+s,u=u>>>0,!F){const Ie=Math.pow(2,8*E-1);ge(this,s,u,E,Ie-1,-Ie)}let N=0,q=1,pe=0;for(this[u]=s&255;++N<E&&(q*=256);)s<0&&pe===0&&this[u+N-1]!==0&&(pe=1),this[u+N]=(s/q>>0)-pe&255;return u+E},o.prototype.writeIntBE=function(s,u,E,F){if(s=+s,u=u>>>0,!F){const Ie=Math.pow(2,8*E-1);ge(this,s,u,E,Ie-1,-Ie)}let N=E-1,q=1,pe=0;for(this[u+N]=s&255;--N>=0&&(q*=256);)s<0&&pe===0&&this[u+N+1]!==0&&(pe=1),this[u+N]=(s/q>>0)-pe&255;return u+E},o.prototype.writeInt8=function(s,u,E){return s=+s,u=u>>>0,E||ge(this,s,u,1,127,-128),s<0&&(s=255+s+1),this[u]=s&255,u+1},o.prototype.writeInt16LE=function(s,u,E){return s=+s,u=u>>>0,E||ge(this,s,u,2,32767,-32768),this[u]=s&255,this[u+1]=s>>>8,u+2},o.prototype.writeInt16BE=function(s,u,E){return s=+s,u=u>>>0,E||ge(this,s,u,2,32767,-32768),this[u]=s>>>8,this[u+1]=s&255,u+2},o.prototype.writeInt32LE=function(s,u,E){return s=+s,u=u>>>0,E||ge(this,s,u,4,2147483647,-2147483648),this[u]=s&255,this[u+1]=s>>>8,this[u+2]=s>>>16,this[u+3]=s>>>24,u+4},o.prototype.writeInt32BE=function(s,u,E){return s=+s,u=u>>>0,E||ge(this,s,u,4,2147483647,-2147483648),s<0&&(s=4294967295+s+1),this[u]=s>>>24,this[u+1]=s>>>16,this[u+2]=s>>>8,this[u+3]=s&255,u+4},o.prototype.writeBigInt64LE=Ve(function(s,u=0){return Fe(this,s,u,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),o.prototype.writeBigInt64BE=Ve(function(s,u=0){return Ee(this,s,u,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function He(d,s,u,E,F,N){if(u+E>d.length)throw new RangeError("Index out of range");if(u<0)throw new RangeError("Index out of range")}function B(d,s,u,E,F){return s=+s,u=u>>>0,F||He(d,s,u,4),a.write(d,s,u,E,23,4),u+4}o.prototype.writeFloatLE=function(s,u,E){return B(this,s,u,!0,E)},o.prototype.writeFloatBE=function(s,u,E){return B(this,s,u,!1,E)};function D(d,s,u,E,F){return s=+s,u=u>>>0,F||He(d,s,u,8),a.write(d,s,u,E,52,8),u+8}o.prototype.writeDoubleLE=function(s,u,E){return D(this,s,u,!0,E)},o.prototype.writeDoubleBE=function(s,u,E){return D(this,s,u,!1,E)},o.prototype.copy=function(s,u,E,F){if(!o.isBuffer(s))throw new TypeError("argument should be a Buffer");if(E||(E=0),!F&&F!==0&&(F=this.length),u>=s.length&&(u=s.length),u||(u=0),F>0&&F<E&&(F=E),F===E||s.length===0||this.length===0)return 0;if(u<0)throw new RangeError("targetStart out of bounds");if(E<0||E>=this.length)throw new RangeError("Index out of range");if(F<0)throw new RangeError("sourceEnd out of bounds");F>this.length&&(F=this.length),s.length-u<F-E&&(F=s.length-u+E);const N=F-E;return this===s&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(u,E,F):Uint8Array.prototype.set.call(s,this.subarray(E,F),u),N},o.prototype.fill=function(s,u,E,F){if(typeof s=="string"){if(typeof u=="string"?(F=u,u=0,E=this.length):typeof E=="string"&&(F=E,E=this.length),F!==void 0&&typeof F!="string")throw new TypeError("encoding must be a string");if(typeof F=="string"&&!o.isEncoding(F))throw new TypeError("Unknown encoding: "+F);if(s.length===1){const q=s.charCodeAt(0);(F==="utf8"&&q<128||F==="latin1")&&(s=q)}}else typeof s=="number"?s=s&255:typeof s=="boolean"&&(s=Number(s));if(u<0||this.length<u||this.length<E)throw new RangeError("Out of range index");if(E<=u)return this;u=u>>>0,E=E===void 0?this.length:E>>>0,s||(s=0);let N;if(typeof s=="number")for(N=u;N<E;++N)this[N]=s;else{const q=o.isBuffer(s)?s:o.from(s,F),pe=q.length;if(pe===0)throw new TypeError('The value "'+s+'" is invalid for argument "value"');for(N=0;N<E-u;++N)this[N+u]=q[N%pe]}return this};const M={};function ee(d,s,u){M[d]=class extends u{constructor(){super(),Object.defineProperty(this,"message",{value:s.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${d}]`,this.stack,delete this.name}get code(){return d}set code(F){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:F,writable:!0})}toString(){return`${this.name} [${d}]: ${this.message}`}}}ee("ERR_BUFFER_OUT_OF_BOUNDS",function(d){return d?`${d} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),ee("ERR_INVALID_ARG_TYPE",function(d,s){return`The "${d}" argument must be of type number. Received type ${typeof s}`},TypeError),ee("ERR_OUT_OF_RANGE",function(d,s,u){let E=`The value of "${d}" is out of range.`,F=u;return Number.isInteger(u)&&Math.abs(u)>2**32?F=ne(String(u)):typeof u=="bigint"&&(F=String(u),(u>BigInt(2)**BigInt(32)||u<-(BigInt(2)**BigInt(32)))&&(F=ne(F)),F+="n"),E+=` It must be ${s}. Received ${F}`,E},RangeError);function ne(d){let s="",u=d.length;const E=d[0]==="-"?1:0;for(;u>=E+4;u-=3)s=`_${d.slice(u-3,u)}${s}`;return`${d.slice(0,u)}${s}`}function g(d,s,u){k(s,"offset"),(d[s]===void 0||d[s+u]===void 0)&&G(s,d.length-(u+1))}function S(d,s,u,E,F,N){if(d>u||d<s){const q=typeof s=="bigint"?"n":"";let pe;throw N>3?s===0||s===BigInt(0)?pe=`>= 0${q} and < 2${q} ** ${(N+1)*8}${q}`:pe=`>= -(2${q} ** ${(N+1)*8-1}${q}) and < 2 ** ${(N+1)*8-1}${q}`:pe=`>= ${s}${q} and <= ${u}${q}`,new M.ERR_OUT_OF_RANGE("value",pe,d)}g(E,F,N)}function k(d,s){if(typeof d!="number")throw new M.ERR_INVALID_ARG_TYPE(s,"number",d)}function G(d,s,u){throw Math.floor(d)!==d?(k(d,u),new M.ERR_OUT_OF_RANGE(u||"offset","an integer",d)):s<0?new M.ERR_BUFFER_OUT_OF_BOUNDS:new M.ERR_OUT_OF_RANGE(u||"offset",`>= ${u?1:0} and <= ${s}`,d)}const be=/[^+/0-9A-Za-z-_]/g;function se(d){if(d=d.split("=")[0],d=d.trim().replace(be,""),d.length<2)return"";for(;d.length%4!==0;)d=d+"=";return d}function ye(d,s){s=s||1/0;let u;const E=d.length;let F=null;const N=[];for(let q=0;q<E;++q){if(u=d.charCodeAt(q),u>55295&&u<57344){if(!F){if(u>56319){(s-=3)>-1&&N.push(239,191,189);continue}else if(q+1===E){(s-=3)>-1&&N.push(239,191,189);continue}F=u;continue}if(u<56320){(s-=3)>-1&&N.push(239,191,189),F=u;continue}u=(F-55296<<10|u-56320)+65536}else F&&(s-=3)>-1&&N.push(239,191,189);if(F=null,u<128){if((s-=1)<0)break;N.push(u)}else if(u<2048){if((s-=2)<0)break;N.push(u>>6|192,u&63|128)}else if(u<65536){if((s-=3)<0)break;N.push(u>>12|224,u>>6&63|128,u&63|128)}else if(u<1114112){if((s-=4)<0)break;N.push(u>>18|240,u>>12&63|128,u>>6&63|128,u&63|128)}else throw new Error("Invalid code point")}return N}function We(d){const s=[];for(let u=0;u<d.length;++u)s.push(d.charCodeAt(u)&255);return s}function Le(d,s){let u,E,F;const N=[];for(let q=0;q<d.length&&!((s-=2)<0);++q)u=d.charCodeAt(q),E=u>>8,F=u%256,N.push(F),N.push(E);return N}function Je(d){return e.toByteArray(se(d))}function Ze(d,s,u,E){let F;for(F=0;F<E&&!(F+u>=s.length||F>=d.length);++F)s[F+u]=d[F];return F}function Pe(d,s){return d instanceof s||d!=null&&d.constructor!=null&&d.constructor.name!=null&&d.constructor.name===s.name}function Ce(d){return d!==d}const qe=function(){const d="0123456789abcdef",s=new Array(256);for(let u=0;u<16;++u){const E=u*16;for(let F=0;F<16;++F)s[E+F]=d[u]+d[F]}return s}();function Ve(d){return typeof BigInt>"u"?rr:d}function rr(){throw new Error("BigInt not supported")}})(ht);var Pa,ei;function gd(){if(ei)return Pa;ei=1;function t(_,f){var p=Object.keys(_);if(Object.getOwnPropertySymbols){var P=Object.getOwnPropertySymbols(_);f&&(P=P.filter(function(I){return Object.getOwnPropertyDescriptor(_,I).enumerable})),p.push.apply(p,P)}return p}function e(_){for(var f=1;f<arguments.length;f++){var p=arguments[f]!=null?arguments[f]:{};f%2?t(Object(p),!0).forEach(function(P){a(_,P,p[P])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_,Object.getOwnPropertyDescriptors(p)):t(Object(p)).forEach(function(P){Object.defineProperty(_,P,Object.getOwnPropertyDescriptor(p,P))})}return _}function a(_,f,p){return f in _?Object.defineProperty(_,f,{value:p,enumerable:!0,configurable:!0,writable:!0}):_[f]=p,_}function n(_,f){if(!(_ instanceof f))throw new TypeError("Cannot call a class as a function")}function r(_,f){for(var p=0;p<f.length;p++){var P=f[p];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(_,P.key,P)}}function i(_,f,p){return f&&r(_.prototype,f),p&&r(_,p),_}var l=ht,o=l.Buffer,h=Cr,y=h.inspect,v=y&&y.custom||"inspect";function w(_,f,p){o.prototype.copy.call(_,f,p)}return Pa=function(){function _(){n(this,_),this.head=null,this.tail=null,this.length=0}return i(_,[{key:"push",value:function(p){var P={data:p,next:null};this.length>0?this.tail.next=P:this.head=P,this.tail=P,++this.length}},{key:"unshift",value:function(p){var P={data:p,next:this.head};this.length===0&&(this.tail=P),this.head=P,++this.length}},{key:"shift",value:function(){if(this.length!==0){var p=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,p}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(p){if(this.length===0)return"";for(var P=this.head,I=""+P.data;P=P.next;)I+=p+P.data;return I}},{key:"concat",value:function(p){if(this.length===0)return o.alloc(0);for(var P=o.allocUnsafe(p>>>0),I=this.head,m=0;I;)w(I.data,P,m),m+=I.data.length,I=I.next;return P}},{key:"consume",value:function(p,P){var I;return p<this.head.data.length?(I=this.head.data.slice(0,p),this.head.data=this.head.data.slice(p)):p===this.head.data.length?I=this.shift():I=P?this._getString(p):this._getBuffer(p),I}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(p){var P=this.head,I=1,m=P.data;for(p-=m.length;P=P.next;){var R=P.data,A=p>R.length?R.length:p;if(A===R.length?m+=R:m+=R.slice(0,p),p-=A,p===0){A===R.length?(++I,P.next?this.head=P.next:this.head=this.tail=null):(this.head=P,P.data=R.slice(A));break}++I}return this.length-=I,m}},{key:"_getBuffer",value:function(p){var P=o.allocUnsafe(p),I=this.head,m=1;for(I.data.copy(P),p-=I.data.length;I=I.next;){var R=I.data,A=p>R.length?R.length:p;if(R.copy(P,P.length-p,0,A),p-=A,p===0){A===R.length?(++m,I.next?this.head=I.next:this.head=this.tail=null):(this.head=I,I.data=R.slice(A));break}++m}return this.length-=m,P}},{key:v,value:function(p,P){return y(this,e({},P,{depth:0,customInspect:!1}))}}]),_}(),Pa}function wd(t,e){var a=this,n=this._readableState&&this._readableState.destroyed,r=this._writableState&&this._writableState.destroyed;return n||r?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(Ga,this,t)):process.nextTick(Ga,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(i){!e&&i?a._writableState?a._writableState.errorEmitted?process.nextTick(Bt,a):(a._writableState.errorEmitted=!0,process.nextTick(ri,a,i)):process.nextTick(ri,a,i):e?(process.nextTick(Bt,a),e(i)):process.nextTick(Bt,a)}),this)}function ri(t,e){Ga(t,e),Bt(t)}function Bt(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function Ed(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function Ga(t,e){t.emit("error",e)}function bd(t,e){var a=t._readableState,n=t._writableState;a&&a.autoDestroy||n&&n.autoDestroy?t.destroy(e):t.emit("error",e)}var ws={destroy:wd,undestroy:Ed,errorOrDestroy:bd},zr={};function _d(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var Es={};function fr(t,e,a){a||(a=Error);function n(i,l,o){return typeof e=="string"?e:e(i,l,o)}var r=function(i){_d(l,i);function l(o,h,y){return i.call(this,n(o,h,y))||this}return l}(a);r.prototype.name=a.name,r.prototype.code=t,Es[t]=r}function ti(t,e){if(Array.isArray(t)){var a=t.length;return t=t.map(function(n){return String(n)}),a>2?"one of ".concat(e," ").concat(t.slice(0,a-1).join(", "),", or ")+t[a-1]:a===2?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}else return"of ".concat(e," ").concat(String(t))}function Pd(t,e,a){return t.substr(!a||a<0?0:+a,e.length)===e}function Sd(t,e,a){return(a===void 0||a>t.length)&&(a=t.length),t.substring(a-e.length,a)===e}function $d(t,e,a){return typeof a!="number"&&(a=0),a+e.length>t.length?!1:t.indexOf(e,a)!==-1}fr("ERR_INVALID_OPT_VALUE",function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'},TypeError);fr("ERR_INVALID_ARG_TYPE",function(t,e,a){var n;typeof e=="string"&&Pd(e,"not ")?(n="must not be",e=e.replace(/^not /,"")):n="must be";var r;if(Sd(t," argument"))r="The ".concat(t," ").concat(n," ").concat(ti(e,"type"));else{var i=$d(t,".")?"property":"argument";r='The "'.concat(t,'" ').concat(i," ").concat(n," ").concat(ti(e,"type"))}return r+=". Received type ".concat(typeof a),r},TypeError);fr("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");fr("ERR_METHOD_NOT_IMPLEMENTED",function(t){return"The "+t+" method is not implemented"});fr("ERR_STREAM_PREMATURE_CLOSE","Premature close");fr("ERR_STREAM_DESTROYED",function(t){return"Cannot call "+t+" after a stream was destroyed"});fr("ERR_MULTIPLE_CALLBACK","Callback called multiple times");fr("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");fr("ERR_STREAM_WRITE_AFTER_END","write after end");fr("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);fr("ERR_UNKNOWN_ENCODING",function(t){return"Unknown encoding: "+t},TypeError);fr("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");zr.codes=Es;var Id=zr.codes.ERR_INVALID_OPT_VALUE;function Rd(t,e,a){return t.highWaterMark!=null?t.highWaterMark:e?t[a]:null}function Td(t,e,a,n){var r=Rd(e,n,a);if(r!=null){if(!(isFinite(r)&&Math.floor(r)===r)||r<0){var i=n?a:"highWaterMark";throw new Id(i,r)}return Math.floor(r)}return t.objectMode?16:16*1024}var bs={getHighWaterMark:Td},Br={},ai={get exports(){return Br},set exports(t){Br=t}};typeof Object.create=="function"?ai.exports=function(e,a){a&&(e.super_=a,e.prototype=Object.create(a.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:ai.exports=function(e,a){if(a){e.super_=a;var n=function(){};n.prototype=a.prototype,e.prototype=new n,e.prototype.constructor=e}};var Ad=Od;function Od(t,e){if(Sa("noDeprecation"))return t;var a=!1;function n(){if(!a){if(Sa("throwDeprecation"))throw new Error(e);Sa("traceDeprecation")?console.trace(e):console.warn(e),a=!0}return t.apply(this,arguments)}return n}function Sa(t){try{if(!{}.localStorage)return!1}catch{return!1}var e={}.localStorage[t];return e==null?!1:String(e).toLowerCase()==="true"}var $a,ni;function _s(){if(ni)return $a;ni=1,$a=W;function t(B){var D=this;this.next=null,this.entry=null,this.finish=function(){He(D,B)}}var e;W.WritableState=V;var a={deprecate:Ad},n=ys,r=ht.Buffer,i={}.Uint8Array||function(){};function l(B){return r.from(B)}function o(B){return r.isBuffer(B)||B instanceof i}var h=ws,y=bs,v=y.getHighWaterMark,w=zr.codes,_=w.ERR_INVALID_ARG_TYPE,f=w.ERR_METHOD_NOT_IMPLEMENTED,p=w.ERR_MULTIPLE_CALLBACK,P=w.ERR_STREAM_CANNOT_PIPE,I=w.ERR_STREAM_DESTROYED,m=w.ERR_STREAM_NULL_VALUES,R=w.ERR_STREAM_WRITE_AFTER_END,A=w.ERR_UNKNOWN_ENCODING,C=h.errorOrDestroy;Br(W,n);function L(){}function V(B,D,M){e=e||Hr(),B=B||{},typeof M!="boolean"&&(M=D instanceof e),this.objectMode=!!B.objectMode,M&&(this.objectMode=this.objectMode||!!B.writableObjectMode),this.highWaterMark=v(this,B,"writableHighWaterMark",M),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var ee=B.decodeStrings===!1;this.decodeStrings=!ee,this.defaultEncoding=B.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(ne){me(D,ne)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=B.emitClose!==!1,this.autoDestroy=!!B.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new t(this)}V.prototype.getBuffer=function(){for(var D=this.bufferedRequest,M=[];D;)M.push(D),D=D.next;return M},function(){try{Object.defineProperty(V.prototype,"buffer",{get:a.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var Y;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(Y=Function.prototype[Symbol.hasInstance],Object.defineProperty(W,Symbol.hasInstance,{value:function(D){return Y.call(this,D)?!0:this!==W?!1:D&&D._writableState instanceof V}})):Y=function(D){return D instanceof this};function W(B){e=e||Hr();var D=this instanceof e;if(!D&&!Y.call(W,this))return new W(B);this._writableState=new V(B,this,D),this.writable=!0,B&&(typeof B.write=="function"&&(this._write=B.write),typeof B.writev=="function"&&(this._writev=B.writev),typeof B.destroy=="function"&&(this._destroy=B.destroy),typeof B.final=="function"&&(this._final=B.final)),n.call(this)}W.prototype.pipe=function(){C(this,new P)};function H(B,D){var M=new R;C(B,M),process.nextTick(D,M)}function X(B,D,M,ee){var ne;return M===null?ne=new m:typeof M!="string"&&!D.objectMode&&(ne=new _("chunk",["string","Buffer"],M)),ne?(C(B,ne),process.nextTick(ee,ne),!1):!0}W.prototype.write=function(B,D,M){var ee=this._writableState,ne=!1,g=!ee.objectMode&&o(B);return g&&!r.isBuffer(B)&&(B=l(B)),typeof D=="function"&&(M=D,D=null),g?D="buffer":D||(D=ee.defaultEncoding),typeof M!="function"&&(M=L),ee.ending?H(this,M):(g||X(this,ee,B,M))&&(ee.pendingcb++,ne=Z(this,ee,g,B,D,M)),ne},W.prototype.cork=function(){this._writableState.corked++},W.prototype.uncork=function(){var B=this._writableState;B.corked&&(B.corked--,!B.writing&&!B.corked&&!B.bufferProcessing&&B.bufferedRequest&&ce(this,B))},W.prototype.setDefaultEncoding=function(D){if(typeof D=="string"&&(D=D.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((D+"").toLowerCase())>-1))throw new A(D);return this._writableState.defaultEncoding=D,this},Object.defineProperty(W.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function te(B,D,M){return!B.objectMode&&B.decodeStrings!==!1&&typeof D=="string"&&(D=r.from(D,M)),D}Object.defineProperty(W.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function Z(B,D,M,ee,ne,g){if(!M){var S=te(D,ee,ne);ee!==S&&(M=!0,ne="buffer",ee=S)}var k=D.objectMode?1:ee.length;D.length+=k;var G=D.length<D.highWaterMark;if(G||(D.needDrain=!0),D.writing||D.corked){var be=D.lastBufferedRequest;D.lastBufferedRequest={chunk:ee,encoding:ne,isBuf:M,callback:g,next:null},be?be.next=D.lastBufferedRequest:D.bufferedRequest=D.lastBufferedRequest,D.bufferedRequestCount+=1}else K(B,D,!1,k,ee,ne,g);return G}function K(B,D,M,ee,ne,g,S){D.writelen=ee,D.writecb=S,D.writing=!0,D.sync=!0,D.destroyed?D.onwrite(new I("write")):M?B._writev(ne,D.onwrite):B._write(ne,g,D.onwrite),D.sync=!1}function Q(B,D,M,ee,ne){--D.pendingcb,M?(process.nextTick(ne,ee),process.nextTick(Fe,B,D),B._writableState.errorEmitted=!0,C(B,ee)):(ne(ee),B._writableState.errorEmitted=!0,C(B,ee),Fe(B,D))}function ae(B){B.writing=!1,B.writecb=null,B.length-=B.writelen,B.writelen=0}function me(B,D){var M=B._writableState,ee=M.sync,ne=M.writecb;if(typeof ne!="function")throw new p;if(ae(M),D)Q(B,M,ee,D,ne);else{var g=ie(M)||B.destroyed;!g&&!M.corked&&!M.bufferProcessing&&M.bufferedRequest&&ce(B,M),ee?process.nextTick(fe,B,M,g,ne):fe(B,M,g,ne)}}function fe(B,D,M,ee){M||ve(B,D),D.pendingcb--,ee(),Fe(B,D)}function ve(B,D){D.length===0&&D.needDrain&&(D.needDrain=!1,B.emit("drain"))}function ce(B,D){D.bufferProcessing=!0;var M=D.bufferedRequest;if(B._writev&&M&&M.next){var ee=D.bufferedRequestCount,ne=new Array(ee),g=D.corkedRequestsFree;g.entry=M;for(var S=0,k=!0;M;)ne[S]=M,M.isBuf||(k=!1),M=M.next,S+=1;ne.allBuffers=k,K(B,D,!0,D.length,ne,"",g.finish),D.pendingcb++,D.lastBufferedRequest=null,g.next?(D.corkedRequestsFree=g.next,g.next=null):D.corkedRequestsFree=new t(D),D.bufferedRequestCount=0}else{for(;M;){var G=M.chunk,be=M.encoding,se=M.callback,ye=D.objectMode?1:G.length;if(K(B,D,!1,ye,G,be,se),M=M.next,D.bufferedRequestCount--,D.writing)break}M===null&&(D.lastBufferedRequest=null)}D.bufferedRequest=M,D.bufferProcessing=!1}W.prototype._write=function(B,D,M){M(new f("_write()"))},W.prototype._writev=null,W.prototype.end=function(B,D,M){var ee=this._writableState;return typeof B=="function"?(M=B,B=null,D=null):typeof D=="function"&&(M=D,D=null),B!=null&&this.write(B,D),ee.corked&&(ee.corked=1,this.uncork()),ee.ending||Ee(this,ee,M),this},Object.defineProperty(W.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function ie(B){return B.ending&&B.length===0&&B.bufferedRequest===null&&!B.finished&&!B.writing}function de(B,D){B._final(function(M){D.pendingcb--,M&&C(B,M),D.prefinished=!0,B.emit("prefinish"),Fe(B,D)})}function ge(B,D){!D.prefinished&&!D.finalCalled&&(typeof B._final=="function"&&!D.destroyed?(D.pendingcb++,D.finalCalled=!0,process.nextTick(de,B,D)):(D.prefinished=!0,B.emit("prefinish")))}function Fe(B,D){var M=ie(D);if(M&&(ge(B,D),D.pendingcb===0&&(D.finished=!0,B.emit("finish"),D.autoDestroy))){var ee=B._readableState;(!ee||ee.autoDestroy&&ee.endEmitted)&&B.destroy()}return M}function Ee(B,D,M){D.ending=!0,Fe(B,D),M&&(D.finished?process.nextTick(M):B.once("finish",M)),D.ended=!0,B.writable=!1}function He(B,D,M){var ee=B.entry;for(B.entry=null;ee;){var ne=ee.callback;D.pendingcb--,ne(M),ee=ee.next}D.corkedRequestsFree.next=B}return Object.defineProperty(W.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(D){this._writableState&&(this._writableState.destroyed=D)}}),W.prototype.destroy=h.destroy,W.prototype._undestroy=h.undestroy,W.prototype._destroy=function(B,D){D(B)},$a}var Ia,ii;function Hr(){if(ii)return Ia;ii=1;var t=Object.keys||function(y){var v=[];for(var w in y)v.push(w);return v};Ia=l;var e=Ss(),a=_s();Br(l,e);for(var n=t(a.prototype),r=0;r<n.length;r++){var i=n[r];l.prototype[i]||(l.prototype[i]=a.prototype[i])}function l(y){if(!(this instanceof l))return new l(y);e.call(this,y),a.call(this,y),this.allowHalfOpen=!0,y&&(y.readable===!1&&(this.readable=!1),y.writable===!1&&(this.writable=!1),y.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",o)))}Object.defineProperty(l.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(l.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(l.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function o(){this._writableState.ended||process.nextTick(h,this)}function h(y){y.end()}return Object.defineProperty(l.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(v){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=v,this._writableState.destroyed=v)}}),Ia}var Ra={},nt={},xd={get exports(){return nt},set exports(t){nt=t}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var si;function Fd(){return si||(si=1,function(t,e){var a=ht,n=a.Buffer;function r(l,o){for(var h in l)o[h]=l[h]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?t.exports=a:(r(a,e),e.Buffer=i);function i(l,o,h){return n(l,o,h)}i.prototype=Object.create(n.prototype),r(n,i),i.from=function(l,o,h){if(typeof l=="number")throw new TypeError("Argument must not be a number");return n(l,o,h)},i.alloc=function(l,o,h){if(typeof l!="number")throw new TypeError("Argument must be a number");var y=n(l);return o!==void 0?typeof h=="string"?y.fill(o,h):y.fill(o):y.fill(0),y},i.allocUnsafe=function(l){if(typeof l!="number")throw new TypeError("Argument must be a number");return n(l)},i.allocUnsafeSlow=function(l){if(typeof l!="number")throw new TypeError("Argument must be a number");return a.SlowBuffer(l)}}(xd,nt)),nt}var oi;function li(){if(oi)return Ra;oi=1;var t=Fd().Buffer,e=t.isEncoding||function(m){switch(m=""+m,m&&m.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function a(m){if(!m)return"utf8";for(var R;;)switch(m){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return m;default:if(R)return;m=(""+m).toLowerCase(),R=!0}}function n(m){var R=a(m);if(typeof R!="string"&&(t.isEncoding===e||!e(m)))throw new Error("Unknown encoding: "+m);return R||m}Ra.StringDecoder=r;function r(m){this.encoding=n(m);var R;switch(this.encoding){case"utf16le":this.text=w,this.end=_,R=4;break;case"utf8":this.fillLast=h,R=4;break;case"base64":this.text=f,this.end=p,R=3;break;default:this.write=P,this.end=I;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=t.allocUnsafe(R)}r.prototype.write=function(m){if(m.length===0)return"";var R,A;if(this.lastNeed){if(R=this.fillLast(m),R===void 0)return"";A=this.lastNeed,this.lastNeed=0}else A=0;return A<m.length?R?R+this.text(m,A):this.text(m,A):R||""},r.prototype.end=v,r.prototype.text=y,r.prototype.fillLast=function(m){if(this.lastNeed<=m.length)return m.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);m.copy(this.lastChar,this.lastTotal-this.lastNeed,0,m.length),this.lastNeed-=m.length};function i(m){return m<=127?0:m>>5===6?2:m>>4===14?3:m>>3===30?4:m>>6===2?-1:-2}function l(m,R,A){var C=R.length-1;if(C<A)return 0;var L=i(R[C]);return L>=0?(L>0&&(m.lastNeed=L-1),L):--C<A||L===-2?0:(L=i(R[C]),L>=0?(L>0&&(m.lastNeed=L-2),L):--C<A||L===-2?0:(L=i(R[C]),L>=0?(L>0&&(L===2?L=0:m.lastNeed=L-3),L):0))}function o(m,R,A){if((R[0]&192)!==128)return m.lastNeed=0,"";if(m.lastNeed>1&&R.length>1){if((R[1]&192)!==128)return m.lastNeed=1,"";if(m.lastNeed>2&&R.length>2&&(R[2]&192)!==128)return m.lastNeed=2,""}}function h(m){var R=this.lastTotal-this.lastNeed,A=o(this,m);if(A!==void 0)return A;if(this.lastNeed<=m.length)return m.copy(this.lastChar,R,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);m.copy(this.lastChar,R,0,m.length),this.lastNeed-=m.length}function y(m,R){var A=l(this,m,R);if(!this.lastNeed)return m.toString("utf8",R);this.lastTotal=A;var C=m.length-(A-this.lastNeed);return m.copy(this.lastChar,0,C),m.toString("utf8",R,C)}function v(m){var R=m&&m.length?this.write(m):"";return this.lastNeed?R+"":R}function w(m,R){if((m.length-R)%2===0){var A=m.toString("utf16le",R);if(A){var C=A.charCodeAt(A.length-1);if(C>=55296&&C<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=m[m.length-2],this.lastChar[1]=m[m.length-1],A.slice(0,-1)}return A}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=m[m.length-1],m.toString("utf16le",R,m.length-1)}function _(m){var R=m&&m.length?this.write(m):"";if(this.lastNeed){var A=this.lastTotal-this.lastNeed;return R+this.lastChar.toString("utf16le",0,A)}return R}function f(m,R){var A=(m.length-R)%3;return A===0?m.toString("base64",R):(this.lastNeed=3-A,this.lastTotal=3,A===1?this.lastChar[0]=m[m.length-1]:(this.lastChar[0]=m[m.length-2],this.lastChar[1]=m[m.length-1]),m.toString("base64",R,m.length-A))}function p(m){var R=m&&m.length?this.write(m):"";return this.lastNeed?R+this.lastChar.toString("base64",0,3-this.lastNeed):R}function P(m){return m.toString(this.encoding)}function I(m){return m&&m.length?this.write(m):""}return Ra}var ui=zr.codes.ERR_STREAM_PREMATURE_CLOSE;function Cd(t){var e=!1;return function(){if(!e){e=!0;for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];t.apply(this,n)}}}function Dd(){}function Bd(t){return t.setHeader&&typeof t.abort=="function"}function Ps(t,e,a){if(typeof e=="function")return Ps(t,null,e);e||(e={}),a=Cd(a||Dd);var n=e.readable||e.readable!==!1&&t.readable,r=e.writable||e.writable!==!1&&t.writable,i=function(){t.writable||o()},l=t._writableState&&t._writableState.finished,o=function(){r=!1,l=!0,n||a.call(t)},h=t._readableState&&t._readableState.endEmitted,y=function(){n=!1,h=!0,r||a.call(t)},v=function(p){a.call(t,p)},w=function(){var p;if(n&&!h)return(!t._readableState||!t._readableState.ended)&&(p=new ui),a.call(t,p);if(r&&!l)return(!t._writableState||!t._writableState.ended)&&(p=new ui),a.call(t,p)},_=function(){t.req.on("finish",o)};return Bd(t)?(t.on("complete",o),t.on("abort",w),t.req?_():t.on("request",_)):r&&!t._writableState&&(t.on("end",i),t.on("close",i)),t.on("end",y),t.on("finish",o),e.error!==!1&&t.on("error",v),t.on("close",w),function(){t.removeListener("complete",o),t.removeListener("abort",w),t.removeListener("request",_),t.req&&t.req.removeListener("finish",o),t.removeListener("end",i),t.removeListener("close",i),t.removeListener("finish",o),t.removeListener("end",y),t.removeListener("error",v),t.removeListener("close",w)}}var yn=Ps,Ta,fi;function Ld(){if(fi)return Ta;fi=1;var t;function e(m,R,A){return R in m?Object.defineProperty(m,R,{value:A,enumerable:!0,configurable:!0,writable:!0}):m[R]=A,m}var a=yn,n=Symbol("lastResolve"),r=Symbol("lastReject"),i=Symbol("error"),l=Symbol("ended"),o=Symbol("lastPromise"),h=Symbol("handlePromise"),y=Symbol("stream");function v(m,R){return{value:m,done:R}}function w(m){var R=m[n];if(R!==null){var A=m[y].read();A!==null&&(m[o]=null,m[n]=null,m[r]=null,R(v(A,!1)))}}function _(m){process.nextTick(w,m)}function f(m,R){return function(A,C){m.then(function(){if(R[l]){A(v(void 0,!0));return}R[h](A,C)},C)}}var p=Object.getPrototypeOf(function(){}),P=Object.setPrototypeOf((t={get stream(){return this[y]},next:function(){var R=this,A=this[i];if(A!==null)return Promise.reject(A);if(this[l])return Promise.resolve(v(void 0,!0));if(this[y].destroyed)return new Promise(function(Y,W){process.nextTick(function(){R[i]?W(R[i]):Y(v(void 0,!0))})});var C=this[o],L;if(C)L=new Promise(f(C,this));else{var V=this[y].read();if(V!==null)return Promise.resolve(v(V,!1));L=new Promise(this[h])}return this[o]=L,L}},e(t,Symbol.asyncIterator,function(){return this}),e(t,"return",function(){var R=this;return new Promise(function(A,C){R[y].destroy(null,function(L){if(L){C(L);return}A(v(void 0,!0))})})}),t),p),I=function(R){var A,C=Object.create(P,(A={},e(A,y,{value:R,writable:!0}),e(A,n,{value:null,writable:!0}),e(A,r,{value:null,writable:!0}),e(A,i,{value:null,writable:!0}),e(A,l,{value:R._readableState.endEmitted,writable:!0}),e(A,h,{value:function(V,Y){var W=C[y].read();W?(C[o]=null,C[n]=null,C[r]=null,V(v(W,!1))):(C[n]=V,C[r]=Y)},writable:!0}),A));return C[o]=null,a(R,function(L){if(L&&L.code!=="ERR_STREAM_PREMATURE_CLOSE"){var V=C[r];V!==null&&(C[o]=null,C[n]=null,C[r]=null,V(L)),C[i]=L;return}var Y=C[n];Y!==null&&(C[o]=null,C[n]=null,C[r]=null,Y(v(void 0,!0))),C[l]=!0}),R.on("readable",_.bind(null,C)),C};return Ta=I,Ta}var Aa,ci;function Nd(){return ci||(ci=1,Aa=function(){throw new Error("Readable.from is not available in the browser")}),Aa}var Oa,hi;function Ss(){if(hi)return Oa;hi=1,Oa=H;var t;H.ReadableState=W,Cr.EventEmitter;var e=function(S,k){return S.listeners(k).length},a=ys,n=ht.Buffer,r={}.Uint8Array||function(){};function i(g){return n.from(g)}function l(g){return n.isBuffer(g)||g instanceof r}var o=Cr,h;o&&o.debuglog?h=o.debuglog("stream"):h=function(){};var y=gd(),v=ws,w=bs,_=w.getHighWaterMark,f=zr.codes,p=f.ERR_INVALID_ARG_TYPE,P=f.ERR_STREAM_PUSH_AFTER_EOF,I=f.ERR_METHOD_NOT_IMPLEMENTED,m=f.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,R,A,C;Br(H,a);var L=v.errorOrDestroy,V=["error","close","destroy","pause","resume"];function Y(g,S,k){if(typeof g.prependListener=="function")return g.prependListener(S,k);!g._events||!g._events[S]?g.on(S,k):Array.isArray(g._events[S])?g._events[S].unshift(k):g._events[S]=[k,g._events[S]]}function W(g,S,k){t=t||Hr(),g=g||{},typeof k!="boolean"&&(k=S instanceof t),this.objectMode=!!g.objectMode,k&&(this.objectMode=this.objectMode||!!g.readableObjectMode),this.highWaterMark=_(this,g,"readableHighWaterMark",k),this.buffer=new y,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=g.emitClose!==!1,this.autoDestroy=!!g.autoDestroy,this.destroyed=!1,this.defaultEncoding=g.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,g.encoding&&(R||(R=li().StringDecoder),this.decoder=new R(g.encoding),this.encoding=g.encoding)}function H(g){if(t=t||Hr(),!(this instanceof H))return new H(g);var S=this instanceof t;this._readableState=new W(g,this,S),this.readable=!0,g&&(typeof g.read=="function"&&(this._read=g.read),typeof g.destroy=="function"&&(this._destroy=g.destroy)),a.call(this)}Object.defineProperty(H.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(S){this._readableState&&(this._readableState.destroyed=S)}}),H.prototype.destroy=v.destroy,H.prototype._undestroy=v.undestroy,H.prototype._destroy=function(g,S){S(g)},H.prototype.push=function(g,S){var k=this._readableState,G;return k.objectMode?G=!0:typeof g=="string"&&(S=S||k.defaultEncoding,S!==k.encoding&&(g=n.from(g,S),S=""),G=!0),X(this,g,S,!1,G)},H.prototype.unshift=function(g){return X(this,g,null,!0,!1)};function X(g,S,k,G,be){h("readableAddChunk",S);var se=g._readableState;if(S===null)se.reading=!1,me(g,se);else{var ye;if(be||(ye=Z(se,S)),ye)L(g,ye);else if(se.objectMode||S&&S.length>0)if(typeof S!="string"&&!se.objectMode&&Object.getPrototypeOf(S)!==n.prototype&&(S=i(S)),G)se.endEmitted?L(g,new m):te(g,se,S,!0);else if(se.ended)L(g,new P);else{if(se.destroyed)return!1;se.reading=!1,se.decoder&&!k?(S=se.decoder.write(S),se.objectMode||S.length!==0?te(g,se,S,!1):ce(g,se)):te(g,se,S,!1)}else G||(se.reading=!1,ce(g,se))}return!se.ended&&(se.length<se.highWaterMark||se.length===0)}function te(g,S,k,G){S.flowing&&S.length===0&&!S.sync?(S.awaitDrain=0,g.emit("data",k)):(S.length+=S.objectMode?1:k.length,G?S.buffer.unshift(k):S.buffer.push(k),S.needReadable&&fe(g)),ce(g,S)}function Z(g,S){var k;return!l(S)&&typeof S!="string"&&S!==void 0&&!g.objectMode&&(k=new p("chunk",["string","Buffer","Uint8Array"],S)),k}H.prototype.isPaused=function(){return this._readableState.flowing===!1},H.prototype.setEncoding=function(g){R||(R=li().StringDecoder);var S=new R(g);this._readableState.decoder=S,this._readableState.encoding=this._readableState.decoder.encoding;for(var k=this._readableState.buffer.head,G="";k!==null;)G+=S.write(k.data),k=k.next;return this._readableState.buffer.clear(),G!==""&&this._readableState.buffer.push(G),this._readableState.length=G.length,this};var K=1073741824;function Q(g){return g>=K?g=K:(g--,g|=g>>>1,g|=g>>>2,g|=g>>>4,g|=g>>>8,g|=g>>>16,g++),g}function ae(g,S){return g<=0||S.length===0&&S.ended?0:S.objectMode?1:g!==g?S.flowing&&S.length?S.buffer.head.data.length:S.length:(g>S.highWaterMark&&(S.highWaterMark=Q(g)),g<=S.length?g:S.ended?S.length:(S.needReadable=!0,0))}H.prototype.read=function(g){h("read",g),g=parseInt(g,10);var S=this._readableState,k=g;if(g!==0&&(S.emittedReadable=!1),g===0&&S.needReadable&&((S.highWaterMark!==0?S.length>=S.highWaterMark:S.length>0)||S.ended))return h("read: emitReadable",S.length,S.ended),S.length===0&&S.ended?M(this):fe(this),null;if(g=ae(g,S),g===0&&S.ended)return S.length===0&&M(this),null;var G=S.needReadable;h("need readable",G),(S.length===0||S.length-g<S.highWaterMark)&&(G=!0,h("length less than watermark",G)),S.ended||S.reading?(G=!1,h("reading or ended",G)):G&&(h("do read"),S.reading=!0,S.sync=!0,S.length===0&&(S.needReadable=!0),this._read(S.highWaterMark),S.sync=!1,S.reading||(g=ae(k,S)));var be;return g>0?be=D(g,S):be=null,be===null?(S.needReadable=S.length<=S.highWaterMark,g=0):(S.length-=g,S.awaitDrain=0),S.length===0&&(S.ended||(S.needReadable=!0),k!==g&&S.ended&&M(this)),be!==null&&this.emit("data",be),be};function me(g,S){if(h("onEofChunk"),!S.ended){if(S.decoder){var k=S.decoder.end();k&&k.length&&(S.buffer.push(k),S.length+=S.objectMode?1:k.length)}S.ended=!0,S.sync?fe(g):(S.needReadable=!1,S.emittedReadable||(S.emittedReadable=!0,ve(g)))}}function fe(g){var S=g._readableState;h("emitReadable",S.needReadable,S.emittedReadable),S.needReadable=!1,S.emittedReadable||(h("emitReadable",S.flowing),S.emittedReadable=!0,process.nextTick(ve,g))}function ve(g){var S=g._readableState;h("emitReadable_",S.destroyed,S.length,S.ended),!S.destroyed&&(S.length||S.ended)&&(g.emit("readable"),S.emittedReadable=!1),S.needReadable=!S.flowing&&!S.ended&&S.length<=S.highWaterMark,B(g)}function ce(g,S){S.readingMore||(S.readingMore=!0,process.nextTick(ie,g,S))}function ie(g,S){for(;!S.reading&&!S.ended&&(S.length<S.highWaterMark||S.flowing&&S.length===0);){var k=S.length;if(h("maybeReadMore read 0"),g.read(0),k===S.length)break}S.readingMore=!1}H.prototype._read=function(g){L(this,new I("_read()"))},H.prototype.pipe=function(g,S){var k=this,G=this._readableState;switch(G.pipesCount){case 0:G.pipes=g;break;case 1:G.pipes=[G.pipes,g];break;default:G.pipes.push(g);break}G.pipesCount+=1,h("pipe count=%d opts=%j",G.pipesCount,S);var be=(!S||S.end!==!1)&&g!==process.stdout&&g!==process.stderr,se=be?We:rr;G.endEmitted?process.nextTick(se):k.once("end",se),g.on("unpipe",ye);function ye(d,s){h("onunpipe"),d===k&&s&&s.hasUnpiped===!1&&(s.hasUnpiped=!0,Ze())}function We(){h("onend"),g.end()}var Le=de(k);g.on("drain",Le);var Je=!1;function Ze(){h("cleanup"),g.removeListener("close",qe),g.removeListener("finish",Ve),g.removeListener("drain",Le),g.removeListener("error",Ce),g.removeListener("unpipe",ye),k.removeListener("end",We),k.removeListener("end",rr),k.removeListener("data",Pe),Je=!0,G.awaitDrain&&(!g._writableState||g._writableState.needDrain)&&Le()}k.on("data",Pe);function Pe(d){h("ondata");var s=g.write(d);h("dest.write",s),s===!1&&((G.pipesCount===1&&G.pipes===g||G.pipesCount>1&&ne(G.pipes,g)!==-1)&&!Je&&(h("false write response, pause",G.awaitDrain),G.awaitDrain++),k.pause())}function Ce(d){h("onerror",d),rr(),g.removeListener("error",Ce),e(g,"error")===0&&L(g,d)}Y(g,"error",Ce);function qe(){g.removeListener("finish",Ve),rr()}g.once("close",qe);function Ve(){h("onfinish"),g.removeListener("close",qe),rr()}g.once("finish",Ve);function rr(){h("unpipe"),k.unpipe(g)}return g.emit("pipe",k),G.flowing||(h("pipe resume"),k.resume()),g};function de(g){return function(){var k=g._readableState;h("pipeOnDrain",k.awaitDrain),k.awaitDrain&&k.awaitDrain--,k.awaitDrain===0&&e(g,"data")&&(k.flowing=!0,B(g))}}H.prototype.unpipe=function(g){var S=this._readableState,k={hasUnpiped:!1};if(S.pipesCount===0)return this;if(S.pipesCount===1)return g&&g!==S.pipes?this:(g||(g=S.pipes),S.pipes=null,S.pipesCount=0,S.flowing=!1,g&&g.emit("unpipe",this,k),this);if(!g){var G=S.pipes,be=S.pipesCount;S.pipes=null,S.pipesCount=0,S.flowing=!1;for(var se=0;se<be;se++)G[se].emit("unpipe",this,{hasUnpiped:!1});return this}var ye=ne(S.pipes,g);return ye===-1?this:(S.pipes.splice(ye,1),S.pipesCount-=1,S.pipesCount===1&&(S.pipes=S.pipes[0]),g.emit("unpipe",this,k),this)},H.prototype.on=function(g,S){var k=a.prototype.on.call(this,g,S),G=this._readableState;return g==="data"?(G.readableListening=this.listenerCount("readable")>0,G.flowing!==!1&&this.resume()):g==="readable"&&!G.endEmitted&&!G.readableListening&&(G.readableListening=G.needReadable=!0,G.flowing=!1,G.emittedReadable=!1,h("on readable",G.length,G.reading),G.length?fe(this):G.reading||process.nextTick(Fe,this)),k},H.prototype.addListener=H.prototype.on,H.prototype.removeListener=function(g,S){var k=a.prototype.removeListener.call(this,g,S);return g==="readable"&&process.nextTick(ge,this),k},H.prototype.removeAllListeners=function(g){var S=a.prototype.removeAllListeners.apply(this,arguments);return(g==="readable"||g===void 0)&&process.nextTick(ge,this),S};function ge(g){var S=g._readableState;S.readableListening=g.listenerCount("readable")>0,S.resumeScheduled&&!S.paused?S.flowing=!0:g.listenerCount("data")>0&&g.resume()}function Fe(g){h("readable nexttick read 0"),g.read(0)}H.prototype.resume=function(){var g=this._readableState;return g.flowing||(h("resume"),g.flowing=!g.readableListening,Ee(this,g)),g.paused=!1,this};function Ee(g,S){S.resumeScheduled||(S.resumeScheduled=!0,process.nextTick(He,g,S))}function He(g,S){h("resume",S.reading),S.reading||g.read(0),S.resumeScheduled=!1,g.emit("resume"),B(g),S.flowing&&!S.reading&&g.read(0)}H.prototype.pause=function(){return h("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(h("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function B(g){var S=g._readableState;for(h("flow",S.flowing);S.flowing&&g.read()!==null;);}H.prototype.wrap=function(g){var S=this,k=this._readableState,G=!1;g.on("end",function(){if(h("wrapped end"),k.decoder&&!k.ended){var ye=k.decoder.end();ye&&ye.length&&S.push(ye)}S.push(null)}),g.on("data",function(ye){if(h("wrapped data"),k.decoder&&(ye=k.decoder.write(ye)),!(k.objectMode&&ye==null)&&!(!k.objectMode&&(!ye||!ye.length))){var We=S.push(ye);We||(G=!0,g.pause())}});for(var be in g)this[be]===void 0&&typeof g[be]=="function"&&(this[be]=function(We){return function(){return g[We].apply(g,arguments)}}(be));for(var se=0;se<V.length;se++)g.on(V[se],this.emit.bind(this,V[se]));return this._read=function(ye){h("wrapped _read",ye),G&&(G=!1,g.resume())},this},typeof Symbol=="function"&&(H.prototype[Symbol.asyncIterator]=function(){return A===void 0&&(A=Ld()),A(this)}),Object.defineProperty(H.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(H.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(H.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(S){this._readableState&&(this._readableState.flowing=S)}}),H._fromList=D,Object.defineProperty(H.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function D(g,S){if(S.length===0)return null;var k;return S.objectMode?k=S.buffer.shift():!g||g>=S.length?(S.decoder?k=S.buffer.join(""):S.buffer.length===1?k=S.buffer.first():k=S.buffer.concat(S.length),S.buffer.clear()):k=S.buffer.consume(g,S.decoder),k}function M(g){var S=g._readableState;h("endReadable",S.endEmitted),S.endEmitted||(S.ended=!0,process.nextTick(ee,S,g))}function ee(g,S){if(h("endReadableNT",g.endEmitted,g.length),!g.endEmitted&&g.length===0&&(g.endEmitted=!0,S.readable=!1,S.emit("end"),g.autoDestroy)){var k=S._writableState;(!k||k.autoDestroy&&k.finished)&&S.destroy()}}typeof Symbol=="function"&&(H.from=function(g,S){return C===void 0&&(C=Nd()),C(H,g,S)});function ne(g,S){for(var k=0,G=g.length;k<G;k++)if(g[k]===S)return k;return-1}return Oa}var $s=gr,ea=zr.codes,zd=ea.ERR_METHOD_NOT_IMPLEMENTED,jd=ea.ERR_MULTIPLE_CALLBACK,Ud=ea.ERR_TRANSFORM_ALREADY_TRANSFORMING,Md=ea.ERR_TRANSFORM_WITH_LENGTH_0,ra=Hr();Br(gr,ra);function qd(t,e){var a=this._transformState;a.transforming=!1;var n=a.writecb;if(n===null)return this.emit("error",new jd);a.writechunk=null,a.writecb=null,e!=null&&this.push(e),n(t);var r=this._readableState;r.reading=!1,(r.needReadable||r.length<r.highWaterMark)&&this._read(r.highWaterMark)}function gr(t){if(!(this instanceof gr))return new gr(t);ra.call(this,t),this._transformState={afterTransform:qd.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",kd)}function kd(){var t=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(e,a){di(t,e,a)}):di(this,null,null)}gr.prototype.push=function(t,e){return this._transformState.needTransform=!1,ra.prototype.push.call(this,t,e)};gr.prototype._transform=function(t,e,a){a(new zd("_transform()"))};gr.prototype._write=function(t,e,a){var n=this._transformState;if(n.writecb=a,n.writechunk=t,n.writeencoding=e,!n.transforming){var r=this._readableState;(n.needTransform||r.needReadable||r.length<r.highWaterMark)&&this._read(r.highWaterMark)}};gr.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};gr.prototype._destroy=function(t,e){ra.prototype._destroy.call(this,t,function(a){e(a)})};function di(t,e,a){if(e)return t.emit("error",e);if(a!=null&&t.push(a),t._writableState.length)throw new Md;if(t._transformState.transforming)throw new Ud;return t.push(null)}var Vd=ot,Is=$s;Br(ot,Is);function ot(t){if(!(this instanceof ot))return new ot(t);Is.call(this,t)}ot.prototype._transform=function(t,e,a){a(null,t)};var xa;function Hd(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}var Rs=zr.codes,Wd=Rs.ERR_MISSING_ARGS,Qd=Rs.ERR_STREAM_DESTROYED;function pi(t){if(t)throw t}function Kd(t){return t.setHeader&&typeof t.abort=="function"}function Gd(t,e,a,n){n=Hd(n);var r=!1;t.on("close",function(){r=!0}),xa===void 0&&(xa=yn),xa(t,{readable:e,writable:a},function(l){if(l)return n(l);r=!0,n()});var i=!1;return function(l){if(!r&&!i){if(i=!0,Kd(t))return t.abort();if(typeof t.destroy=="function")return t.destroy();n(l||new Qd("pipe"))}}}function vi(t){t()}function Jd(t,e){return t.pipe(e)}function Yd(t){return!t.length||typeof t[t.length-1]!="function"?pi:t.pop()}function Zd(){for(var t=arguments.length,e=new Array(t),a=0;a<t;a++)e[a]=arguments[a];var n=Yd(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new Wd("streams");var r,i=e.map(function(l,o){var h=o<e.length-1,y=o>0;return Gd(l,h,y,function(v){r||(r=v),v&&i.forEach(vi),!h&&(i.forEach(vi),n(r))})});return e.reduce(Jd)}var Xd=Zd;(function(t,e){e=t.exports=Ss(),e.Stream=e,e.Readable=e,e.Writable=_s(),e.Duplex=Hr(),e.Transform=$s,e.PassThrough=Vd,e.finished=yn,e.pipeline=Xd})(ud,Vt);const gn=Vt.Transform;class ep extends gn{constructor(e,a){super({writableObjectMode:!0}),this.proto=e,this.mainType=a,this.queue=Buffer.alloc(0)}createPacketBuffer(e){return this.proto.createPacketBuffer(this.mainType,e)}_transform(e,a,n){let r;try{r=this.createPacketBuffer(e)}catch(i){return n(i)}return this.push(r),n()}}class rp extends gn{constructor(e,a){super({readableObjectMode:!0}),this.proto=e,this.mainType=a,this.queue=Buffer.alloc(0)}parsePacketBuffer(e){return this.proto.parsePacketBuffer(this.mainType,e)}_transform(e,a,n){for(this.queue=Buffer.concat([this.queue,e]);;){let r;try{r=this.parsePacketBuffer(this.queue)}catch(i){return i.partialReadError?n():(i.buffer=this.queue,this.queue=Buffer.alloc(0),n(i))}this.push(r),this.queue=this.queue.slice(r.metadata.size)}}}class tp extends gn{constructor(e,a,n=!1){super({readableObjectMode:!0}),this.proto=e,this.mainType=a,this.noErrorLogging=n}parsePacketBuffer(e){return this.proto.parsePacketBuffer(this.mainType,e)}_transform(e,a,n){let r;try{r=this.parsePacketBuffer(e),r.metadata.size!==e.length&&!this.noErrorLogging&&console.log("Chunk size is "+e.length+" but only "+r.metadata.size+" was read ; partial packet : "+JSON.stringify(r.data)+"; buffer :"+e.toString("hex"))}catch(i){return i.partialReadError?(this.noErrorLogging||console.log(i.stack),n()):n(i)}this.push(r),n()}}var Fa={Serializer:ep,Parser:rp,FullPacketParser:tp},ap={Read:{switch:["parametrizable",(t,e)=>{let a=e.compareTo?e.compareTo:e.compareToValue;const n=[];a.startsWith("$")?n.push(a):e.compareTo&&(a=t.getField(a));let r=`switch (${a}) {
`;for(const i in e.fields){let l=i;l.startsWith("/")?l="ctx."+l.slice(1):isNaN(l)&&l!=="true"&&l!=="false"&&(l=`"${l}"`),r+=t.indent(`case ${l}: return `+t.callType(e.fields[i]))+`
`}return r+=t.indent("default: return "+t.callType(e.default?e.default:"void"))+`
`,r+="}",t.wrapCode(r,n)}],option:["parametrizable",(t,e)=>{let a=`const {value} = ctx.bool(buffer, offset)
`;return a+=`if (value) {
`,a+="  const { value, size } = "+t.callType(e,"offset + 1")+`
`,a+=`  return { value, size: size + 1 }
`,a+=`}
`,a+="return { value: undefined, size: 1}",t.wrapCode(a)}]},Write:{switch:["parametrizable",(t,e)=>{let a=e.compareTo?e.compareTo:e.compareToValue;const n=[];a.startsWith("$")?n.push(a):e.compareTo&&(a=t.getField(a));let r=`switch (${a}) {
`;for(const i in e.fields){let l=i;l.startsWith("/")?l="ctx."+l.slice(1):isNaN(l)&&l!=="true"&&l!=="false"&&(l=`"${l}"`),r+=t.indent(`case ${l}: return `+t.callType("value",e.fields[i]))+`
`}return r+=t.indent("default: return "+t.callType("value",e.default?e.default:"void"))+`
`,r+="}",t.wrapCode(r,n)}],option:["parametrizable",(t,e)=>{let a=`if (value != null) {
`;return a+=`  offset = ctx.bool(1, buffer, offset)
`,a+="  offset = "+t.callType("value",e)+`
`,a+=`} else {
`,a+=`  offset = ctx.bool(0, buffer, offset)
`,a+=`}
`,a+="return offset",t.wrapCode(a)}]},SizeOf:{switch:["parametrizable",(t,e)=>{let a=e.compareTo?e.compareTo:e.compareToValue;const n=[];a.startsWith("$")?n.push(a):e.compareTo&&(a=t.getField(a));let r=`switch (${a}) {
`;for(const i in e.fields){let l=i;l.startsWith("/")?l="ctx."+l.slice(1):isNaN(l)&&l!=="true"&&l!=="false"&&(l=`"${l}"`),r+=t.indent(`case ${l}: return `+t.callType("value",e.fields[i]))+`
`}return r+=t.indent("default: return "+t.callType("value",e.default?e.default:"void"))+`
`,r+="}",t.wrapCode(r,n)}],option:["parametrizable",(t,e)=>{let a=`if (value != null) {
`;return a+="  return 1 + "+t.callType("value",e)+`
`,a+=`}
`,a+="return 1",t.wrapCode(a)}]}},np={Read:{array:["parametrizable",(t,e)=>{let a="";if(e.countType)a+="const { value: count, size: countSize } = "+t.callType(e.countType)+`
`;else if(e.count)a+="const count = "+e.count+`
`,a+=`const countSize = 0
`;else throw new Error("Array must contain either count or countType");return a+=`if (count > 0xffffff) throw new Error("array size is abnormally large, not reading: " + count)
`,a+=`const data = []
`,a+=`let size = countSize
`,a+=`for (let i = 0; i < count; i++) {
`,a+="  const elem = "+t.callType(e.type,"offset + size")+`
`,a+=`  data.push(elem.value)
`,a+=`  size += elem.size
`,a+=`}
`,a+="return { value: data, size }",t.wrapCode(a)}],count:["parametrizable",(t,e)=>{const a="return "+t.callType(e.type);return t.wrapCode(a)}],container:["parametrizable",(t,e)=>{e=Ca(e);let a="",n="offset";const r=[];for(const l in e){const{type:o,name:h,anon:y}=e[l];let v,w;if(o instanceof Array&&o[0]==="bitfield"&&y){const _=[];for(const{name:f}of o[1]){const p=t.getField(f);f===p?(r.push(f),_.push(f)):(r.push(`${f}: ${p}`),_.push(`${f}: ${p}`))}v="{"+_.join(", ")+"}",w=`anon${l}Size`}else v=t.getField(h),w=`${v}Size`,h===v?r.push(h):r.push(`${h}: ${v}`);a+=`let { value: ${v}, size: ${w} } = `+t.callType(o,n)+`
`,n+=` + ${w}`}const i=n.split(" + ");return i.shift(),i.length===0&&i.push("0"),a+="return { value: { "+r.join(", ")+" }, size: "+i.join(" + ")+"}",t.wrapCode(a)}]},Write:{array:["parametrizable",(t,e)=>{let a="";if(e.countType)a+="offset = "+t.callType("value.length",e.countType)+`
`;else if(e.count===null)throw new Error("Array must contain either count or countType");return a+=`for (let i = 0; i < value.length; i++) {
`,a+="  offset = "+t.callType("value[i]",e.type)+`
`,a+=`}
`,a+="return offset",t.wrapCode(a)}],count:["parametrizable",(t,e)=>{const a="return "+t.callType("value",e.type);return t.wrapCode(a)}],container:["parametrizable",(t,e)=>{e=Ca(e);let a="";for(const n in e){const{type:r,name:i,anon:l}=e[n];let o;if(r instanceof Array&&r[0]==="bitfield"&&l){const h=[];for(const{name:y}of r[1]){const v=t.getField(y);a+=`const ${v} = value.${y}
`,y===v?h.push(y):h.push(`${y}: ${v}`)}o="{"+h.join(", ")+"}"}else o=t.getField(i),a+=`let ${o} = value.${i}
`;a+="offset = "+t.callType(o,r)+`
`}return a+="return offset",t.wrapCode(a)}]},SizeOf:{array:["parametrizable",(t,e)=>{let a="";if(e.countType)a+="let size = "+t.callType("value.length",e.countType)+`
`;else if(e.count)a+=`let size = 0
`;else throw new Error("Array must contain either count or countType");return isNaN(t.callType("value[i]",e.type))?(a+=`for (let i = 0; i < value.length; i++) {
`,a+="  size += "+t.callType("value[i]",e.type)+`
`,a+=`}
`):a+="size += value.length * "+t.callType("value[i]",e.type)+`
`,a+="return size",t.wrapCode(a)}],count:["parametrizable",(t,e)=>{const a="return "+t.callType("value",e.type);return t.wrapCode(a)}],container:["parametrizable",(t,e)=>{e=Ca(e);let a=`let size = 0
`;for(const n in e){const{type:r,name:i,anon:l}=e[n];let o;if(r instanceof Array&&r[0]==="bitfield"&&l){const h=[];for(const{name:y}of r[1]){const v=t.getField(y);a+=`const ${v} = value.${y}
`,y===v?h.push(y):h.push(`${y}: ${v}`)}o="{"+h.join(", ")+"}"}else o=t.getField(i),a+=`let ${o} = value.${i}
`;a+="size += "+t.callType(o,r)+`
`}return a+="return size",t.wrapCode(a)}]}};function Ca(t){const e=[];for(const a in t){const{type:n,anon:r}=t[a];if(r&&!(n instanceof Array&&n[0]==="bitfield"))if(n instanceof Array&&n[0]==="container")for(const i in n[1])e.push(n[1][i]);else if(n instanceof Array&&n[0]==="switch"){const i=n[1],l=new Set;for(const o in i.fields)if(i.fields[o]instanceof Array&&i.fields[o][0]==="container")for(const h in i.fields[o][1]){const y=i.fields[o][1][h];l.add(y.name)}if(i.default instanceof Array&&i.default[0]==="container")for(const o in i.default[1]){const h=i.default[1][o];l.add(h.name)}for(const o of l.keys()){const h={};let y=i.default;if(y instanceof Array&&y[0]==="container")for(const v in y[1]){const w=y[1][v];if(w.name===o){y=w.type;break}}for(const v in i.fields)if(i.fields[v]instanceof Array&&i.fields[v][0]==="container"){for(const w in i.fields[v][1])if(i.fields[v][1][w].name===o){h[v]=i.fields[v][1][w].type;break}}else h[v]=i.fields[v];y||(y="void"),e.push({name:o,type:["switch",{compareTo:i.compareTo,compareToValue:i.compareToValue,default:y,fields:h}]})}}else throw new Error("Cannot inline anonymous type: "+n);else e.push(t[a])}return e}var ip={Read:{pstring:["parametrizable",(t,e)=>{let a="";if(e.countType)a+="const { value: count, size: countSize } = "+t.callType(e.countType)+`
`;else if(e.count)a+="const count = "+e.count+`
`,a+=`const countSize = 0
`;else throw new Error("pstring must contain either count or countType");return a+=`offset += countSize
`,a+=`if (offset + count > buffer.length) {
`,a+=`  throw new PartialReadError("Missing characters in string, found size is " + buffer.length + " expected size was " + (offset + count))
`,a+=`}
`,a+=`return { value: buffer.toString("${e.encoding||"utf8"}", offset, offset + count), size: count + countSize }`,t.wrapCode(a)}],buffer:["parametrizable",(t,e)=>{let a="";if(e.countType)a+="const { value: count, size: countSize } = "+t.callType(e.countType)+`
`;else if(e.count)a+="const count = "+e.count+`
`,a+=`const countSize = 0
`;else throw new Error("buffer must contain either count or countType");return a+=`offset += countSize
`,a+=`if (offset + count > buffer.length) {
`,a+=`  throw new PartialReadError()
`,a+=`}
`,a+="return { value: buffer.slice(offset, offset + count), size: count + countSize }",t.wrapCode(a)}],bitfield:["parametrizable",(t,e)=>{let a="";const n=Math.ceil(e.reduce((l,{size:o})=>l+o,0)/8);a+=`if ( offset + ${n} > buffer.length) { throw new PartialReadError() }
`;const r=[];let i=8;a+=`let bits = buffer[offset++]
`;for(const l in e){const{name:o,size:h,signed:y}=e[l],v=t.getField(o);for(;i<h;)i+=8,a+=`bits = (bits << 8) | buffer[offset++]
`;a+=`let ${v} = (bits >> `+(i-h)+") & 0x"+((1<<h)-1).toString(16)+`
`,y&&(a+=`${v} -= (${v} & 0x`+(1<<h-1).toString(16)+`) << 1
`),i-=h,o===v?r.push(o):r.push(`${o}: ${v}`)}return a+="return { value: { "+r.join(", ")+` }, size: ${n} }`,t.wrapCode(a)}],mapper:["parametrizable",(t,e)=>{let a="const { value, size } = "+t.callType(e.type)+`
`;return a+="return { value: "+JSON.stringify(sp(e.mappings))+"[value] || value, size }",t.wrapCode(a)}]},Write:{pstring:["parametrizable",(t,e)=>{let a=`const length = Buffer.byteLength(value, "${e.encoding||"utf8"}")
`;if(e.countType)a+="offset = "+t.callType("length",e.countType)+`
`;else if(e.count===null)throw new Error("pstring must contain either count or countType");return a+=`buffer.write(value, offset, length, "${e.encoding||"utf8"}")
`,a+="return offset + length",t.wrapCode(a)}],buffer:["parametrizable",(t,e)=>{let a=`if (!(value instanceof Buffer)) value = Buffer.from(value)
`;if(e.countType)a+="offset = "+t.callType("value.length",e.countType)+`
`;else if(e.count===null)throw new Error("buffer must contain either count or countType");return a+=`value.copy(buffer, offset)
`,a+="return offset + value.length",t.wrapCode(a)}],bitfield:["parametrizable",(t,e)=>{let a="",n=0,r="";for(const i in e){let{name:l,size:o}=e[i];const h=t.getField(l);for(r+=`let ${h} = value.${l}
`;o>0;){const y=Math.min(8-n,o),v=(1<<y)-1;a!==""&&(a=`((${a}) << ${y}) | `),a+=`((${h} >> `+(o-y)+") & 0x"+v.toString(16)+")",o-=y,n+=y,n===8&&(r+="buffer[offset++] = "+a+`
`,n=0,a="")}}return n!==0&&(r+="buffer[offset++] = ("+a+") << "+(8-n)+`
`),r+="return offset",t.wrapCode(r)}],mapper:["parametrizable",(t,e)=>{const a=JSON.stringify(mi(e.mappings)),n="return "+t.callType(`${a}[value] || value`,e.type);return t.wrapCode(n)}]},SizeOf:{pstring:["parametrizable",(t,e)=>{let a=`let size = Buffer.byteLength(value, "${e.encoding||"utf8"}")
`;if(e.countType)a+="size += "+t.callType("size",e.countType)+`
`;else if(e.count===null)throw new Error("pstring must contain either count or countType");return a+="return size",t.wrapCode(a)}],buffer:["parametrizable",(t,e)=>{let a=`let size = value instanceof Buffer ? value.length : Buffer.from(value).length
`;if(e.countType)a+="size += "+t.callType("size",e.countType)+`
`;else if(e.count===null)throw new Error("buffer must contain either count or countType");return a+="return size",t.wrapCode(a)}],bitfield:["parametrizable",(t,e)=>`${Math.ceil(e.reduce((n,{size:r})=>n+r,0)/8)}`],mapper:["parametrizable",(t,e)=>{const a=JSON.stringify(mi(e.mappings)),n="return "+t.callType(`${a}[value] || value`,e.type);return t.wrapCode(n)}]}};function sp(t){const e={};for(let a in t){let n=t[a];a=Ts(a),isNaN(n)||(n=Number(n)),n==="true"&&(n=!0),n==="false"&&(n=!1),e[a]=n}return e}function mi(t){const e={};for(let a in t){const n=t[a];a=Ts(a),e[n]=isNaN(a)?a:parseInt(a,10)}return e}function Ts(t){return t.match(/^0x[0-9a-f]+$/i)?parseInt(t.substring(2),16):t}const Wr=us,Qr=ds,wn=ap,En=np,bn=ip,{tryCatch:Da}=Ir;let op=class{constructor(){this.readCompiler=new Os,this.writeCompiler=new xs,this.sizeOfCompiler=new Fs}addTypes(e){this.readCompiler.addTypes(e.Read),this.writeCompiler.addTypes(e.Write),this.sizeOfCompiler.addTypes(e.SizeOf)}addTypesToCompile(e){this.readCompiler.addTypesToCompile(e),this.writeCompiler.addTypesToCompile(e),this.sizeOfCompiler.addTypesToCompile(e)}addProtocol(e,a){this.readCompiler.addProtocol(e,a),this.writeCompiler.addProtocol(e,a),this.sizeOfCompiler.addProtocol(e,a)}addVariable(e,a){this.readCompiler.addContextType(e,a),this.writeCompiler.addContextType(e,a),this.sizeOfCompiler.addContextType(e,a)}compileProtoDefSync(e={printCode:!1}){const a=this.sizeOfCompiler.generate(),n=this.writeCompiler.generate(),r=this.readCompiler.generate();e.printCode&&(console.log("// SizeOf:"),console.log(a),console.log("// Write:"),console.log(n),console.log("// Read:"),console.log(r));const i=this.sizeOfCompiler.compile(a),l=this.writeCompiler.compile(n),o=this.readCompiler.compile(r);return new As(i,l,o)}};class As{constructor(e,a,n){this.sizeOfCtx=e,this.writeCtx=a,this.readCtx=n}read(e,a,n){const r=this.readCtx[n];if(!r)throw new Error("missing data type: "+n);return r(e,a)}write(e,a,n,r){const i=this.writeCtx[r];if(!i)throw new Error("missing data type: "+r);return i(e,a,n)}setVariable(e,a){this.sizeOfCtx[e]=a,this.readCtx[e]=a,this.writeCtx[e]=a}sizeOf(e,a){const n=this.sizeOfCtx[a];if(!n)throw new Error("missing data type: "+a);return typeof n=="function"?n(e):n}createPacketBuffer(e,a){const n=Da(()=>this.sizeOf(a,e),i=>{throw i.message=`SizeOf error for ${i.field} : ${i.message}`,i}),r=Buffer.allocUnsafe(n);return Da(()=>this.write(a,r,0,e),i=>{throw i.message=`Write error for ${i.field} : ${i.message}`,i}),r}parsePacketBuffer(e,a,n=0){const{value:r,size:i}=Da(()=>this.read(a,n,e),l=>{throw l.message=`Read error for ${l.field} : ${l.message}`,l});return{data:r,metadata:{size:i},buffer:a.slice(0,i),fullBuffer:a}}}class _n{constructor(){this.primitiveTypes={},this.native={},this.context={},this.types={},this.scopeStack=[],this.parameterizableTypes={}}addNativeType(e,a){this.primitiveTypes[e]=`native.${e}`,this.native[e]=a,this.types[e]="native"}addContextType(e,a){this.primitiveTypes[e]=`ctx.${e}`,this.context[e]=a.toString()}addParametrizableType(e,a){this.parameterizableTypes[e]=a}addTypes(e){for(const[a,[n,r]]of Object.entries(e))n==="native"?this.addNativeType(a,r):n==="context"?this.addContextType(a,r):n==="parametrizable"&&this.addParametrizableType(a,r)}addTypesToCompile(e){for(const[a,n]of Object.entries(e))(!this.types[a]||this.types[a]==="native")&&(this.types[a]=n)}addProtocol(e,a){const n=this;function r(i,l){i!==void 0&&(i.types&&n.addTypesToCompile(i.types),r(i[l.shift()],l))}r(e,a.slice(0))}indent(e,a="  "){return e.split(`
`).map(n=>a+n).join(`
`)}getField(e){const a=e.split("/");let n=this.scopeStack.length-1;const r=["value","enum","default","size","offset"];for(;a.length;){const i=this.scopeStack[n],l=a.shift();if(l===".."){n--;continue}if(i[l])return i[l]+(a.length?"."+a.join("."):"");if(a.length!==0)throw new Error("Cannot access properties of undefined field");let o=0;r.includes(l)&&o++;for(let h=0;h<n;h++)this.scopeStack[h][l]&&o++;return i[l]=l+(o||""),i[l]}throw new Error("Unknown field "+a)}generate(){this.scopeStack=[{}];const e=[];for(const a in this.context)e[a]=this.context[a];for(const a in this.types)e[a]||(this.types[a]!=="native"?(e[a]=this.compileType(this.types[a]),e[a].startsWith("ctx")&&(e[a]="function () { return "+e[a]+"(...arguments) }"),isNaN(e[a])||(e[a]=this.wrapCode("  return "+e[a]))):e[a]=`native.${a}`);return`() => {
`+this.indent(`const ctx = {
`+this.indent(Object.keys(e).map(a=>a+": "+e[a]).join(`,
`))+`
}
return ctx`)+`
}`}compile(e){const a=this.native,{PartialReadError:n}=Ir;return new Function("native","PartialReadError","return ("+e+")")(a,n)()}}class Os extends _n{constructor(){super(),this.addTypes(wn.Read),this.addTypes(En.Read),this.addTypes(bn.Read);for(const e in Wr)this.addNativeType(e,Wr[e][0]);for(const e in Qr)this.addNativeType(e,Qr[e][0])}compileType(e){if(e instanceof Array){if(this.parameterizableTypes[e[0]])return this.parameterizableTypes[e[0]](this,e[1]);if(this.types[e[0]]&&this.types[e[0]]!=="native")return this.wrapCode("return "+this.callType(e[0],"offset",Object.values(e[1])));throw new Error("Unknown parametrizable type: "+JSON.stringify(e[0]))}else return e==="native"?"null":this.types[e]?"ctx."+e:this.primitiveTypes[e]}wrapCode(e,a=[]){return a.length>0?"(buffer, offset, "+a.join(", ")+`) => {
`+this.indent(e)+`
}`:`(buffer, offset) => {
`+this.indent(e)+`
}`}callType(e,a="offset",n=[]){if(e instanceof Array&&this.types[e[0]]&&this.types[e[0]]!=="native")return this.callType(e[0],a,Object.values(e[1]));e instanceof Array&&e[0]==="container"&&this.scopeStack.push({});const r=this.compileType(e);return e instanceof Array&&e[0]==="container"&&this.scopeStack.pop(),n.length>0?"("+r+`)(buffer, ${a}, `+n.map(i=>this.getField(i)).join(", ")+")":"("+r+`)(buffer, ${a})`}}class xs extends _n{constructor(){super(),this.addTypes(wn.Write),this.addTypes(En.Write),this.addTypes(bn.Write);for(const e in Wr)this.addNativeType(e,Wr[e][1]);for(const e in Qr)this.addNativeType(e,Qr[e][1])}compileType(e){if(e instanceof Array){if(this.parameterizableTypes[e[0]])return this.parameterizableTypes[e[0]](this,e[1]);if(this.types[e[0]]&&this.types[e[0]]!=="native")return this.wrapCode("return "+this.callType("value",e[0],"offset",Object.values(e[1])));throw new Error("Unknown parametrizable type: "+e[0])}else return e==="native"?"null":this.types[e]?"ctx."+e:this.primitiveTypes[e]}wrapCode(e,a=[]){return a.length>0?"(value, buffer, offset, "+a.join(", ")+`) => {
`+this.indent(e)+`
}`:`(value, buffer, offset) => {
`+this.indent(e)+`
}`}callType(e,a,n="offset",r=[]){if(a instanceof Array&&this.types[a[0]]&&this.types[a[0]]!=="native")return this.callType(e,a[0],n,Object.values(a[1]));a instanceof Array&&a[0]==="container"&&this.scopeStack.push({});const i=this.compileType(a);return a instanceof Array&&a[0]==="container"&&this.scopeStack.pop(),r.length>0?"("+i+`)(${e}, buffer, ${n}, `+r.map(l=>this.getField(l)).join(", ")+")":"("+i+`)(${e}, buffer, ${n})`}}class Fs extends _n{constructor(){super(),this.addTypes(wn.SizeOf),this.addTypes(En.SizeOf),this.addTypes(bn.SizeOf);for(const e in Wr)this.addNativeType(e,Wr[e][2]);for(const e in Qr)this.addNativeType(e,Qr[e][2])}addNativeType(e,a){this.primitiveTypes[e]=`native.${e}`,isNaN(a)?this.native[e]=a:this.native[e]=n=>a,this.types[e]="native"}compileType(e){if(e instanceof Array){if(this.parameterizableTypes[e[0]])return this.parameterizableTypes[e[0]](this,e[1]);if(this.types[e[0]]&&this.types[e[0]]!=="native")return this.wrapCode("return "+this.callType("value",e[0],Object.values(e[1])));throw new Error("Unknown parametrizable type: "+e[0])}else return e==="native"?"null":isNaN(this.primitiveTypes[e])?this.types[e]?"ctx."+e:this.primitiveTypes[e]:this.primitiveTypes[e]}wrapCode(e,a=[]){return a.length>0?"(value, "+a.join(", ")+`) => {
`+this.indent(e)+`
}`:`(value) => {
`+this.indent(e)+`
}`}callType(e,a,n=[]){if(a instanceof Array&&this.types[a[0]]&&this.types[a[0]]!=="native")return this.callType(e,a[0],Object.values(a[1]));a instanceof Array&&a[0]==="container"&&this.scopeStack.push({});const r=this.compileType(a);return a instanceof Array&&a[0]==="container"&&this.scopeStack.pop(),isNaN(r)?n.length>0?"("+r+`)(${e}, `+n.map(i=>this.getField(i)).join(", ")+")":"("+r+`)(${e})`:r}}var lp={ReadCompiler:Os,WriteCompiler:xs,SizeOfCompiler:Fs,ProtoDefCompiler:op,CompiledProtodef:As};const Cs=ld,up=new Cs;var fp={ProtoDef:Cs,Serializer:Fa.Serializer,Parser:Fa.Parser,FullPacketParser:Fa.FullPacketParser,Compiler:lp,types:up.types,utils:Ir};(function(t){t.exports=fp})(_o);const cp="native",hp="native",dp="native",pp="native",vp="native",mp="native",yp="native",gp="native",wp="native",Ep="native",bp=["pstring",{countType:"u16"}],_p=["array",{countType:"i32",type:"i8"}],Pp=["container",[{name:"type",type:"nbtMapper"},{name:"value",type:["array",{countType:"i32",type:["nbtSwitch",{type:"type"}]}]}]],Sp=["array",{countType:"i32",type:"i32"}],$p=["array",{countType:"i32",type:"i64"}],Ip=["mapper",{type:"i8",mappings:{0:"end",1:"byte",2:"short",3:"int",4:"long",5:"float",6:"double",7:"byteArray",8:"string",9:"list",10:"compound",11:"intArray",12:"longArray"}}],Rp=["switch",{compareTo:"$type",fields:{end:"void",byte:"i8",short:"i16",int:"i32",long:"i64",float:"f32",double:"f64",byteArray:"byteArray",string:"shortString",list:"list",compound:"compound",intArray:"intArray",longArray:"longArray"}}],Tp=["container",[{name:"type",type:"nbtMapper"},{name:"name",type:"nbtTagName"},{name:"value",type:["nbtSwitch",{type:"type"}]}]],Ap={void:"native",container:cp,i8:hp,switch:"native",compound:dp,i16:pp,u16:vp,i32:mp,i64:yp,f32:gp,f64:wp,pstring:Ep,shortString:bp,byteArray:_p,list:Pp,intArray:Sp,longArray:$p,nbtMapper:Ip,nbtSwitch:Rp,nbt:Tp},Op="native",xp="native",Fp="native",Cp="native",Dp="native",Bp="native",Lp="native",Np="native",zp="native",jp="native",Up="native",Mp=["pstring",{countType:"varint"}],qp=["array",{countType:"zigzag32",type:"i8"}],kp=["container",[{name:"type",type:"nbtMapper"},{name:"value",type:["array",{countType:"zigzag32",type:["nbtSwitch",{type:"type"}]}]}]],Vp=["array",{countType:"zigzag32",type:"i32"}],Hp=["array",{countType:"zigzag32",type:"i64"}],Wp=["mapper",{type:"i8",mappings:{0:"end",1:"byte",2:"short",3:"int",4:"long",5:"float",6:"double",7:"byteArray",8:"string",9:"list",10:"compound",11:"intArray",12:"longArray"}}],Qp=["switch",{compareTo:"$type",fields:{end:"void",byte:"i8",short:"i16",int:"zigzag32",long:"zigzag64",float:"f32",double:"f64",byteArray:"byteArray",string:"shortString",list:"list",compound:"compound",intArray:"intArray",longArray:"longArray"}}],Kp=["container",[{name:"type",type:"nbtMapper"},{name:"name",type:"nbtTagName"},{name:"value",type:["nbtSwitch",{type:"type"}]}]],Gp={void:"native",container:Op,i8:xp,switch:"native",compound:Fp,zigzag32:Cp,zigzag64:Dp,i16:Bp,i32:Lp,i64:Np,f32:zp,f64:jp,pstring:Up,shortString:Mp,byteArray:qp,list:kp,intArray:Vp,longArray:Hp,nbtMapper:Wp,nbtSwitch:Qp,nbt:Kp};var Ba,yi;function Jp(){return yi||(yi=1,Ba={Read:{compound:["context",(t,e)=>{const a={value:{},size:0};for(;e!==t.length;){const n=ctx.i8(t,e);if(n.value===0){a.size+=n.size;break}if(n.value>20)throw new Error(`Invalid tag: ${n.value} > 20`);const r=ctx.nbt(t,e);e+=r.size,a.size+=r.size,a.value[r.value.name]={type:r.value.type,value:r.value.value}}return a}]},Write:{compound:["context",(t,e,a)=>{for(const n in t)a=ctx.nbt({name:n,type:t[n].type,value:t[n].value},e,a);return a=ctx.i8(0,e,a),a}]},SizeOf:{compound:["context",t=>{let e=1;for(const a in t)e+=ctx.nbt({name:a,type:t[a].type,value:t[a].value});return e}]}}),Ba}var La,gi;function Yp(){if(gi)return La;gi=1;function t(n,r){const{value:i,size:l}=ctx.shortString(n,r);for(const o of i)if(o==="\0")throw new Error("unexpected tag end");return{value:i,size:l}}function e(...n){return ctx.shortString(...n)}function a(...n){return ctx.shortString(...n)}return La={Read:{nbtTagName:["context",t]},Write:{nbtTagName:["context",e]},SizeOf:{nbtTagName:["context",a]}},La}var Na,wi;function Zp(){if(wi)return Na;wi=1;function t(l){l=l<<1^l>>63;let o=0;for(;l&-128;)l>>>=7,o++;return o+1}function e(l){typeof l.valueOf()=="object"?l=BigInt(l[0])<<32n|BigInt(l[1]):typeof l!="bigint"&&(l=BigInt(l)),l=l<<1n^l>>63n;let o=0;for(;l>127n;)l>>=7n,o++;return o+1}function a(l,o){let h=BigInt(0),y=0n,v=o,w=0;for(;;){if(v+1>l.length)throw new Error("unexpected buffer end");const f=l.readUInt8(v);if(h|=(BigInt(f)&0x7fn)<<y,v++,!(f&128)){w=v-o;break}if(y+=7n,y>63n)throw new Error(`varint is too big: ${y}`)}return{value:h>>1n^-(h&1n),size:w}}function n(l,o,h){typeof l.valueOf()=="object"?l=BigInt.asIntN(64,BigInt(l[0])<<32n)|BigInt(l[1]):typeof l!="bigint"&&(l=BigInt(l)),l=l<<1n^l>>63n;let y=0;for(;l>127n;){const v=Number(l&0xFFn);o.writeUInt8(v|128,h+y),y++,l>>=7n}return o.writeUInt8(Number(l),h+y),h+y+1}function r(l,o){let h=0,y=0,v=o,w=0;for(;;){if(v+1>l.length)throw new Error("unexpected buffer end");const f=l.readUInt8(v);if(h|=(f&127)<<y,v++,!(f&128)){w=v-o;break}if(y+=7,y>31)throw new Error(`varint is too big: ${y}`)}return{value:(h<<63>>63^h)>>1^h&1<<63,size:w}}function i(l,o,h){l=l<<1^l>>31;let y=0;for(;l&-128;){const v=Number(l&255|128);o.writeUInt8(v,h+y),y++,l>>>=7}return o.writeUInt8(l,h+y),h+y+1}return Na={Read:{zigzag64:["native",a],zigzag32:["native",r]},Write:{zigzag64:["native",n],zigzag32:["native",i]},SizeOf:{zigzag64:["native",e],zigzag32:["native",t]}},Na}var za,Ei;function Xp(){return Ei||(Ei=1,za={Byte:"byte",Short:"short",Int:"int",Long:"long",Float:"float",Double:"double",ByteArray:"byteArray",String:"string",List:"list",Compound:"compound",IntArray:"intArray",LongArray:"longArray"}),za}const ev=Cr,{ProtoDefCompiler:rv}=ja.Compiler,Ds=JSON.stringify(Ap),tv=Ds.replace(/([iuf][0-7]+)/g,"l$1"),av=JSON.stringify(Gp).replace(/([if][0-7]+)/g,"l$1");function Pn(t){const e=new rv;e.addTypes(Jp()),e.addTypes(Yp());let a=Ds;return t==="littleVarint"?(e.addTypes(Zp()),a=av):t==="little"&&(a=tv),e.addTypesToCompile(JSON.parse(a)),e.compileProtoDefSync()}const Bs=Pn("big"),Ls=Pn("little"),nv=Pn("littleVarint"),ta={big:Bs,little:Ls,littleVarint:nv};function iv(t,e="big"){return e===!0&&(e="little"),ta[e].createPacketBuffer("nbt",t)}function sv(t,e="big"){return e===!0&&(e="little"),ta[e].parsePacketBuffer("nbt",t,t.startOffset).data}const ov=function(t){let e=!0;return t[0]!==31&&(e=!1),t[1]!==139&&(e=!1),e},Ns=t=>t[1]===0&&t[2]===0&&t[3]===0;async function at(t,e){ov(t)&&(t=await new Promise((n,r)=>{ev.gunzip(t,(i,l)=>{i?r(i):n(l)})}));const a=ta[e].parsePacketBuffer("nbt",t,t.startOffset);return a.metadata.buffer=t,a.type=e,a}async function lv(t,e,a){let n=null;if(typeof e=="function")a=e;else if(e===!0||e==="little")n="little";else if(e==="big")n="big";else if(e==="littleVarint")n="littleVarint";else if(e)throw new Error("Unrecognized format: "+e);if(t.startOffset=t.startOffset||0,!n&&!t.startOffset&&Ns(t)&&(t.startOffset+=8,n="little"),n)try{const l=await at(t,n);return a&&a(null,l.data,l.type,l.metadata),{parsed:l.data,type:l.type,metadata:l.metadata}}catch(l){if(a)return a(l);throw l}const r=({buffer:l,size:o})=>{const h=o,y=l.length-l.startOffset,w=l[h+l.startOffset]===10;if(h<y&&!w)throw new Error(`Unexpected EOF at ${h}: still have ${y-h} bytes to read !`)};let i=null;try{i=await at(t,"big"),r(i.metadata)}catch(l){try{i=await at(t,"little"),r(i.metadata)}catch{try{i=await at(t,"littleVarint"),r(i.metadata)}catch{if(a)return a(l);throw l}}}return a&&a(null,i.data,i.type,i.metadata),{parsed:i.data,type:i.type,metadata:i.metadata}}function zs(t){function e(a,n){return n==="compound"?Object.keys(a).reduce(function(r,i){return r[i]=zs(a[i]),r},{}):n==="list"?a.value.map(function(r){return e(r,a.type)}):a}return e(t.value,t.type)}const uv={bool(t=!1){return{type:"bool",value:t}},short(t){return{type:"short",value:t}},byte(t){return{type:"byte",value:t}},string(t){return{type:"string",value:t}},comp(t,e=""){return{type:"compound",name:e,value:t}},int(t){return{type:"int",value:t}},float(t){return{type:"float",value:t}},double(t){return{type:"double",value:t}},long(t){return{type:"long",value:t}},list(t){return{type:"list",value:{type:(t==null?void 0:t.type)??"end",value:(t==null?void 0:t.value)??[]}}},byteArray(t=[]){return{type:"byteArray",value:t}},shortArray(t=[]){return{type:"shortArray",value:t}},intArray(t=[]){return{type:"intArray",value:t}},longArray(t=[]){return{type:"longArray",value:t}}};var bi={writeUncompressed:iv,parseUncompressed:sv,simplify:zs,hasBedrockLevelHeader:Ns,parse:lv,parseAs:at,proto:Bs,protoLE:Ls,protos:ta,TagType:Xp(),...uv},Oe;(function(t){t[t.End=0]="End",t[t.Byte=1]="Byte",t[t.Short=2]="Short",t[t.Int=3]="Int",t[t.Long=4]="Long",t[t.Float=5]="Float",t[t.Double=6]="Double",t[t.ByteArray=7]="ByteArray",t[t.String=8]="String",t[t.List=9]="List",t[t.Compound=10]="Compound",t[t.IntArray=11]="IntArray",t[t.LongArray=12]="LongArray"})(Oe||(Oe={}));class Yr{constructor(e){this.value=e}valueOf(){return this.value}}class Zr{constructor(e){this.value=e}valueOf(){return this.value}}let Lr=class{constructor(e){this.value=e}valueOf(){return this.value}};class Xr{constructor(e){this.value=e}valueOf(){return this.value}}function it(t){if(t instanceof Yr)return Oe.Byte;if(t instanceof Zr)return Oe.Short;if(t instanceof Lr)return Oe.Int;if(typeof t=="bigint")return Oe.Long;if(t instanceof Xr)return Oe.Float;if(typeof t=="number")return Oe.Double;if(t instanceof Buffer||t instanceof Int8Array)return Oe.ByteArray;if(typeof t=="string")return Oe.String;if(t instanceof Array)return Oe.List;if(t.constructor==Object||t instanceof Map)return Oe.Compound;if(t instanceof Int32Array)return Oe.IntArray;if(t instanceof BigInt64Array)return Oe.LongArray;throw new Error("Invalid tag value")}const Lt=/^[0-9A-Za-z.+_-]+$/;function fv(t,e={}){const a=!!e.pretty,n=e.breakLength||70,r=e.quote=="single"?"'":e.quote=="double"?'"':null,i=" ".repeat(4);function l(h){let y=r??'"';if(r==null)for(let v=0;v<h.length&&v<8;v++){switch(h[v]){case"'":y='"';break;case'"':y="'";break;default:continue}break}return`${y}${h.replace(RegExp(`[${y}\\\\]`,"g"),v=>`\\${v}`)}${y}`}function o(h,y){const v=a?" ":"",w=a?", ":",";if(h instanceof Yr)return`${h.value}b`;if(h instanceof Zr)return`${h.value}s`;if(h instanceof Lr)return`${h.value|0}`;if(typeof h=="bigint")return`${h}l`;if(h instanceof Xr)return`${h.value}f`;if(typeof h=="number")return Number.isInteger(h)?`${h}.0`:h.toString();if(typeof h=="string")return l(h);if(h instanceof Buffer||h instanceof Int8Array)return`[B;${v}${[...h].join(w)}]`;if(h instanceof Int32Array)return`[I;${v}${[...h].join(w)}]`;if(h instanceof BigInt64Array)return`[L;${v}${[...h].join(w)}]`;if(h instanceof Array){const _=h.map(f=>o(f,y+1));return _.reduce((f,p)=>f+p.length,0)>n||_.some(f=>f.includes(`
`))?`[
${_.map(f=>i.repeat(y)+f).join(`,
`)}
${i.repeat(y-1)}]`:`[${_.join(w)}]`}else{const _=(h instanceof Map?[...h]:Object.entries(h).filter(([f,p])=>p!=null)).map(([f,p])=>(Lt.test(f)||(f=l(f)),`${f}:${v}${o(p,y+1)}`));return a&&_.reduce((f,p)=>f+p.length,0)>n?`{
${_.map(f=>i.repeat(y)+f).join(`,
`)}
${i.repeat(y-1)}}`:`{${v}${_.join(w)}${v}}`}}return o(t,1)}function js(t,e={}){let a=0,n=0,r="";const i=()=>new Error("Unexpected end"),l=R=>new Error(`Unexpected character ${t[a]} at position ${a}`);function o(){for(;a<t.length;){if(t[a]!=" "&&t[a]!=`
`)return;a+=1}}function h(){if(!"-0123456789".includes(t[a]))return null;n=a++;let R=!1;for(;a<t.length;)if(r=t[a++],!"0123456789".includes(r))if(r=="."){if(R)return a--,null;R=!0}else return r=="f"||r=="F"?new Xr(+t.slice(n,a-1)):r=="d"||r=="D"?+t.slice(n,a-1):r=="b"||r=="B"?new Yr(+t.slice(n,a-1)):r=="s"||r=="S"?new Zr(+t.slice(n,a-1)):r=="l"||r=="L"?BigInt(t.slice(n,a-1)):R?+t.slice(n,--a):new Lr(+t.slice(n,--a));return R?+t.slice(n,a):new Lr(+t.slice(n,a))}function y(){for(n=a;a<t.length&&Lt.test(t[a]);)a++;if(a-n==0)throw a==t.length?i():l();return t.slice(n,a)}function v(){const R=t[a];n=++a;let A="";for(;a<t.length;)if(r=t[a++],r=="\\")A+=t.slice(n,a-1)+t[a],n=++a;else if(r==R)return A+t.slice(n,a-1);throw i()}function w(){return t[a]=='"'||t[a]=="'"?v():y()}function _(R,A){if(o(),t[a]==","){if(R)throw l();a++,o()}else if(!R&&t[a]!=A)throw l()}function f(){const R=[];let A=!0;for(;;){if(_(A,"}"),A=!1,t[a]=="}")return a++,e.useMaps?new Map(R):R.reduce((L,[V,Y])=>(L[V]=Y,L),{});const C=w();if(o(),t[a++]!=":")throw l();R.push([C,I()])}}function p(R){const A=[];for(;a<t.length;){if(_(A.length==0,"]"),t[a]=="]"){if(a++,R=="B")return Buffer.from(A.map(C=>+C));if(R=="I")return Int32Array.from(A.map(C=>+C));if(R=="L")return BigInt64Array.from(A.map(C=>BigInt(C)))}for(n=a,t[a]=="-"&&a++;a<t.length&&"0123456789".includes(t[a]);)a++;if(a-n==0||Lt.test(t[a]))throw l();A.push(t.slice(n,a))}throw i()}function P(){if("BILbil".includes(t[a])&&t[a+1]==";")return p(t[(a+=2)-2].toUpperCase());const R=[];for(;a<t.length;){if(o(),t[a]==","){if(R.length==0)throw l();a++,o()}else if(R.length>0&&t[a]!="]")throw l();if(t[a]=="]")return a++,R;R.push(I())}throw i()}function I(){if(o(),n=a,r=t[a],r=="{")return a++,f();if(r=="[")return a++,P();if(r=='"'||r=="'")return v();const R=h();return R!=null&&(a==t.length||!Lt.test(t[a]))?R:t.slice(n,a)+y()}return I()}function cv(t,e={}){const a=t.readUInt8(0);if(a==Oe.End)return{name:null,value:null,length:1};let n=null,r=1;if(!e.unnamed){const l=t.readUInt16BE(r);r+=2,n=t.toString("utf-8",r,r+=l)}const i=Ya(a,t,r,!!e.useMaps);return{name:n,value:i.value,length:i.offset}}function Us(t,e){let a=Buffer.alloc(1024),n=0;return n=a.writeUInt8(e==null?Oe.End:it(e),n),e!=null&&t!=null&&({buffer:a,offset:n}=Ja(t,a,n)),e!=null&&({buffer:a,offset:n}=Za(e,a,n)),a.slice(0,n)}function Ja(t,e,a){const n=Buffer.from(t);return e=Vr(e,a,n.length+2),a=e.writeUInt16BE(n.length,a),n.copy(e,a),a+=n.length,{buffer:e,offset:a}}function Vr(t,e,a){for(;t.length<e+a;)t=Buffer.concat([t,Buffer.alloc(t.length)]);return t}function Ya(t,e,a,n){let r;switch(t){case Oe.Byte:r=new Yr(e.readInt8((a+=1)-1));break;case Oe.Short:r=new Zr(e.readInt16BE((a+=2)-2));break;case Oe.Int:r=new Lr(e.readInt32BE((a+=4)-4));break;case Oe.Long:r=new DataView(e.buffer,e.byteOffset,e.byteLength).getBigInt64(a),a+=8;break;case Oe.Float:r=new Xr(e.readFloatBE((a+=4)-4));break;case Oe.Double:r=e.readDoubleBE((a+=8)-8);break;case Oe.ByteArray:{const i=e.readUInt32BE(a);a+=4,r=e.slice(a,a+=i);break}case Oe.String:{const i=e.readUInt16BE(a);r=(a+=2,e.toString("utf-8",a,a+=i));break}case Oe.List:{const i=e.readUInt8(a),l=e.readUInt32BE(a+1);a+=5;const o=[];for(let h=0;h<l;h++)({value:r,offset:a}=Ya(i,e,a,n)),o.push(r);r=o;break}case Oe.Compound:{const i=n?new Map:{};for(;;){const l=e.readUInt8(a);if(a+=1,l==Oe.End)break;const o=e.readUInt16BE(a);a+=2;const h=e.toString("utf-8",a,a+=o);({value:r,offset:a}=Ya(l,e,a,n)),n?i.set(h,r):i[h]=r}r=i;break}case Oe.IntArray:{const i=e.readUInt32BE(a);a+=4;const l=r=new Int32Array(i);for(let o=0;o<i;o++)l[o]=e.readInt32BE(a+o*4);a+=l.buffer.byteLength;break}case Oe.LongArray:{const i=e.readUInt32BE(a);a+=4;const l=new DataView(e.buffer,e.byteOffset,e.byteLength),o=r=new BigInt64Array(i);for(let h=0;h<i;h++)o[h]=l.getBigInt64(a+h*8);a+=o.buffer.byteLength;break}default:throw new Error(`Tag type ${t} not implemented`)}return{value:r,offset:a}}function Za(t,e,a){if(e=Vr(e,a,8),t instanceof Yr)a=t.value<0?e.writeInt8(t.value,a):e.writeUInt8(t.value,a);else if(t instanceof Zr)a=t.value<0?e.writeInt16BE(t.value,a):e.writeUInt16BE(t.value,a);else if(t instanceof Lr)a=t.value<0?e.writeInt32BE(t.value,a):e.writeUInt32BE(t.value,a);else if(typeof t=="bigint")new DataView(e.buffer,e.byteOffset,e.byteLength).setBigInt64(a,t),a+=8;else if(t instanceof Xr)a=e.writeFloatBE(t.value,a);else if(typeof t=="number")a=e.writeDoubleBE(t,a);else if(t instanceof Buffer||t instanceof Int8Array)a=e.writeUInt32BE(t.length,a),e=Vr(e,a,t.length),(t instanceof Buffer?t:Buffer.from(t)).copy(e,a),a+=t.length;else if(t instanceof Array){const n=t.length>0?it(t[0]):Oe.End;a=e.writeUInt8(n,a),a=e.writeUInt32BE(t.length,a);for(const r of t){if(it(r)!=n)throw new Error("Odd tag type in list");({buffer:e,offset:a}=Za(r,e,a))}}else if(typeof t=="string")({buffer:e,offset:a}=Ja(t,e,a));else if(t instanceof Int32Array){a=e.writeUInt32BE(t.length,a),e=Vr(e,a,t.byteLength);for(let n=0;n<t.length;n++)e.writeInt32BE(t[n],a+n*4);a+=t.byteLength}else if(t instanceof BigInt64Array){a=e.writeUInt32BE(t.length,a),e=Vr(e,a,t.byteLength);const n=new DataView(e.buffer,e.byteOffset,e.byteLength);for(let r=0;r<t.length;r++)n.setBigInt64(a+r*8,t[r]);a+=t.byteLength}else{for(const[n,r]of t instanceof Map?t:Object.entries(t).filter(([i,l])=>l!=null))a=e.writeUInt8(it(r),a),{buffer:e,offset:a}=Ja(n,e,a),{buffer:e,offset:a}=Za(r,e,a),e=Vr(e,a,1);a=e.writeUInt8(0,a)}return{buffer:e,offset:a}}const hv=Object.freeze(Object.defineProperty({__proto__:null,Byte:Yr,Float:Xr,Int:Lr,Short:Zr,get TagType(){return Oe},decode:cv,encode:Us,getTagType:it,parse:js,stringify:fv},Symbol.toStringTag,{value:"Module"}));window.native=()=>{};const{Int:yr}=hv;let Xa;async function dv(){let t=document.getElementById("fileInput"),e=$("#submitBtn");e.attr("disabled",!0),Xa=t.files[0];let a=await Xa.text();try{await pv(a)}catch(n){console.log(n),alert(": ")}e.attr("disabled",!1)}async function pv(t,e){let a=t.replace(/[\r\n\t]/g,""),n=js(a),r={format_version:new yr(1),size:[new yr(1),new yr(1),new yr(1)],structure:{block_indices:[[new yr(0)],[new yr(-1)]],entities:[{Item:n,Pos:[],identifier:"minecraft:item"}],palette:{default:{block_palette:[{name:"minecraft:air"}],block_position_data:{}}}},structure_world_origin:[new yr(0),new yr(0),new yr(0)]},i=Us("",r),l=await bi.parse(i),o=bi.writeUncompressed(l.parsed,"little");const h=new Blob([o]),y=URL.createObjectURL(h),v=document.createElement("a");document.body.appendChild(v),v.download=Xa.name+".mcstructure",v.href=y,v.click(),v.remove(),URL.revokeObjectURL(y)}window.submit=dv;
